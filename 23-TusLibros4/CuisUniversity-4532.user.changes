

----QUIT----(9 March 2021 14:58:42) CuisUniversity-4532.image priorSource: 13044060!

----STARTUP---- (9 March 2021 14:58:43) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4532.image!


----QUIT----(9 March 2021 14:58:43) CuisUniversity-4532.image priorSource: 16885479!

----STARTUP---- (22 March 2021 16:45:13) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


a = 1.!

a == 1.!

a == a. false !

a == a. !

1 + 1.!

a === a. !

a === a. !

a = a.!

a == a.  !

----End fileIn of /home/jampuero/Documentos/isw1/tps-2021/Numeros de Peano Tests De Verificacion.st----!

Object subclass: #NameOfSubclass
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano'!

!classDefinition: #NameOfSubclass category: 'Numeros de Peano' stamp: 'ja 3/22/2021 18:05:37'!
Object subclass: #NameOfSubclass
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano'!

Object subclass: #NameOfSubclass
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano 3'!

!classDefinition: #NameOfSubclass category: 'Numeros de Peano 3' stamp: 'ja 3/22/2021 18:05:51'!
Object subclass: #NameOfSubclass
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano 3'!

!classRemoval: #NameOfSubclass stamp: 'ja 3/22/2021 18:06:00'!
Object subclass: #NameOfSubclass
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano 3'!

DenotativeObject subclass: #NameOfSubclass
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano'!

!classDefinition: #NameOfSubclass category: 'Numeros de Peano' stamp: 'ja 3/22/2021 18:16:10'!
DenotativeObject subclass: #NameOfSubclass
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano'!

DenotativeObject subclass: #I
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano'!

!classDefinition: #I category: 'Numeros de Peano' stamp: 'ja 3/22/2021 18:16:35'!
DenotativeObject subclass: #I
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano'!

!classRemoval: #NameOfSubclass stamp: 'ja 3/22/2021 18:16:41'!
DenotativeObject subclass: #NameOfSubclass
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano'!
!I class methodsFor: 'no messages' stamp: 'ja 3/22/2021 18:20:12'!
+ aNumber
	^ aNumber next
! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 3/22/2021 18:20:38' prior: 50859505!
+ aNumber
	^ aNumber next.
! !

Assert!

self!

!classRemoval: #I stamp: 'ja 3/22/2021 18:40:06'!
DenotativeObject subclass: #I
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano'!

!classRemoval: #TestsDeVerificacion stamp: 'ja 3/22/2021 18:40:09'!
DenotativeObject subclass: #TestsDeVerificacion
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros de Peano Tests De Verificacion'!

ObjectBuilder create: #Pepe
	collaboratorNames: ''
	in: 'Actividad1'
	!

!classDefinition: #Pepe category: 'Actividad1' stamp: 'ja 3/22/2021 19:03:19'!
DenotativeObject subclass: #Pepe
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Actividad1'!

!classDefinition: 'Pepe class' category: 'Actividad1' stamp: 'ja 3/22/2021 19:03:19'!
Pepe class
	instanceVariableNames: ''!

Pepe hola!
!Pepe class methodsFor: 'no messages' stamp: 'ja 3/22/2021 19:07:02'!
hola
	^ 'hola rey'.! !

Pepe hola!

ImageMorph new!

----QUIT----(22 March 2021 20:23:37) CuisUniversity-4532.image priorSource: 16885703!

----STARTUP---- (27 March 2021 17:50:54) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


ObjectBuilder create: #anObject
	collaboratorNames: ''
	in: 'Ejercicio2'
	!

!classDefinition: #anObject category: 'Ejercicio2' stamp: 'ja 3/27/2021 17:51:59'!
DenotativeObject subclass: #anObject
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio2'!

!classDefinition: 'anObject class' category: 'Ejercicio2' stamp: 'ja 3/27/2021 17:51:59'!
anObject class
	instanceVariableNames: ''!
!anObject class methodsFor: 'nil' stamp: 'ja 3/27/2021 17:52:48'!
turnOn! !
!anObject class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 17:52:58'!
turnOff! !
!anObject class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 17:53:13'!
speedUp! !
!anObject class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 17:53:19' overrides: 16880755!
break! !
!anObject class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 17:53:48'!
openTrunk! !

!classRenamed: #anObject as: #Vehicle stamp: 'ja 3/27/2021 17:54:11'!
Smalltalk renameClassNamed: #anObject as: #Vehicle!
!Vehicle class methodsFor: 'nil' stamp: 'ja 3/27/2021 17:54:46'!
asHtml! !
!Vehicle class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 17:54:48'!
save! !
!Vehicle class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 17:54:54'!
asJson! !

ObjectBuilder create: #AlanTuring
	collaboratorNames: ''
	in: 'Ejercicio3'
	!

!classDefinition: #AlanTuring category: 'Ejercicio3' stamp: 'ja 3/27/2021 17:55:26'!
DenotativeObject subclass: #AlanTuring
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio3'!

!classDefinition: 'AlanTuring class' category: 'Ejercicio3' stamp: 'ja 3/27/2021 17:55:26'!
AlanTuring class
	instanceVariableNames: ''!

AlanTuring!

 AlanTuring !

 AlanTuring !

AlanTuring dateOfBirth!

 AlanTuring printString.!

printString!

printString!

printString!

ObjectBuilder!

ObjectBuilder!

ObjectBuilder!

 AlanTuring printString. !

 AlanTuring dateOfBirth!
!AlanTuring class methodsFor: 'date' stamp: 'ja 3/27/2021 18:02:40'!
dateOfBirth
	self shouldBeImplemented.! !
!AlanTuring class methodsFor: 'date' stamp: 'ja 3/27/2021 18:03:06' prior: 50859614!
dateOfBirth
	^ June/23/1912.! !

 AlanTuring dateOfBirth.!

ObjectBuilder create: #AlonsoChurch
	collaboratorNames: ''
	in: 'Ejercicio3'
	!

!classDefinition: #AlonsoChurch category: 'Ejercicio3' stamp: 'ja 3/27/2021 18:04:10'!
DenotativeObject subclass: #AlonsoChurch
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio3'!

!classDefinition: 'AlonsoChurch class' category: 'Ejercicio3' stamp: 'ja 3/27/2021 18:04:10'!
AlonsoChurch class
	instanceVariableNames: ''!
!AlonsoChurch class methodsFor: 'nil' stamp: 'ja 3/27/2021 18:04:23'!
dateOfBirth
	^June/14/1903! !

AlonsoChurch dateOfBirth inspect!

ObjectBuilder create: #AlanKay
	collaboratorNames: ''
	in: 'Ejercicio3'
	!

!classDefinition: #AlanKay category: 'Ejercicio3' stamp: 'ja 3/27/2021 18:07:19'!
DenotativeObject subclass: #AlanKay
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio3'!

!classDefinition: 'AlanKay class' category: 'Ejercicio3' stamp: 'ja 3/27/2021 18:07:19'!
AlanKay class
	instanceVariableNames: ''!

ObjectBuilder create: #DanIngalls
	collaboratorNames: ''
	in: 'Ejercicio3'
	!

!classDefinition: #DanIngalls category: 'Ejercicio3' stamp: 'ja 3/27/2021 18:07:29'!
DenotativeObject subclass: #DanIngalls
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio3'!

!classDefinition: 'DanIngalls class' category: 'Ejercicio3' stamp: 'ja 3/27/2021 18:07:29'!
DanIngalls class
	instanceVariableNames: ''!
!AlanKay class methodsFor: 'no messages' stamp: 'ja 3/27/2021 18:07:42'!
dateOfBirth! !
!DanIngalls class methodsFor: 'no messages' stamp: 'ja 3/27/2021 18:07:48'!
dateOfBirth! !
!DanIngalls class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:08:10' prior: 50859672!
dateOfBirth
	^ January/1/1945! !
!AlanKay class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:08:32' prior: 50859669!
dateOfBirth
	^ January/1/1945
! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:11:23'!
ageDifferenceWithAlanTuring
	^ self dateOfBirth distanceTo: AlanKay dateOfBirth .! !

AlonsoChurch ageDifferenceWithAlanTuring .!
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:13:48' prior: 50859685!
ageDifferenceWithAlanTuring
	^ self dateOfBirth distanceTo: AlanKay dateOfBirth .! !

	^ self dateOfBirth distanceTo: AlanKay dateOfBirth .!
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:14:40' prior: 50859693!
ageDifferenceWithAlanTuring
	^ self dateOfBirth distanceTo: AlanKay dateOfBirth .! !

June!

	^June/14/1903!
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:15:50' prior: 50859637!
dateOfBirth
	^June/14/1903! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:15:55' prior: 50859708!
dateOfBirth
	^June/14/1903! !

	^June/14/1903!

	^June/14/1903!
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:17:56'!
ageDifferenceWithAlonsoChurch
	^ self dateOfBirth distanceTo: AlonsoChurch dateOfBirth .! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:18:04'!
ageDifferenceWithDanIngalls
	^ self dateOfBirth distanceTo: DanIngalls dateOfBirth .! !

AlonsoChurch ageDifferenceWithDanIngalls !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:18:46'!
ageDifferenceWithAlanKay
	^ self dateOfBirth distanceTo: AlanKay dateOfBirth .! !

!methodRemoval: AlonsoChurch class #ageDifferenceWithAlonsoChurch stamp: 'ja 3/27/2021 18:18:50'!
ageDifferenceWithAlonsoChurch
	^ self dateOfBirth distanceTo: AlonsoChurch dateOfBirth .!

AlonsoChurch ageDifferenceWithAlanKay !

self dateOfBirth distanceTo: DanIngalls dateOfBirth!

1 days !

year!
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/27/2021 18:23:46' prior: 50859724!
ageDifferenceWithDanIngalls
	^ self dateOfBirth distanceTo: DanIngalls dateOfBirth .! !

'hola', 'chau' size.!

('hola', 'chau') size.!

'hola', 'chau' size.!

'hola', 'chau' size.!

aStringOrText appendToString: self!

----QUIT----(27 March 2021 18:39:40) CuisUniversity-4532.image priorSource: 16892595!

----STARTUP---- (28 March 2021 15:55:53) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


AlanTuring hola.!

ObjectBuilder!

AlanTuring hola.!
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:03:33' overrides: 50849697!
doesNotUnderstand: aMessage

	^'No entiendo lo que me decis'! !

AlanTuring hola.!

AlanTuring chau. 'No entiendo lo que me decis' !
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:06:13' prior: 50859765 overrides: 50849697!
doesNotUnderstand: aMessage

	^'No entiendo lo que me decis con ' , aMessage ! !

AlanTuring hola. 	!

AlanTuring hola. 	!
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:06:41' prior: 50859773 overrides: 50849697!
doesNotUnderstand: aMessage

	^ 'No entiendo lo que me decis con ' , aMessage ! !
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:06:51' prior: 50859781 overrides: 50849697!
doesNotUnderstand: aMessage

	^ 'No entiendo lo que me decis con ' ! !

AlanTuring hola. 	!
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:07:15' prior: 50859788 overrides: 50849697!
doesNotUnderstand: aMessage

	^ 'No entiendo lo que me decis con ' , aMessage asString ! !

AlanTuring hola. 	 'No entiendo lo que me decis con ' !

AlanTuring hola.!
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:07:36' prior: 50859795 overrides: 50849697!
doesNotUnderstand: aMessage

	^ 'No entiendo lo que me decis con el mensaje ' , aMessage asString ! !

AlanTuring hola. !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/28/2021 16:10:24'!
ageDifferenceWith: aPerson 

	^ 'La diferencia es muy grande'! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/28/2021 16:10:57' prior: 50859811!
ageDifferenceWith: aPerson 

	^ self dateOfBirth distanceTo: aPerson dateOfBirth .! !

#dateOfBirth asMessage sendTo: AlanTuring.!

#dateOfBirth asMessage sendTo: AlanTuring. !

#dateOfBirth asMessage sendTo: AlanTuring. !

#dateOfBirth asMessage sendTo: AlanTuring. !

(#ageDifferenceWith: asMessageWith: Pepe) sendTo: AlonsoChurch .!

#dateOfBirth asMessage.!

#dateOfBirth asMessage.!

#dateOfBirth asMessage lookupClass .!

#ageDifferenceWith: asMessageWith: AlanTuring.!

#ageDifferenceWith: asMessageWith: AlanTuring.!

self sendTo: Pepe.!

self sendTo: AlanTuring.!

self sendTo: AlanTuring.!

self !

self class!

AlanTuring methodNamed: #dateOfBirth.!

AlanTuring methodNamed: #dateOfBirth. (AlanTuring class>>#dateOfBirth "a CompiledMethod(293759)") !

#methodNamed: asMessageWith: #dateOfBirth.!

#methodNamed: asMessageWith: #dateOfBirth.!

#methodNamed: asMessageWith: #dateOfBirth.!

self class!

self class !

AlanTuring methodNamed: #hola. !

AlonsoChurch methodNamed: #dateOfBirth.!

AlanTuring methodNamed: #hola. !

AlanTuring methodNamed: #dateOfBirth. !

AlanTuring methodNamed: #dateOfBirth. !

AlanTuring superclassName .!

AlanTuring superclass .!

DenotativeObject methodNamed: #dateOfBirth. !

self sourceCode !

self linesOfCode !
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:57:36' prior: 50859618!
dateOfBirth

	^ June/23/1912.! !

AlanTuring methodNamed: #dateOfBirth. !

AlanTuring methodNamed: #dateOfBirth. !

self linesOfCode !
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:58:01' prior: 50859860!
dateOfBirth
	"sdsdsds"
	^ June/23/1912.! !

self linesOfCode !
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:58:20' prior: 50859868!
dateOfBirth
	"sdsdsds"
	| x |
	x _ 1.
	^ June/23/1912.! !

self linesOfCode !

AlanTuring methodNamed: #dateOfBirth. !

AlanTuring methodNamed: #dateOfBirth. !

self linesOfCode !
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:58:47' prior: 50859873!
dateOfBirth
	
	^ June/23/1912.! !

self linesOfCode !

AlanTuring methodNamed: #dateOfBirth. !

self linesOfCode !
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 3/28/2021 16:59:11' prior: 50859882!
dateOfBirth
	^ June/23/1912.! !

AlanTuring methodNamed: #dateOfBirth. !

self valueWithReceiver: AlanTuring arguments: #().!

(AlanTuring methodNamed: #dateOfBirth) valueWithReceiver: AlanTuring arguments: #(). !

ObjectBuilder create: #Examples
	collaboratorNames: ''
	in: 'Ejercicio3'
	!

!classDefinition: #Examples category: 'Ejercicio3' stamp: 'ja 3/28/2021 17:08:10'!
DenotativeObject subclass: #Examples
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio3'!

!classDefinition: 'Examples class' category: 'Ejercicio3' stamp: 'ja 3/28/2021 17:08:10'!
Examples class
	instanceVariableNames: ''!
!Examples class methodsFor: 'no messages' stamp: 'ja 3/28/2021 17:08:40'!
moreExamples
"
#dateOfBirth asMessage sendTo: AlanTuring. 
(#ageDifferenceWith: asMessageWith: Pepe) sendTo: AlonsoChurch .
#dateOfBirth asMessage .
#ageDifferenceWith: asMessageWith: AlanTuring.
(AlanTuring methodNamed: #dateOfBirth) valueWithReceiver: AlanTuring arguments: #(). 
AlonsoChurch methodNamed: #dateOfBirth. 
#methodNamed: asMessageWith: #dateOfBirth.
AlanTuring superclass . DenotativeObject 
DenotativeObject methodNamed: #dateOfBirth. "! !

self valueWithReceiver: AlanTuring arguments: #().!

self valueWithReceiver: AlonsoChurch arguments: #().!

self valueWithReceiver: Examples arguments: #().!

self valueWithReceiver: Random arguments: #(). !

'hola gente!!' copyFrom: 'hola' size + 1 to: 11. !

6+2*5.!

(6+2)*5.!

2*6+5.!

6+2*5+6+2*5.!

6+2*5+6+2*5. !

6+2*5+6+(2*5). !

#dateOfBirth asMessage sendTo: AlanTuring. !

#dateOfBirth asMessage .!

self sendTo: AlanTuring .!

#dateOfBirth asMessage .!

#dateOfBirth asMessage .!

self !

self !

self class!

self selector !

AlonsoChurch methodNamed: #dateOfBirth.!

self primitive !

self methodClass !

self doesNotUnderstand: self !

----QUIT----(28 March 2021 20:24:47) CuisUniversity-4532.image priorSource: 16899386!

----STARTUP---- (29 March 2021 18:43:16) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!Examples class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 18:55:30' prior: 50859912!
moreExamples
"
#dateOfBirth asMessage sendTo: AlanTuring. 
(#ageDifferenceWith: asMessageWith: Pepe) sendTo: AlonsoChurch .
#dateOfBirth asMessage .
#ageDifferenceWith: asMessageWith: AlanTuring.
(AlanTuring methodNamed: #dateOfBirth) valueWithReceiver: AlanTuring arguments: #(). 
AlonsoChurch methodNamed: #dateOfBirth
#methodNamed: asMessageWith: #dateOfBirth.
AlanTuring superclass . DenotativeObject 
DenotativeObject methodNamed: #dateOfBirth. "! !
!AlonsoChurch class methodsFor: 'nil' stamp: 'ja 3/29/2021 18:56:42'!
isOlderThan: aPerson

    ^(self ageDifferenceWith: aPerson) positive! !

AlanKay  _ 1 .!

AlanKay  := 1 .!

AlanKay  := 1 .!

AlanKay  := 1 .!

1 + AlanKay .!
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 18:59:43' prior: 50859973!
isOlderThan: aPerson

    ^(self ageDifferenceWith: aPerson) positive! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:00:48' prior: 50859982!
isOlderThan: aPerson
	
    ^(self ageDifferenceWith: aPerson) positive! !

AlanKay!
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:01:38' prior: 50859988!
isOlderThan: aPerson
	
 	   ^(self ageDifferenceWith: aPerson) positive! !

AlanTuring  _ 2.!

ObjectBuilder create: #otraClase
	collaboratorNames: ''
	in: 'Ejercicio3'
	!

!classDefinition: #otraClase category: 'Ejercicio3' stamp: 'ja 3/29/2021 19:02:47'!
DenotativeObject subclass: #otraClase
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio3'!

!classDefinition: 'otraClase class' category: 'Ejercicio3' stamp: 'ja 3/29/2021 19:02:47'!
otraClase class
	instanceVariableNames: ''!
!otraClase class methodsFor: 'no messages' stamp: 'ja 3/29/2021 19:05:28'!
pp
	otraClase := String.! !
!otraClase class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:06:02' prior: 50860013!
pp
	otraClase := Examples .! !

	self!
!otraClase class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:09:37' prior: 50860017!
pp
	otraClase := Examples .
! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:09:40'!
m1: collaborator1

   

   ^thisContext! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:09:48' prior: 50860026!
m1: collaborator1

   | tmp |

   ^thisContext! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:09:59' prior: 50860031!
m1: collaborator1

   | tmp1 |

   ^thisContext! !

self tempsAndValues.!

self tempAt: 1.!

self tempAt: 2.!

self tempAt: 2 put: 20.!

self tempAt: 2.!

AlanTuring!

----STARTUP---- (29 March 2021 19:45:53) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!Examples class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:46:09' prior: 50859912!
moreExamples
"
#dateOfBirth asMessage sendTo: AlanTuring. 
(#ageDifferenceWith: asMessageWith: Pepe) sendTo: AlonsoChurch .
#dateOfBirth asMessage .
#ageDifferenceWith: asMessageWith: AlanTuring.
(AlanTuring methodNamed: #dateOfBirth) valueWithReceiver: AlanTuring arguments: #(). 
AlonsoChurch methodNamed: #dateOfBirth
#methodNamed: asMessageWith: #dateOfBirth.
AlanTuring superclass . DenotativeObject 
DenotativeObject methodNamed: #dateOfBirth. "! !
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:46:29'!
isOlderThan: aPerson

    ^(self ageDifferenceWith: aPerson) positive! !

	^ AlonsoChurch isOlderThan: AlanTuring.!

    ^(self ageDifferenceWith: aPerson) positive.!
!AlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 3/29/2021 19:54:42' prior: 50859973!
isOlderThan: aPerson

    ^(self ageDifferenceWith: aPerson) positive! !

	^ self dateOfBirth distanceTo: aPerson dateOfBirth .!

----QUIT----(29 March 2021 21:00:44) CuisUniversity-4532.image priorSource: 16905556!

----STARTUP---- (31 March 2021 23:01:29) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(31 March 2021 23:01:33) CuisUniversity-4532.image priorSource: 16906816!

----STARTUP---- (1 April 2021 15:48:13) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


self getListSize .!

self selector.!

self.!

self name.!

self list.!

self list.!

self list size.!

self getList size.!

----QUIT----(1 April 2021 15:59:46) CuisUniversity-4532.image priorSource: 16907015!

----STARTUP---- (2 April 2021 16:50:00) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


[10 factorial].!

10 factorial .!

[10 factorial].!

[10 factorial] value.!

10 factorial print .!

[10 factorial] print.!

[10 factorial] .!

[10 factorial] .!

10 factorial print .!

10 factorial .!

10 factorial . !

[10 factorial] .!

[10 factorial] value.!
!AlanTuring class methodsFor: 'personal info' stamp: 'ja 4/2/2021 17:20:10' prior: 50859804 overrides: 50849697!
doesNotUnderstand: aMessage

	^ 'No entiendo lo que me decis con el mensaje ' , aMessage asString ! !

[ :anInteger :other | anInteger factorial ] value: 10 value:4.!

factorialSumBlock valueWithArguments: #(10 20).!

factorialSumBlock valueWithArguments: #(10 20).!

factorialSumBlock := [ :anIntegerToFact1 :anIntegerToFact2 | anIntegerToFact1 factorial + anIntegerToFact2 factorial ].!

factorialSumBlock valueWithArguments: #(10 20).!

#(1 2 3 4 5) inject: 0 into: [ :acum :anInteger | acum + anInteger ].!

#(1 2 3 4 5) inject: 0 into: [ :acum :anInteger | acum + anInteger ]. 15 !

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/TerseGuide.pck.st----!

DenotativeObject subclass: #CloneOfAlonsoChurch
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio3'!

!classDefinition: #CloneOfAlonsoChurch category: 'Ejercicio3' stamp: 'ja 4/2/2021 17:33:41'!
DenotativeObject subclass: #CloneOfAlonsoChurch
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Ejercicio3'!

CloneOfAlonsoChurch class
	instanceVariableNames: ''!

!classDefinition: 'CloneOfAlonsoChurch class' category: 'Ejercicio3' stamp: 'ja 4/2/2021 17:33:41'!
CloneOfAlonsoChurch class
	instanceVariableNames: ''!
!CloneOfAlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 4/2/2021 17:33:41'!
ageDifferenceWith: aPerson 

	^ self dateOfBirth distanceTo: aPerson dateOfBirth .! !
!CloneOfAlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 4/2/2021 17:33:41'!
ageDifferenceWithAlanKay
	^ self dateOfBirth distanceTo: AlanKay dateOfBirth .! !
!CloneOfAlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 4/2/2021 17:33:41'!
ageDifferenceWithAlanTuring
	^ self dateOfBirth distanceTo: AlanKay dateOfBirth .! !
!CloneOfAlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 4/2/2021 17:33:41'!
ageDifferenceWithDanIngalls
	^ self dateOfBirth distanceTo: DanIngalls dateOfBirth .! !
!CloneOfAlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 4/2/2021 17:33:41'!
dateOfBirth
	^June/14/1903! !
!CloneOfAlonsoChurch class methodsFor: 'as yet unclassified' stamp: 'ja 4/2/2021 17:33:41'!
isOlderThan: aPerson

    ^(self ageDifferenceWith: aPerson) positive! !

(June/23/2019) = (June/23/2019).!

(June/23/2019) = (June/23/2019).!

(June/23/2019) == (June/23/2019). !

100 factorial = 100 factorial. !

100 factorial == 100 factorial. !

('ho','la') = ('ho','la').  !

('ho','la') == ('ho', 'la').!

AlonsoChurch = CloneOfAlonsoChurch .!

AlonsoChurch == CloneOfAlonsoChurch . !

AlonsoChurch == AlonsoChurch . !

AlonsoChurch = AlonsoChurch . !

AlonsoChurch == AlonsoChurch .  !

self list.!

self getList .!

self getList size.!

self setSelectionIndex: 1.!

self setSelectionIndex: 3.!

self setSelectionIndex: 2. !

self setSelectionIndex: 5.  !

self setSelectionIndex: 1.   !

self selection: #fail.!

self selection: #browseMethodFull.!

self browseMethodFull .!

self browseMethodFull . !

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

self send.!

----QUIT----(2 April 2021 18:09:30) CuisUniversity-4532.image priorSource: 16907337!

----STARTUP---- (5 April 2021 20:17:31) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


ObjectBuilder create: #I
	collaboratorNames: ''
	in: 'Numeros Naturales'
	!

!classDefinition: #I category: 'Numeros Naturales' stamp: 'ja 4/5/2021 20:18:51'!
DenotativeObject subclass: #I
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'I class' category: 'Numeros Naturales' stamp: 'ja 4/5/2021 20:18:51'!
I class
	instanceVariableNames: ''!

I next.!
!I class methodsFor: 'no messages' stamp: 'ja 4/5/2021 20:22:12'!
newt

	^ I! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 20:22:21'!
next

	^ I! !

!methodRemoval: I class #newt stamp: 'ja 4/5/2021 20:22:21'!
newt

	^ I!
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 20:23:01' prior: 50863073!
next

	^ I! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 20:28:15' prior: 50863079!
next

	^ self cloneNamed:self name , 'I'.! !

I next.!

DenotativeObject subclass: #II
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: #II category: 'Numeros Naturales' stamp: 'ja 4/5/2021 20:28:29'!
DenotativeObject subclass: #II
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

II class
	instanceVariableNames: ''!

!classDefinition: 'II class' category: 'Numeros Naturales' stamp: 'ja 4/5/2021 20:28:29'!
II class
	instanceVariableNames: ''!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 20:28:29'!
next

	^ self cloneNamed:self name , 'I'.! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 20:28:48' prior: 50863083!
next

	^ self cloneNamed: self name , 'I'.! !

!classRemoval: #II stamp: 'ja 4/5/2021 20:32:10'!
DenotativeObject subclass: #II
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 20:49:41' prior: 50863109!
next

	^ self cloneNamed: self name, 'I'.! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 21:05:03' prior: 50863120!
next

	^ self createChildNamed: self name, 'I'.! !

I next.!

!classDefinition: #II category: 'Numeros Naturales' stamp: 'ja 4/5/2021 21:05:06'!
I subclass: #II
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'II class' category: 'Numeros Naturales' stamp: 'ja 4/5/2021 21:05:06'!
II class
	instanceVariableNames: ''!

----QUIT----(5 April 2021 21:10:33) CuisUniversity-4532.image priorSource: 17004800!

----STARTUP---- (5 April 2021 23:39:50) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----End fileIn of /home/jampuero/Documentos/isw1/Numeros Naturales Tests.st----!
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 23:48:56'!
+ anAddends

	^ anAddends next.! !

I + II.!

!classDefinition: #III category: 'Numeros Naturales' stamp: 'ja 4/5/2021 23:53:22'!
II subclass: #III
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'III class' category: 'Numeros Naturales' stamp: 'ja 4/5/2021 23:53:22'!
III class
	instanceVariableNames: ''!
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 23:56:04' prior: 50863251!
+ anAddends

	^ self next: anAddends .! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 23:56:41'!
next: aNumber

	! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/5/2021 23:57:15' prior: 50863270!
next: aNumber

	^ self createChildNamed: aNumber , 'I'
	! !

!classDefinition: #IIII category: 'Workspace-Objects' stamp: 'ja 4/6/2021 00:00:27'!
DenotativeObject subclass: #IIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Workspace-Objects'!

I + IIII.!

I + IIII.!
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 00:02:13' prior: 50863274!
next: aNumber

	^ self createChildNamed: aNumber asString , 'I'
	! !

I + IIII.!

!classDefinition: #IIIII category: 'Numeros Naturales' stamp: 'ja 4/6/2021 00:02:18'!
I subclass: #IIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIIII class' category: 'Numeros Naturales' stamp: 'ja 4/6/2021 00:02:18'!
IIIII class
	instanceVariableNames: ''!

II + II .!

!classDefinition: #III category: 'Numeros Naturales' stamp: 'ja 4/6/2021 00:04:18'!
II subclass: #III
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'III class' category: 'Numeros Naturales' stamp: 'ja 4/6/2021 00:04:18'!
III class
	instanceVariableNames: ''!
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 00:06:05' prior: 50863287!
next: aNumber

	^ self createChildNamed: aNumber asString , self name.
	! !

II + II .!

!classDefinition: #IIII category: 'Numeros Naturales' stamp: 'ja 4/6/2021 00:06:13'!
II subclass: #IIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIII class' category: 'Numeros Naturales' stamp: 'ja 4/6/2021 00:06:13'!
IIII class
	instanceVariableNames: ''!

II + III.!

!classDefinition: #IIIII category: 'Numeros Naturales' stamp: 'ja 4/6/2021 00:07:54'!
II subclass: #IIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIIII class' category: 'Numeros Naturales' stamp: 'ja 4/6/2021 00:07:54'!
IIIII class
	instanceVariableNames: ''!

----QUIT----(6 April 2021 00:08:15) CuisUniversity-4532.image priorSource: 17007657!

----STARTUP---- (6 April 2021 15:29:52) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #IIIII stamp: 'ja 4/6/2021 17:08:14'!
II subclass: #IIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #IIII stamp: 'ja 4/6/2021 17:08:15'!
II subclass: #IIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #III stamp: 'ja 4/6/2021 17:08:15'!
II subclass: #III
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #II stamp: 'ja 4/6/2021 17:08:16'!
I subclass: #II
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #I stamp: 'ja 4/6/2021 17:08:16'!
DenotativeObject subclass: #I
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

----End fileIn of /home/jampuero/Descargas/Numeros_Naturales_1.st----!

8 - 2 -2 .!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 17:30:12' prior: 50863455!
/ unDivisor
	self size < unDivisor size
	 ifTrue: 
	[
		^ 'No se puede dividir por un numero mayor'.
	] 
	ifFalse: 
	[
		^self divide: unDivisor - unDivisor
	].
	! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 17:33:22' prior: 50863715!
/ unDivisor
	self size < unDivisor size
	 ifTrue: 
	[
		^ 'No se puede dividir por un numero mayor'.
	]. 
	self size = unDivisor size 
	ifTrue: 
	[
		^ I next.
	] 
	ifFalse: 
	[
		self - unDivisor / unDivisor 
	].
	! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 17:35:01' prior: 50863724!
/ unDivisor
	self size < unDivisor size ifTrue: [
		^ 'No se puede dividir por un numero mayor'.
	] ifFalse: [
		self - unDivisor / unDivisor 
	].
	self size = unDivisor size ifTrue: [
		^ I next.
	] 
	! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 17:36:09' prior: 50863734!
/ unDivisor
	self size < unDivisor size ifTrue: [
		^ 'No se puede dividir por un numero mayor'.
	].
	 self size > unDivisor size ifTrue: [
		self - unDivisor / unDivisor 
	].
	self size = unDivisor size ifTrue: [
		^ I next.
	] 
	! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 17:36:12' prior: 50863744!
/ unDivisor
	self size < unDivisor size ifTrue: [
		^ 'No se puede dividir por un numero mayor'.
	].
	self size > unDivisor size ifTrue: [
		self - unDivisor / unDivisor 
	].
	self size = unDivisor size ifTrue: [
		^ I next.
	] 
	! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 17:37:53' prior: 50863755!
/ unDivisor

	self size < unDivisor size ifTrue: [
		^ 'No se puede dividir por un numero mayor'.
	].
	self size > unDivisor size ifTrue: [
		self - unDivisor / unDivisor .
	].
	self size = unDivisor size ifTrue: [
		^ I next.
	] 
	! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 17:39:53' prior: 50863766!
/ unDivisor

	self name size < unDivisor name size ifTrue: [
		^ 'No se puede dividir por un numero mayor'.
	].
	self name size > unDivisor name size ifTrue: [
		self - unDivisor / unDivisor .
	].
	self name size = unDivisor name size ifTrue: [
		^ I next.
	] 
	! !

I + I.!
!II class methodsFor: 'nil' stamp: 'ja 4/6/2021 18:32:48'!
sustraerUnSustraendoVeces: valor

	^valor previous - self previous! !
!I class methodsFor: 'nil' stamp: 'ja 4/6/2021 18:32:48'!
sustraerUnSustraendoVeces: valor

	^valor previous! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 18:32:48' prior: 50863486!
- unSustraendo

	^unSustraendo sustraerUnSustraendoVeces: self! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 18:32:48' prior: 50863402!
- unSustraendo

	^self sustraerUnSustraendoVeces: unSustraendo! !

!methodRemoval: II class #sustraerUnSuswtraendoVeces: stamp: 'ja 4/6/2021 18:32:48'!
sustraerUnSuswtraendoVeces: valor

	^valor previous - self previous!

!methodRemoval: I class #sustraerUnSuswtraendoVeces: stamp: 'ja 4/6/2021 18:32:48'!
sustraerUnSuswtraendoVeces: valor

	^valor previous!

II + I.!

I + II.!

I + I.!

I - I.!

II- I.!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 18:36:06' prior: 50863777!
/ unDivisor

	self < unDivisor 
		ifTrue: [ self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor] 
		ifFalse: [ self = unDivisor 
					ifTrue: [ ^I ] 
					ifFalse: [ ^ ((self - unDivisor) / unDivisor) next ] ]
	! !

III parents .!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 18:38:41'!
< aValue

	^ self parents includes: aValue .! !
!II class methodsFor: 'error description' stamp: 'ja 4/6/2021 18:41:16'!
descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor

	^'No se puede dividir por un numero mayor'.! !

IIII / II.!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 18:42:34' prior: 50863829!
< aValue

	^ aValue parents includes: self .! !

IIII / II.!

IIIII / II.!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:29'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:29'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:51'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:43:51'!
ERROR!

I + I.!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:45:12'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:45:12'!
ERROR!

!classRemoval: #IIIIIIII stamp: 'ja 4/6/2021 18:46:07'!
IIIIIII subclass: #IIIIIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #IIIIIII stamp: 'ja 4/6/2021 18:46:11'!
IIIIII subclass: #IIIIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #IIIIII stamp: 'ja 4/6/2021 18:46:17'!
IIIII subclass: #IIIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

II previous .!

!classRemoval: #IIIII stamp: 'ja 4/6/2021 18:47:19'!
IIII subclass: #IIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #IIII stamp: 'ja 4/6/2021 18:47:32'!
III subclass: #IIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:47:44'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:47:44'!
ERROR!

!classRemoval: #NumerosNaturalesTest stamp: 'ja 4/6/2021 18:47:57'!
DenotativeObject subclass: #NumerosNaturalesTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales Tests'!

----End fileIn of /home/jampuero/Documentos/isw1/Numeros Naturales Tests.st----!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:48:10'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:48:12'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:48:12'!
ERROR!

I + III.!

I + III.!

II + II.!

III + I.!

next!

I + III.!

!classDefinition: #IIII category: 'Numeros Naturales' stamp: 'ja 4/6/2021 18:50:56'!
III subclass: #IIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIII class' category: 'Numeros Naturales' stamp: 'ja 4/6/2021 18:50:56'!
IIII class
	instanceVariableNames: ''!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:51:07'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:51:10'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:51:11'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:51:13'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:51:14'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:51:14'!
ERROR!
!I class methodsFor: 'nil' stamp: 'ja 4/6/2021 18:51:49'!
descripcionDeErrorDeNumerosNegativosNoSoportados

	^ 'Numeros negativos no soportados'! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:52:53'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:52:53'!
ERROR!
!I class methodsFor: 'private' stamp: 'ja 4/6/2021 18:53:29' prior: 50863418!
previous

	^self descripcionDeErrorDeNumerosNegativosNoSoportados .! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:53:44'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:53:44'!
ERROR!
!I class methodsFor: 'private' stamp: 'ja 4/6/2021 18:54:16' prior: 50864094!
previous

	^self error: self descripcionDeErrorDeNumerosNegativosNoSoportados .! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:54:21'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:54:21'!
ERROR!

I - II.!

II -I.!
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 18:56:22' prior: 50863802!
- unSustraendo

	"^self sustraerUnSustraendoVeces: unSustraendo"
	^ self error: self descripcionDeErrorDeNumerosNegativosNoSoportados .! !

II - I .!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:38'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:41'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:48'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:49'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:51'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:52'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:53'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:55'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:56'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:57'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:58'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:56:59'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:57:00'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 18:57:00'!
ERROR!
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 18:57:28' prior: 50864117!
- unSustraendo

	^ self error: self descripcionDeErrorDeNumerosNegativosNoSoportados .! !

I / I.!

I / II.!
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 18:59:49' prior: 50863407!
/ unDivisor

	^unDivisor divideUno: self! !
!I class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:00:12'!
divideUno: valor

	^self! !

!methodRemoval: I class #divide: stamp: 'ja 4/6/2021 19:00:20'!
divide: valor

	^self!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:01:01'!
divideUno: valor

	^ self previous / valor! !

	^ self error: self errorMessageForSourceCodeIncludingAReturnStatement .!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:01:28' prior: 50864186!
divideUno: valor

	^ self error: self xxx .! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:01:50' prior: 50864193!
divideUno: valor

	^ self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor .! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:02:11'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:02:11'!
ERROR!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:02:57' prior: 50864198!
divideUno: valor

	^ self error: I descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor .! !
!I class methodsFor: 'error description' stamp: 'ja 4/6/2021 19:03:19'!
descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor

	^ 'Numeros negativos no soportados'! !
!I class methodsFor: 'error description' stamp: 'ja 4/6/2021 19:03:39' prior: 50864216!
descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor

	^ 'No se puede dividir por un numero mayor'! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:44'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:03:50'!
PASSED!

!methodRemoval: II class #descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor stamp: 'ja 4/6/2021 19:04:27'!
descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor

	^'No se puede dividir por un numero mayor'.!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:30'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:04:43'!
ERROR!
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:05:40' prior: 50863818!
/ unDivisor

	self < unDivisor 
		ifTrue: [ self error: I descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor] 
		ifFalse: [ self = unDivisor 
					ifTrue: [ ^I ] 
					ifFalse: [ ^ ((self - unDivisor) / unDivisor) next ] ]
	! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:05:42'!
ERROR!
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:05:56' prior: 50864348!
/ unDivisor

	self < unDivisor 
		ifTrue: [ self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor] 
		ifFalse: [ self = unDivisor 
					ifTrue: [ ^I ] 
					ifFalse: [ ^ ((self - unDivisor) / unDivisor) next ] ]
	! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:06:16'!
descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor
	
	! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:06:36' prior: 50864406!
descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor
	
	^'No se puede dividir por un numero mayor'! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:06:39'!
PASSED!

!methodRemoval: II class #divide: stamp: 'ja 4/6/2021 19:07:34'!
divide: valor

	^self previous / valor!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:09:24' prior: 50863478!
previous

	^previous! !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:09:28' prior: 50864456!
previous

	^ previous! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:11:42'!
PASSED!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:15:55' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.! !
!III class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:15:55' overrides: 50864499!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.! !
!IIII class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:15:55' overrides: 50864507!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := III.! !

!methodRemoval: II class #initializeCollaboratorsFromFile stamp: 'ja 4/6/2021 19:15:55'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.!

!methodRemoval: III class #initializeCollaboratorsFromFile stamp: 'ja 4/6/2021 19:15:55'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.!

!methodRemoval: IIII class #initializeCollaboratorsFromFile stamp: 'ja 4/6/2021 19:15:55'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := III.!
!I class methodsFor: 'private' stamp: 'ja 4/6/2021 19:21:37'!
divideUno

	^self! !
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:21:51' prior: 50864176!
/ unDivisor

	^unDivisor divideUno! !

!methodRemoval: I class #divideUno: stamp: 'ja 4/6/2021 19:22:16'!
divideUno: valor

	^self!
!II class methodsFor: 'private' stamp: 'ja 4/6/2021 19:22:26'!
divideUno

	^ self error: I descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor .! !

!methodRemoval: II class #divideUno: stamp: 'ja 4/6/2021 19:22:31'!
divideUno: valor

	^ self error: I descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor .!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:22:36'!
PASSED!
!III class methodsFor: 'private' stamp: 'ja 4/6/2021 19:23:07' prior: 50863512!
previous: aNumber

	previous _ aNumber ! !
!II class methodsFor: 'private' stamp: 'ja 4/6/2021 19:24:16'!
previous: aNumber

	previous _ aNumber ! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:20'!
PASSED!
!III class methodsFor: 'private' stamp: 'ja 4/6/2021 19:24:38' prior: 50864599 overrides: 50864603!
previous: aNumber

	! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:40'!
PASSED!

!methodRemoval: III class #previous: stamp: 'ja 4/6/2021 19:24:51'!
previous: aNumber

	!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/6/2021 19:24:54'!
PASSED!
!I class methodsFor: 'private' stamp: 'ja 4/6/2021 19:27:33' prior: 50863792!
sustraerUnSustraendoVeces: valor

	^ valor previous! !
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:28:11' prior: 50863394!
* unMultiplicador

	^ unMultiplicador! !
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:28:14' prior: 50863398!
+ unSumando

	^ unSumando next! !
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:28:20' prior: 50864546!
/ unDivisor

	^ unDivisor divideUno! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:31:41' prior: 50863797!
- unSustraendo

	^ unSustraendo sustraerUnSustraendoVeces: self! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:32:15' prior: 50863445!
* unMultiplicador

	^ self sumarSelfVecesUnMultiplicador: unMultiplicador + unMultiplicador! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/6/2021 19:33:58' prior: 50863451!
+ unSumando

	^ self previous + unSumando next! !

IIII - II.!

II - IIII.!

IIII - II.!
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:38:05' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.! !
!III class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:38:05' overrides: 50864755!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.! !
!IIII class methodsFor: 'as yet unclassified' stamp: 'ja 4/6/2021 19:38:06' overrides: 50864763!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := III.! !

!methodRemoval: II class #initializeCollaboratorsFromFile stamp: 'ja 4/6/2021 19:38:06'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.!

!methodRemoval: III class #initializeCollaboratorsFromFile stamp: 'ja 4/6/2021 19:38:06'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.!

!methodRemoval: IIII class #initializeCollaboratorsFromFile stamp: 'ja 4/6/2021 19:38:06'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := III.!

----QUIT----(6 April 2021 19:38:08) CuisUniversity-4532.image priorSource: 17014131!

----STARTUP---- (7 April 2021 15:31:29) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #NumerosNaturalesTest stamp: 'ja 4/7/2021 15:37:48'!
DenotativeObject subclass: #NumerosNaturalesTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales Tests'!

!classRemoval: #IIII stamp: 'ja 4/7/2021 15:37:55'!
III subclass: #IIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #III stamp: 'ja 4/7/2021 15:38:15'!
II subclass: #III
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

I + II.!

next!

next!

I + II. !

!classDefinition: #III category: 'Numeros Naturales' stamp: 'ja 4/7/2021 15:40:06'!
II subclass: #III
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'III class' category: 'Numeros Naturales' stamp: 'ja 4/7/2021 15:40:06'!
III class
	instanceVariableNames: ''!

----End fileIn of /home/jampuero/Documentos/isw1/Numeros Naturales Tests.st----!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!classDefinition: #IIII category: 'Numeros Naturales' stamp: 'ja 4/7/2021 15:40:22'!
III subclass: #IIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIII class' category: 'Numeros Naturales' stamp: 'ja 4/7/2021 15:40:22'!
IIII class
	instanceVariableNames: ''!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:22'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 15:40:34'!
PASSED!
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:46:15' prior: 50864729!
+ aSummand

	^ aSummand next! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:46:23' prior: 50864749!
+ aSummand

	^ self previous + aSummand next! !
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:47:53' prior: 50864169!
- aSubtrahend

	^ self error: self descripcionDeErrorDeNumerosNegativosNoSoportados .! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:48:01' prior: 50864738!
- aSubtrahend

	^ aSubtrahend sustraerUnSustraendoVeces: self! !
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:48:27' prior: 50864724!
* aFactor

	^ aFactor! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:48:35' prior: 50864743!
* aFactor

	^ self sumarSelfVecesUnMultiplicador: aFactor + aFactor! !
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:48:51' prior: 50864733!
/ aDivisor

	^ aDivisor divideUno! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:49:04' prior: 50864396!
/ aDivisor

	self < aDivisor 
		ifTrue: [ self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor] 
		ifFalse: [ self = aDivisor 
					ifTrue: [ ^I ] 
					ifFalse: [ ^ ((self - aDivisor) / aDivisor) next ] ]
	! !
!I class methodsFor: 'private' stamp: 'ja 4/7/2021 15:49:38' prior: 50864542!
divideUno

	^ self! !
!I class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:50:05' prior: 50865051!
/ aDivisor

	^ aDivisor divideOne! !
!I class methodsFor: 'private' stamp: 'ja 4/7/2021 15:50:17'!
divideOne

	^ self! !
!II class methodsFor: 'private' stamp: 'ja 4/7/2021 15:50:17'!
divideOne

	^ self error: I descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor .! !

!methodRemoval: I class #divideUno stamp: 'ja 4/7/2021 15:50:17'!
divideUno

	^ self!

!methodRemoval: II class #divideUno stamp: 'ja 4/7/2021 15:50:17'!
divideUno

	^ self error: I descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor .!
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:53:22' prior: 50865036!
- aSubtrahend

	^ aSubtrahend decreaseTimes: self! !
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 15:53:36' prior: 50865091!
- aSubtrahend

	^ aSubtrahend decreaseASubtrahendTimes: self! !
!I class methodsFor: 'private' stamp: 'ja 4/7/2021 15:54:09'!
decreaseASubtrahendTimes: aValue

	^ aValue previous! !
!II class methodsFor: 'private' stamp: 'ja 4/7/2021 15:54:34'!
decreaseASubtrahendTimes: aValue

	^ aValue previous - self previous! !

!methodRemoval: II class #sustraerUnSustraendoVeces: stamp: 'ja 4/7/2021 15:55:03'!
sustraerUnSustraendoVeces: valor

	^valor previous - self previous!

!methodRemoval: I class #sustraerUnSustraendoVeces: stamp: 'ja 4/7/2021 15:55:08'!
sustraerUnSustraendoVeces: valor

	^ valor previous!
!II class methodsFor: 'arithmetic operations' stamp: 'ja 4/7/2021 16:01:54' prior: 50865045!
* aFactor

	^ self multiplySelfTimes: aFactor + aFactor! !
!II class methodsFor: 'private' stamp: 'ja 4/7/2021 16:02:27'!
multiplySelfTimes: aValue

	^self previous * aValue! !
!II class methodsFor: 'private' stamp: 'ja 4/7/2021 16:02:30' prior: 50865123!
multiplySelfTimes: aValue

	^ self previous * aValue! !

!methodRemoval: II class #sumarSelfVecesUnMultiplicador: stamp: 'ja 4/7/2021 16:02:38'!
sumarSelfVecesUnMultiplicador: valor

	^self previous * valor!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'ja 4/7/2021 16:02:50'!
PASSED!
!II class methodsFor: 'error description' stamp: 'ja 4/7/2021 16:03:45' prior: 50864411!
descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor
	
	^ 'No se puede dividir por un numero mayor'! !
!II class methodsFor: 'private' stamp: 'ja 4/7/2021 16:04:20' prior: 50864603!
previous: aValue

	previous _ aValue ! !
!I class methodsFor: 'private' stamp: 'ja 4/7/2021 16:05:10' prior: 50864105!
previous

	^ self error: self descripcionDeErrorDeNumerosNegativosNoSoportados .! !
!I class methodsFor: 'private' stamp: 'ja 4/7/2021 16:05:18' prior: 50863415!
next

	^ II! !

III / II.!

IIII / II.!

!classDefinition: #IIIII category: 'Workspace-Objects' stamp: 'ja 4/7/2021 16:10:36'!
DenotativeObject subclass: #IIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Workspace-Objects'!

IIIII / II.!

IIII + IIII.!

!classDefinition: #IIIII category: 'Numeros Naturales' stamp: 'ja 4/7/2021 16:10:54'!
IIII subclass: #IIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIIII class' category: 'Numeros Naturales' stamp: 'ja 4/7/2021 16:10:54'!
IIIII class
	instanceVariableNames: ''!

!classDefinition: #IIIIII category: 'Numeros Naturales' stamp: 'ja 4/7/2021 16:10:54'!
IIIII subclass: #IIIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIIIII class' category: 'Numeros Naturales' stamp: 'ja 4/7/2021 16:10:54'!
IIIIII class
	instanceVariableNames: ''!

!classDefinition: #IIIIIII category: 'Numeros Naturales' stamp: 'ja 4/7/2021 16:10:54'!
IIIIII subclass: #IIIIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIIIIII class' category: 'Numeros Naturales' stamp: 'ja 4/7/2021 16:10:54'!
IIIIIII class
	instanceVariableNames: ''!

!classDefinition: #IIIIIIII category: 'Numeros Naturales' stamp: 'ja 4/7/2021 16:10:54'!
IIIIIII subclass: #IIIIIIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classDefinition: 'IIIIIIII class' category: 'Numeros Naturales' stamp: 'ja 4/7/2021 16:10:54'!
IIIIIIII class
	instanceVariableNames: ''!

IIIIIIII / II.!

IIIIII / II.!

IIIIII / IIII. !
!II class methodsFor: 'as yet unclassified' stamp: 'ja 4/7/2021 16:13:12' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.! !
!III class methodsFor: 'as yet unclassified' stamp: 'ja 4/7/2021 16:13:12' overrides: 50865248!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.! !
!IIII class methodsFor: 'as yet unclassified' stamp: 'ja 4/7/2021 16:13:12' overrides: 50865256!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIII.
	previous := III.! !
!IIIII class methodsFor: 'as yet unclassified' stamp: 'ja 4/7/2021 16:13:12' overrides: 50865264!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIII.
	previous := IIII.! !
!IIIIII class methodsFor: 'as yet unclassified' stamp: 'ja 4/7/2021 16:13:12' overrides: 50865272!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIII.
	previous := IIIII.! !
!IIIIIII class methodsFor: 'as yet unclassified' stamp: 'ja 4/7/2021 16:13:12' overrides: 50865280!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIII.
	previous := IIIIII.! !
!IIIIIIII class methodsFor: 'as yet unclassified' stamp: 'ja 4/7/2021 16:13:12' overrides: 50865288!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := IIIIIII.! !

!methodRemoval: II class #initializeCollaboratorsFromFile stamp: 'ja 4/7/2021 16:13:13'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.!

!methodRemoval: III class #initializeCollaboratorsFromFile stamp: 'ja 4/7/2021 16:13:13'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.!

!methodRemoval: IIII class #initializeCollaboratorsFromFile stamp: 'ja 4/7/2021 16:13:13'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIII.
	previous := III.!

!methodRemoval: IIIII class #initializeCollaboratorsFromFile stamp: 'ja 4/7/2021 16:13:13'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIII.
	previous := IIII.!

!methodRemoval: IIIIII class #initializeCollaboratorsFromFile stamp: 'ja 4/7/2021 16:13:13'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIII.
	previous := IIIII.!

!methodRemoval: IIIIIII class #initializeCollaboratorsFromFile stamp: 'ja 4/7/2021 16:13:13'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIII.
	previous := IIIIII.!

!methodRemoval: IIIIIIII class #initializeCollaboratorsFromFile stamp: 'ja 4/7/2021 16:13:13'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := IIIIIII.!

----QUIT----(7 April 2021 16:36:22) CuisUniversity-4532.image priorSource: 17060732!

----STARTUP---- (12 April 2021 21:25:37) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/13-Repetido/CodigoRepetido-Ejercicio.st----!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:32:44'!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:34' prior: 50865395!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:54' prior: 50865652!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:41' prior: 50865412!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:57' prior: 50865679!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:36:01' prior: 50865700!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/12/2021 21:36:14'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/12/2021 21:36:14'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/12/2021 21:36:14'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/12/2021 21:36:14'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/12/2021 21:36:14'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/12/2021 21:36:14'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/12/2021 21:36:14'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/12/2021 21:36:14'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:37:56'!
yyy: 	aBlock1 yyy: aBlock2
 
	self assert: aBlock1 value < aBlock2
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:38:12' prior: 50865756!
yyy: 	aBlock1 yyy: number
 
	self assert: aBlock1 value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:25' prior: 50865669!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	"self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)."
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/12/2021 21:39:29'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:42' prior: 50865767!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:40:20' prior: 50865713!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 21:41:17'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:41:41' overrides: 16927572!
setUp

	customerBook1 _ CustomerBook new. ! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:42:18' prior: 50865784!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	self yyy: (self xxx:[customerBook1 addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/12/2021 21:42:20'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:42:42' prior: 50865794!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook1 removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/12/2021 21:42:43'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:50:51' prior: 50865843!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	"self createCustomerBookWithPaulMcCartney."
		
	self yyy: (self xxx:[self removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

TestCase!

----STARTUP---- (12 April 2021 22:06:04) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:19'!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:13'!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HernanWilkinson 5/9/2012 18:12'!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''.
	self fail ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HAW 8/28/2017 08:57:25'!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook removeCustomerNamed: 'Paul McCartney'.
	self fail ]
		on: NotFound 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:25'!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 1 equals: customerBook numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook numberOfCustomers.
	self assert: (customerBook includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:28'!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	customerBook removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 0 equals: customerBook numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook numberOfCustomers.
	self deny: (customerBook includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/17/2020 06:03:47'!
test07CanNotSuspendAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: 'George Harrison'.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/19/2018 17:57:11'!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: johnLennon.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26'!
includesCustomerNamed: aName

	^(active includes: aName) or: [ suspended includes: aName ]! !
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26'!
isEmpty
	
	^active isEmpty and: [ suspended isEmpty ]! !
!CustomerBook methodsFor: 'initialization' stamp: 'NR 9/17/2020 07:23:04' overrides: 16896425!
initialize

	active := OrderedCollection new.
	suspended:= OrderedCollection new.! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
numberOfActiveCustomers
	
	^active size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
numberOfCustomers
	
	^active size + suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 9/19/2018 17:36:09'!
numberOfSuspendedCustomers
	
	^suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
removeCustomerNamed: aName 
 
	1 to: active size do: 
	[ :index |
		aName = (active at: index)
			ifTrue: [
				active removeAt: index.
				^ aName 
			] 
	].

	1 to: suspended size do: 	
	[ :index |
		aName = (suspended at: index)
			ifTrue: [
				suspended removeAt: index.
				^ aName 
			] 
	].
	
	^ NotFound signal.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:52'!
signalCustomerAlreadyExists 

	self error: self class customerAlreadyExistsErrorMessage! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:51'!
signalCustomerNameCannotBeEmpty 

	self error: self class customerCanNotBeEmptyErrorMessage ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
suspendCustomerNamed: aName 
	
	(active includes: aName) ifFalse: [^CantSuspend signal].
	
	active remove: aName.
	
	suspended add: aName
! !

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
CustomerBook class
	instanceVariableNames: ''!

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:07:19'!
CustomerBook class
	instanceVariableNames: ''!
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:13'!
customerAlreadyExistsErrorMessage

	^'customer already exists!!!!!!'! !
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:09'!
customerCanNotBeEmptyErrorMessage

	^'customer name cannot be empty!!!!!!'! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:32:44'!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:34' prior: 50865921!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:54' prior: 50866178!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:41' prior: 50865938!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:57' prior: 50866205!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:36:01' prior: 50866226!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:37:56'!
yyy: 	aBlock1 yyy: aBlock2
 
	self assert: aBlock1 value < aBlock2
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:38:12' prior: 50866252!
yyy: 	aBlock1 yyy: number
 
	self assert: aBlock1 value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:25' prior: 50866195!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	"self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)."
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:42' prior: 50866263!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:40:20' prior: 50866239!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

----STARTUP---- (12 April 2021 22:08:18) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:21'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:21'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:21'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:21'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:21'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:21'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:19'!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:13'!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HernanWilkinson 5/9/2012 18:12'!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''.
	self fail ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HAW 8/28/2017 08:57:25'!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook removeCustomerNamed: 'Paul McCartney'.
	self fail ]
		on: NotFound 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:25'!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 1 equals: customerBook numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook numberOfCustomers.
	self assert: (customerBook includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:28'!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	customerBook removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 0 equals: customerBook numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook numberOfCustomers.
	self deny: (customerBook includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/17/2020 06:03:47'!
test07CanNotSuspendAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: 'George Harrison'.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/19/2018 17:57:11'!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: johnLennon.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26'!
includesCustomerNamed: aName

	^(active includes: aName) or: [ suspended includes: aName ]! !
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26'!
isEmpty
	
	^active isEmpty and: [ suspended isEmpty ]! !
!CustomerBook methodsFor: 'initialization' stamp: 'NR 9/17/2020 07:23:04' overrides: 16896425!
initialize

	active := OrderedCollection new.
	suspended:= OrderedCollection new.! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
numberOfActiveCustomers
	
	^active size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
numberOfCustomers
	
	^active size + suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 9/19/2018 17:36:09'!
numberOfSuspendedCustomers
	
	^suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
removeCustomerNamed: aName 
 
	1 to: active size do: 
	[ :index |
		aName = (active at: index)
			ifTrue: [
				active removeAt: index.
				^ aName 
			] 
	].

	1 to: suspended size do: 	
	[ :index |
		aName = (suspended at: index)
			ifTrue: [
				suspended removeAt: index.
				^ aName 
			] 
	].
	
	^ NotFound signal.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:52'!
signalCustomerAlreadyExists 

	self error: self class customerAlreadyExistsErrorMessage! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:51'!
signalCustomerNameCannotBeEmpty 

	self error: self class customerCanNotBeEmptyErrorMessage ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
suspendCustomerNamed: aName 
	
	(active includes: aName) ifFalse: [^CantSuspend signal].
	
	active remove: aName.
	
	suspended add: aName
! !

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
CustomerBook class
	instanceVariableNames: ''!

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
CustomerBook class
	instanceVariableNames: ''!
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:13'!
customerAlreadyExistsErrorMessage

	^'customer already exists!!!!!!'! !
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:09'!
customerCanNotBeEmptyErrorMessage

	^'customer name cannot be empty!!!!!!'! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:32:44'!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:34' prior: 50866348!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:54' prior: 50866605!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:41' prior: 50866365!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:57' prior: 50866632!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:36:01' prior: 50866653!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:37:56'!
yyy: 	aBlock1 yyy: aBlock2
 
	self assert: aBlock1 value < aBlock2
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:38:12' prior: 50866679!
yyy: 	aBlock1 yyy: number
 
	self assert: aBlock1 value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:25' prior: 50866622!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	"self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)."
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:42' prior: 50866690!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:40:20' prior: 50866666!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:41:41' overrides: 16927572!
setUp

	customerBook1 _ CustomerBook new. ! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:42:18' prior: 50866703!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	self yyy: (self xxx:[customerBook1 addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:42:42' prior: 50866713!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook1 removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:50:51' prior: 50866756!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	"self createCustomerBookWithPaulMcCartney."
		
	self yyy: (self xxx:[self removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:19' prior: 50866748!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:13' prior: 50866768!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HernanWilkinson 5/9/2012 18:12' prior: 50866385!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''.
	self fail ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HAW 8/28/2017 08:57:25' prior: 50866397!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook removeCustomerNamed: 'Paul McCartney'.
	self fail ]
		on: NotFound 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:25' prior: 50866412!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 1 equals: customerBook numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook numberOfCustomers.
	self assert: (customerBook includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:28' prior: 50866431!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	customerBook removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 0 equals: customerBook numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook numberOfCustomers.
	self deny: (customerBook includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/17/2020 06:03:47' prior: 50866452!
test07CanNotSuspendAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: 'George Harrison'.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/19/2018 17:57:11' prior: 50866468!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: johnLennon.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:22'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26' prior: 50866501!
includesCustomerNamed: aName

	^(active includes: aName) or: [ suspended includes: aName ]! !
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26' prior: 50866507!
isEmpty
	
	^active isEmpty and: [ suspended isEmpty ]! !
!CustomerBook methodsFor: 'initialization' stamp: 'NR 9/17/2020 07:23:04' prior: 50866512 overrides: 16896425!
initialize

	active := OrderedCollection new.
	suspended:= OrderedCollection new.! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50866518!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50866528!
numberOfActiveCustomers
	
	^active size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50866532!
numberOfCustomers
	
	^active size + suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 9/19/2018 17:36:09' prior: 50866537!
numberOfSuspendedCustomers
	
	^suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50866541!
removeCustomerNamed: aName 
 
	1 to: active size do: 
	[ :index |
		aName = (active at: index)
			ifTrue: [
				active removeAt: index.
				^ aName 
			] 
	].

	1 to: suspended size do: 	
	[ :index |
		aName = (suspended at: index)
			ifTrue: [
				suspended removeAt: index.
				^ aName 
			] 
	].
	
	^ NotFound signal.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:52' prior: 50866554!
signalCustomerAlreadyExists 

	self error: self class customerAlreadyExistsErrorMessage! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:51' prior: 50866560!
signalCustomerNameCannotBeEmpty 

	self error: self class customerCanNotBeEmptyErrorMessage ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50866566!
suspendCustomerNamed: aName 
	
	(active includes: aName) ifFalse: [^CantSuspend signal].
	
	active remove: aName.
	
	suspended add: aName
! !

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:23'!
CustomerBook class
	instanceVariableNames: ''!

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:23'!
CustomerBook class
	instanceVariableNames: ''!
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:13' prior: 50866583!
customerAlreadyExistsErrorMessage

	^'customer already exists!!!!!!'! !
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:09' prior: 50866588!
customerCanNotBeEmptyErrorMessage

	^'customer name cannot be empty!!!!!!'! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:32:44' prior: 50866593!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:34' prior: 50866827!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:54' prior: 50867097!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:41' prior: 50866844!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:57' prior: 50867124!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:36:01' prior: 50867145!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:37:56' prior: 50866685!
yyy: 	aBlock1 yyy: aBlock2
 
	self assert: aBlock1 value < aBlock2
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:38:12' prior: 50867171!
yyy: 	aBlock1 yyy: number
 
	self assert: aBlock1 value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:25' prior: 50867114!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	"self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)."
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:42' prior: 50867182!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:40:20' prior: 50867158!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

----STARTUP---- (12 April 2021 22:08:46) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:19'!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:13'!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HernanWilkinson 5/9/2012 18:12'!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''.
	self fail ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HAW 8/28/2017 08:57:25'!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook removeCustomerNamed: 'Paul McCartney'.
	self fail ]
		on: NotFound 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:25'!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 1 equals: customerBook numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook numberOfCustomers.
	self assert: (customerBook includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:28'!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	customerBook removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 0 equals: customerBook numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook numberOfCustomers.
	self deny: (customerBook includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/17/2020 06:03:47'!
test07CanNotSuspendAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: 'George Harrison'.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/19/2018 17:57:11'!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: johnLennon.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26'!
includesCustomerNamed: aName

	^(active includes: aName) or: [ suspended includes: aName ]! !
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26'!
isEmpty
	
	^active isEmpty and: [ suspended isEmpty ]! !
!CustomerBook methodsFor: 'initialization' stamp: 'NR 9/17/2020 07:23:04' overrides: 16896425!
initialize

	active := OrderedCollection new.
	suspended:= OrderedCollection new.! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
numberOfActiveCustomers
	
	^active size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
numberOfCustomers
	
	^active size + suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 9/19/2018 17:36:09'!
numberOfSuspendedCustomers
	
	^suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
removeCustomerNamed: aName 
 
	1 to: active size do: 
	[ :index |
		aName = (active at: index)
			ifTrue: [
				active removeAt: index.
				^ aName 
			] 
	].

	1 to: suspended size do: 	
	[ :index |
		aName = (suspended at: index)
			ifTrue: [
				suspended removeAt: index.
				^ aName 
			] 
	].
	
	^ NotFound signal.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:52'!
signalCustomerAlreadyExists 

	self error: self class customerAlreadyExistsErrorMessage! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:51'!
signalCustomerNameCannotBeEmpty 

	self error: self class customerCanNotBeEmptyErrorMessage ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26'!
suspendCustomerNamed: aName 
	
	(active includes: aName) ifFalse: [^CantSuspend signal].
	
	active remove: aName.
	
	suspended add: aName
! !

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
CustomerBook class
	instanceVariableNames: ''!

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
CustomerBook class
	instanceVariableNames: ''!
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:13'!
customerAlreadyExistsErrorMessage

	^'customer already exists!!!!!!'! !
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:09'!
customerCanNotBeEmptyErrorMessage

	^'customer name cannot be empty!!!!!!'! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:32:44'!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:34' prior: 50867267!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:54' prior: 50867524!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:41' prior: 50867284!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:57' prior: 50867551!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:36:01' prior: 50867572!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:37:56'!
yyy: 	aBlock1 yyy: aBlock2
 
	self assert: aBlock1 value < aBlock2
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:38:12' prior: 50867598!
yyy: 	aBlock1 yyy: number
 
	self assert: aBlock1 value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:25' prior: 50867541!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	"self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)."
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:42' prior: 50867609!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:40:20' prior: 50867585!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:41:41' overrides: 16927572!
setUp

	customerBook1 _ CustomerBook new. ! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:42:18' prior: 50867622!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	self yyy: (self xxx:[customerBook1 addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:42:42' prior: 50867632!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook1 removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:50:51' prior: 50867675!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	"self createCustomerBookWithPaulMcCartney."
		
	self yyy: (self xxx:[self removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:48'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:19' prior: 50867667!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:13' prior: 50867687!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HernanWilkinson 5/9/2012 18:12' prior: 50867304!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''.
	self fail ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HAW 8/28/2017 08:57:25' prior: 50867316!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook removeCustomerNamed: 'Paul McCartney'.
	self fail ]
		on: NotFound 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:25' prior: 50867331!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 1 equals: customerBook numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook numberOfCustomers.
	self assert: (customerBook includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:28' prior: 50867350!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	customerBook removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 0 equals: customerBook numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook numberOfCustomers.
	self deny: (customerBook includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/17/2020 06:03:47' prior: 50867371!
test07CanNotSuspendAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: 'George Harrison'.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/19/2018 17:57:11' prior: 50867387!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: johnLennon.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26' prior: 50867420!
includesCustomerNamed: aName

	^(active includes: aName) or: [ suspended includes: aName ]! !
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26' prior: 50867426!
isEmpty
	
	^active isEmpty and: [ suspended isEmpty ]! !
!CustomerBook methodsFor: 'initialization' stamp: 'NR 9/17/2020 07:23:04' prior: 50867431 overrides: 16896425!
initialize

	active := OrderedCollection new.
	suspended:= OrderedCollection new.! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867437!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867447!
numberOfActiveCustomers
	
	^active size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867451!
numberOfCustomers
	
	^active size + suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 9/19/2018 17:36:09' prior: 50867456!
numberOfSuspendedCustomers
	
	^suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867460!
removeCustomerNamed: aName 
 
	1 to: active size do: 
	[ :index |
		aName = (active at: index)
			ifTrue: [
				active removeAt: index.
				^ aName 
			] 
	].

	1 to: suspended size do: 	
	[ :index |
		aName = (suspended at: index)
			ifTrue: [
				suspended removeAt: index.
				^ aName 
			] 
	].
	
	^ NotFound signal.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:52' prior: 50867473!
signalCustomerAlreadyExists 

	self error: self class customerAlreadyExistsErrorMessage! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:51' prior: 50867479!
signalCustomerNameCannotBeEmpty 

	self error: self class customerCanNotBeEmptyErrorMessage ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867485!
suspendCustomerNamed: aName 
	
	(active includes: aName) ifFalse: [^CantSuspend signal].
	
	active remove: aName.
	
	suspended add: aName
! !

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
CustomerBook class
	instanceVariableNames: ''!

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
CustomerBook class
	instanceVariableNames: ''!
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:13' prior: 50867502!
customerAlreadyExistsErrorMessage

	^'customer already exists!!!!!!'! !
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:09' prior: 50867507!
customerCanNotBeEmptyErrorMessage

	^'customer name cannot be empty!!!!!!'! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:32:44' prior: 50867512!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:34' prior: 50867746!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:54' prior: 50868016!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:41' prior: 50867763!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:57' prior: 50868043!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:36:01' prior: 50868064!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:37:56' prior: 50867604!
yyy: 	aBlock1 yyy: aBlock2
 
	self assert: aBlock1 value < aBlock2
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:38:12' prior: 50868090!
yyy: 	aBlock1 yyy: number
 
	self assert: aBlock1 value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:25' prior: 50868033!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	"self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)."
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:42' prior: 50868101!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:40:20' prior: 50868077!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:19' prior: 50868114!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:13' prior: 50868124!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HernanWilkinson 5/9/2012 18:12' prior: 50867784!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''.
	self fail ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HAW 8/28/2017 08:57:25' prior: 50867797!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook removeCustomerNamed: 'Paul McCartney'.
	self fail ]
		on: NotFound 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:25' prior: 50867813!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 1 equals: customerBook numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook numberOfCustomers.
	self assert: (customerBook includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:28' prior: 50867833!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	customerBook removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 0 equals: customerBook numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook numberOfCustomers.
	self deny: (customerBook includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/17/2020 06:03:47' prior: 50867854!
test07CanNotSuspendAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: 'George Harrison'.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/19/2018 17:57:11' prior: 50867870!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: johnLennon.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26' prior: 50867904!
includesCustomerNamed: aName

	^(active includes: aName) or: [ suspended includes: aName ]! !
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26' prior: 50867910!
isEmpty
	
	^active isEmpty and: [ suspended isEmpty ]! !
!CustomerBook methodsFor: 'initialization' stamp: 'NR 9/17/2020 07:23:04' prior: 50867916 overrides: 16896425!
initialize

	active := OrderedCollection new.
	suspended:= OrderedCollection new.! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867922!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867932!
numberOfActiveCustomers
	
	^active size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867937!
numberOfCustomers
	
	^active size + suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 9/19/2018 17:36:09' prior: 50867942!
numberOfSuspendedCustomers
	
	^suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867947!
removeCustomerNamed: aName 
 
	1 to: active size do: 
	[ :index |
		aName = (active at: index)
			ifTrue: [
				active removeAt: index.
				^ aName 
			] 
	].

	1 to: suspended size do: 	
	[ :index |
		aName = (suspended at: index)
			ifTrue: [
				suspended removeAt: index.
				^ aName 
			] 
	].
	
	^ NotFound signal.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:52' prior: 50867961!
signalCustomerAlreadyExists 

	self error: self class customerAlreadyExistsErrorMessage! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:51' prior: 50867968!
signalCustomerNameCannotBeEmpty 

	self error: self class customerCanNotBeEmptyErrorMessage ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50867974!
suspendCustomerNamed: aName 
	
	(active includes: aName) ifFalse: [^CantSuspend signal].
	
	active remove: aName.
	
	suspended add: aName
! !

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
CustomerBook class
	instanceVariableNames: ''!

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:49'!
CustomerBook class
	instanceVariableNames: ''!
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:13' prior: 50867992!
customerAlreadyExistsErrorMessage

	^'customer already exists!!!!!!'! !
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:09' prior: 50867998!
customerCanNotBeEmptyErrorMessage

	^'customer name cannot be empty!!!!!!'! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:32:44' prior: 50868004!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:34' prior: 50868183!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:54' prior: 50868453!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:41' prior: 50868200!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:57' prior: 50868480!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:36:01' prior: 50868501!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:37:56' prior: 50868096!
yyy: 	aBlock1 yyy: aBlock2
 
	self assert: aBlock1 value < aBlock2
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:38:12' prior: 50868527!
yyy: 	aBlock1 yyy: number
 
	self assert: aBlock1 value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:25' prior: 50868470!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	"self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)."
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:42' prior: 50868538!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:40:20' prior: 50868514!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:41:41' prior: 50867662 overrides: 16927572!
setUp

	customerBook1 _ CustomerBook new. ! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:42:18' prior: 50868551!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	self yyy: (self xxx:[customerBook1 addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:42:42' prior: 50868561!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook1 removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:50:51' prior: 50868605!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	"self createCustomerBookWithPaulMcCartney."
		
	self yyy: (self xxx:[self removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CantSuspend category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #NotFound category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:19' prior: 50868597!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:13' prior: 50868617!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HernanWilkinson 5/9/2012 18:12' prior: 50868221!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''.
	self fail ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'HAW 8/28/2017 08:57:25' prior: 50868234!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook removeCustomerNamed: 'Paul McCartney'.
	self fail ]
		on: NotFound 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:25' prior: 50868250!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 1 equals: customerBook numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook numberOfCustomers.
	self assert: (customerBook includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 4/3/2019 10:50:28' prior: 50868270!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| customerBook paulMcCartney|
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	customerBook removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 0 equals: customerBook numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook numberOfCustomers.
	self deny: (customerBook includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/17/2020 06:03:47' prior: 50868291!
test07CanNotSuspendAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: 'George Harrison'.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'NR 9/19/2018 17:57:11' prior: 50868307!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	[ customerBook suspendCustomerNamed: johnLennon.
	self fail ]
		on: CantSuspend 
		do: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBook category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26' prior: 50868341!
includesCustomerNamed: aName

	^(active includes: aName) or: [ suspended includes: aName ]! !
!CustomerBook methodsFor: 'testing' stamp: 'NR 4/3/2019 10:14:26' prior: 50868347!
isEmpty
	
	^active isEmpty and: [ suspended isEmpty ]! !
!CustomerBook methodsFor: 'initialization' stamp: 'NR 9/17/2020 07:23:04' prior: 50868353 overrides: 16896425!
initialize

	active := OrderedCollection new.
	suspended:= OrderedCollection new.! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50868359!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50868369!
numberOfActiveCustomers
	
	^active size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50868374!
numberOfCustomers
	
	^active size + suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 9/19/2018 17:36:09' prior: 50868379!
numberOfSuspendedCustomers
	
	^suspended size! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50868384!
removeCustomerNamed: aName 
 
	1 to: active size do: 
	[ :index |
		aName = (active at: index)
			ifTrue: [
				active removeAt: index.
				^ aName 
			] 
	].

	1 to: suspended size do: 	
	[ :index |
		aName = (suspended at: index)
			ifTrue: [
				suspended removeAt: index.
				^ aName 
			] 
	].
	
	^ NotFound signal.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:52' prior: 50868398!
signalCustomerAlreadyExists 

	self error: self class customerAlreadyExistsErrorMessage! !
!CustomerBook methodsFor: 'customer management' stamp: 'HernanWilkinson 7/6/2011 17:51' prior: 50868405!
signalCustomerNameCannotBeEmpty 

	self error: self class customerCanNotBeEmptyErrorMessage ! !
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50868411!
suspendCustomerNamed: aName 
	
	(active includes: aName) ifFalse: [^CantSuspend signal].
	
	active remove: aName.
	
	suspended add: aName
! !

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
CustomerBook class
	instanceVariableNames: ''!

!classDefinition: 'CustomerBook class' category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:08:50'!
CustomerBook class
	instanceVariableNames: ''!
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:13' prior: 50868429!
customerAlreadyExistsErrorMessage

	^'customer already exists!!!!!!'! !
!CustomerBook class methodsFor: 'error messages' stamp: 'NR 4/12/2021 16:39:09' prior: 50868435!
customerCanNotBeEmptyErrorMessage

	^'customer name cannot be empty!!!!!!'! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:32:44' prior: 50868441!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:34' prior: 50868676!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook addCustomerNamed: 'John Lennon'.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:34:54' prior: 50868946!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:41' prior: 50868693!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	customerBook removeCustomerNamed: paulMcCartney.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:35:57' prior: 50868973!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	  
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:36:01' prior: 50868994!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assert: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) < (100 * millisecond)
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:37:56' prior: 50868533!
yyy: 	aBlock1 yyy: aBlock2
 
	self assert: aBlock1 value < aBlock2
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:38:12' prior: 50869020!
yyy: 	aBlock1 yyy: number
 
	self assert: aBlock1 value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:25' prior: 50868963!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	"self assert: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) < (50 * millisecond)."
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:39:42' prior: 50869031!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	
	customerBook := CustomerBook new.
	
	self yyy: (self xxx:[customerBook addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 21:40:20' prior: 50869007!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/12/2021 22:09:37'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 22:09:54' prior: 50869044!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self yyy: (self xxx:[customerBook1 addCustomerNamed: 'John Lennon']) yyy: (50 * millisecond).
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/12/2021 22:09:56'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/12/2021 22:10:14' prior: 50869054!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	self yyy: (self xxx:[customerBook1 removeCustomerNamed: paulMcCartney.]) yyy: (100 * millisecond).
	
! !

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/12/2021 22:10:16'!
PASSED!

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/12/2021 22:10:18'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/12/2021 22:10:18'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/12/2021 22:10:18'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/12/2021 22:10:18'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/12/2021 22:10:18'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/12/2021 22:10:18'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/12/2021 22:10:18'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/12/2021 22:10:18'!
PASSED!

----SNAPSHOT----(12 April 2021 22:10:50) CuisUniversity-4532.image priorSource: 17078462!

----QUIT----(12 April 2021 22:10:53) CuisUniversity-4532.image priorSource: 17199597!

----STARTUP---- (14 April 2021 15:22:38) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:44:31' prior: 50869081!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self yyy: [customerBook1 addCustomerNamed: 'John Lennon'] yyy: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:46:45' prior: 50869026!
yyy: 	aBlock1 yyy: number
 	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock1 value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	millisecondsAfterRunning  - millisecondsBeforeRunning .
	
	self assert: (millisecondsAfterRunning  - millisecondsBeforeRunning) value < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:46:52' prior: 50869156!
yyy: 	aBlock1 yyy: number
 	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock1 value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	millisecondsAfterRunning  - millisecondsBeforeRunning .
	
	self assert: (millisecondsAfterRunning  - millisecondsBeforeRunning) < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:46:56' prior: 50869172!
yyy: 	aBlock1 yyy: number
 	
	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock1 value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	millisecondsAfterRunning  - millisecondsBeforeRunning .
	
	self assert: (millisecondsAfterRunning  - millisecondsBeforeRunning) < number
	
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 15:47:01'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:47:15' prior: 50869093!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	self yyy: [customerBook1 removeCustomerNamed: paulMcCartney] yyy: (100 * millisecond).
	
! !

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 15:47:18'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:53:15'!
do: aBlock1 compareLessTimeThat: number
 	
	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock1 value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	millisecondsAfterRunning  - millisecondsBeforeRunning .
	
	self assert: (millisecondsAfterRunning  - millisecondsBeforeRunning) < number
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:54:54'!
assertDo: aBlock1 takeLessTimeThat: number
 	
	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock1 value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning  - millisecondsBeforeRunning) < number
	
! !

!methodRemoval: CustomerBookTest #do:compareLessTimeThat: stamp: 'ja 4/14/2021 15:54:57'!
do: aBlock1 compareLessTimeThat: number
 	
	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock1 value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	millisecondsAfterRunning  - millisecondsBeforeRunning .
	
	self assert: (millisecondsAfterRunning  - millisecondsBeforeRunning) < number
	
!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:56:53' prior: 50869236!
assertDo: aBlock takeLessTimeThat: aMaxTime
 	
	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning  - millisecondsBeforeRunning) < aMaxTime
	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:57:37' prior: 50869148!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self assertDo: [customerBook1 addCustomerNamed: 'John Lennon'] takeLessTimeThat: (50 * millisecond).
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:57:44' prior: 50869280!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self assertDo: [customerBook1 addCustomerNamed: 'John Lennon'] takeLessTimeThat: 50 * millisecond.
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 15:57:54'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 15:59:34' prior: 50869206!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	
	self assertDo: [customerBook1 removeCustomerNamed: paulMcCartney] takeLessTimeThat: 100 * millisecond.
	
! !

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 15:59:38'!
PASSED!

!methodRemoval: CustomerBookTest #yyy:yyy: stamp: 'ja 4/14/2021 16:00:10'!
yyy: 	aBlock1 yyy: number
 	
	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock1 value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	millisecondsAfterRunning  - millisecondsBeforeRunning .
	
	self assert: (millisecondsAfterRunning  - millisecondsBeforeRunning) < number
	
!

!methodRemoval: CustomerBookTest #xxx: stamp: 'ja 4/14/2021 16:00:12'!
xxx: aBlock

	|millisecondsBeforeRunning millisecondsAfterRunning|
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	aBlock value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	^ millisecondsAfterRunning  - millisecondsBeforeRunning .
	
!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:00:31' prior: 50868714!
test03CanNotAddACustomerWithEmptyName 

	[ customerBook1 addCustomerNamed: ''.
	self fail ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook1 isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:09:25'!
do: aBlock throw: anException asserting: assertionsBlock ! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:10:08' prior: 50869353!
do: aBlock throw: anException asserting: assertionsBlock 

	aBlock value
		on: anException 
		do: assertionsBlock value.! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:10:53' prior: 50869342!
test03CanNotAddACustomerWithEmptyName 

	self do:[ customerBook1 addCustomerNamed: ''. self fail ]
		throw: Error 
		asserting: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook1 isEmpty ]! !

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:10:57'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:10:57'!
ERROR!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:11:34' prior: 50869365!
test03CanNotAddACustomerWithEmptyName 

	self do:[ customerBook1 addCustomerNamed: '']
		throw: Error 
		asserting: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook1 isEmpty ]! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:11:52' prior: 50869358!
do: aBlock throw: anException asserting: assertionsBlock 

	[ aBlock value.  self fail ]
		on: anException 
		do: assertionsBlock value.! !

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:11:55'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:11:55'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:12:23'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:12:23'!
ERROR!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:13:13' prior: 50869394!
do: aBlock throw: anException asserting: assertionsBlock 

	[ aBlock value.  self fail ]
		on: anException 
		do: assertionsBlock.! !

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:13:16'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:13:30' prior: 50869415!
do: aBlock throw: anException asserting: assertionsBlock 

	[ aBlock value.  self fail ]
		on: anException 
		do: assertionsBlock! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:14:05' prior: 50868727!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	self do:[ customerBook removeCustomerNamed: 'Paul McCartney' ]
		throw: NotFound 
		asserting: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:14:25' prior: 50869433!
test04CanNotRemoveAnInvalidCustomer
	
	| johnLennon |
	
	johnLennon := 'John Lennon'.
	customerBook1 addCustomerNamed: johnLennon.
	
	self do:[ customerBook1 removeCustomerNamed: 'Paul McCartney' ]
		throw: NotFound 
		asserting: [ :anError | 
			self assert: customerBook1 numberOfCustomers = 1.
			self assert: (customerBook1 includesCustomerNamed: johnLennon) ]
! !

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 16:14:28'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:15:37' prior: 50868743!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	customerBook1 suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook1 numberOfActiveCustomers.
	self assert: 1 equals: customerBook1 numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook1 numberOfCustomers.
	self assert: (customerBook1 includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:16:05' prior: 50868763!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	customerBook1 suspendCustomerNamed: paulMcCartney.
	customerBook1 removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook1 numberOfActiveCustomers.
	self assert: 0 equals: customerBook1 numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook1 numberOfCustomers.
	self deny: (customerBook1 includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:22:10'!
assertActiveCustomers: anAmountOfActiveCustomers andSuspendCustomers: anAmountOfSuspendedCustomers

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	customerBook1 suspendCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook1 numberOfActiveCustomers.
	self assert: 1 equals: customerBook1 numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook1 numberOfCustomers.
	self assert: (customerBook1 includesCustomerNamed: paulMcCartney).
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:22:49' prior: 50869504!
assertActiveCustomers: anAmountOfActiveCustomers andSuspendCustomers: anAmountOfSuspendedCustomers
	
	self assert: anAmountOfActiveCustomers equals: customerBook1 numberOfActiveCustomers.
	self assert: anAmountOfSuspendedCustomers equals: customerBook1 numberOfSuspendedCustomers.
	self assert: anAmountOfActiveCustomers + anAmountOfSuspendedCustomers equals: customerBook1 numberOfCustomers.
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:24:08' prior: 50869467!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	customerBook1 suspendCustomerNamed: paulMcCartney.
	
	self assertActiveCustomers: 1 andSuspendCustomers: 0.
	self assert: (customerBook1 includesCustomerNamed: paulMcCartney).
	
	
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:26:25'!
assertTotalCustomersAndActiveCustomers: anAmountOfActiveCustomers andSuspendedCustomers: anAmountOfSuspendedCustomers
	
	self assert: anAmountOfActiveCustomers equals: customerBook1 numberOfActiveCustomers.
	self assert: anAmountOfSuspendedCustomers equals: customerBook1 numberOfSuspendedCustomers.
	self assert: anAmountOfActiveCustomers + anAmountOfSuspendedCustomers equals: customerBook1 numberOfCustomers.
	

	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:27:23' prior: 50869540!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	customerBook1 suspendCustomerNamed: paulMcCartney.
	
	self assertTotalCustomersAndActiveCustomers: 1 andSuspendedCustomers: 0.
	self assert: (customerBook1 includesCustomerNamed: paulMcCartney).
	
	
	

	
! !

!methodRemoval: CustomerBookTest #assertActiveCustomers:andSuspendCustomers: stamp: 'ja 4/14/2021 16:27:32'!
assertActiveCustomers: anAmountOfActiveCustomers andSuspendCustomers: anAmountOfSuspendedCustomers
	
	self assert: anAmountOfActiveCustomers equals: customerBook1 numberOfActiveCustomers.
	self assert: anAmountOfSuspendedCustomers equals: customerBook1 numberOfSuspendedCustomers.
	self assert: anAmountOfActiveCustomers + anAmountOfSuspendedCustomers equals: customerBook1 numberOfCustomers.
	

	
!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:27:42' prior: 50869485!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	customerBook1 suspendCustomerNamed: paulMcCartney.
	customerBook1 removeCustomerNamed: paulMcCartney.
	
	self assert: 0 equals: customerBook1 numberOfActiveCustomers.
	self assert: 0 equals: customerBook1 numberOfSuspendedCustomers.
	self assert: 0 equals: customerBook1 numberOfCustomers.
	
	self deny: (customerBook1 includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:27:58' prior: 50869601!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	customerBook1 suspendCustomerNamed: paulMcCartney.
	customerBook1 removeCustomerNamed: paulMcCartney.
	
	self assertTotalCustomersAndActiveCustomers: 0 andSuspendedCustomers: 0.
	self deny: (customerBook1 includesCustomerNamed: paulMcCartney).


	
! !

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:28:02'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:28:05'!
FAILURE!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:28:05'!
FAILURE!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:28:11'!
FAILURE!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:28:11'!
FAILURE!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:28:32' prior: 50869570!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook1 addCustomerNamed: paulMcCartney.
	customerBook1 suspendCustomerNamed: paulMcCartney.
	
	self assertTotalCustomersAndActiveCustomers: 0 andSuspendedCustomers: 1.
	self assert: (customerBook1 includesCustomerNamed: paulMcCartney).
	
	
	

	
! !

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:28:34'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:28:37'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:28:41'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:30:07' prior: 50868784!
test07CanNotSuspendAnInvalidCustomer
	
	| johnLennon |
	
	johnLennon := 'John Lennon'.
	customerBook1 addCustomerNamed: johnLennon.
	
	self do:[ customerBook1 suspendCustomerNamed: 'George Harrison' ]
		throw: CantSuspend 
		asserting: [ :anError | 
			self assert: customerBook1 numberOfCustomers = 1.
			self assert: (customerBook1 includesCustomerNamed: johnLennon) ]
! !

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 16:30:13'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:30:37' prior: 50868800!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	self do:[ customerBook suspendCustomerNamed: johnLennon ]
		throw: CantSuspend 
		asserting: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'ja 4/14/2021 16:30:54' prior: 50869703!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| johnLennon |
			
	johnLennon := 'John Lennon'.
	customerBook1 addCustomerNamed: johnLennon.
	customerBook1 suspendCustomerNamed: johnLennon.
	
	self do:[ customerBook1 suspendCustomerNamed: johnLennon ]
		throw: CantSuspend 
		asserting: [ :anError | 
			self assert: customerBook1 numberOfCustomers = 1.
			self assert: (customerBook1 includesCustomerNamed: johnLennon) ]
! !

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 16:30:56'!
PASSED!

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 16:31:01'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 16:31:01'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:31:01'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 16:31:01'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:31:01'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:31:01'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 16:31:01'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 16:31:01'!
PASSED!

!classDefinition: #CustomerBookTest category: 'CodigoRepetido-Ejercicio' stamp: 'ja 4/14/2021 16:31:20'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: 'customerBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869288!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self assertDo: [customerBook addCustomerNamed: 'John Lennon'] takeLessTimeThat: 50 * millisecond.
! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869449!
test04CanNotRemoveAnInvalidCustomer
	
	| johnLennon |
	
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	self do:[ customerBook removeCustomerNamed: 'Paul McCartney' ]
		throw: NotFound 
		asserting: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869300!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| paulMcCartney |
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	
	self assertDo: [customerBook removeCustomerNamed: paulMcCartney] takeLessTimeThat: 100 * millisecond.
	
! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50868592 overrides: 16927572!
setUp

	customerBook _ CustomerBook new. ! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869554!
assertTotalCustomersAndActiveCustomers: anAmountOfActiveCustomers andSuspendedCustomers: anAmountOfSuspendedCustomers
	
	self assert: anAmountOfActiveCustomers equals: customerBook numberOfActiveCustomers.
	self assert: anAmountOfSuspendedCustomers equals: customerBook numberOfSuspendedCustomers.
	self assert: anAmountOfActiveCustomers + anAmountOfSuspendedCustomers equals: customerBook numberOfCustomers.
	

	
! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869721!
test08CanNotSuspendAnAlreadySuspendedCustomer
	
	| johnLennon |
			
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	customerBook suspendCustomerNamed: johnLennon.
	
	self do:[ customerBook suspendCustomerNamed: johnLennon ]
		throw: CantSuspend 
		asserting: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869621!
test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	customerBook removeCustomerNamed: paulMcCartney.
	
	self assertTotalCustomersAndActiveCustomers: 0 andSuspendedCustomers: 0.
	self deny: (customerBook includesCustomerNamed: paulMcCartney).


	
! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869685!
test07CanNotSuspendAnInvalidCustomer
	
	| johnLennon |
	
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	
	self do:[ customerBook suspendCustomerNamed: 'George Harrison' ]
		throw: CantSuspend 
		asserting: [ :anError | 
			self assert: customerBook numberOfCustomers = 1.
			self assert: (customerBook includesCustomerNamed: johnLennon) ]
! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869658!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| paulMcCartney|
	
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	customerBook suspendCustomerNamed: paulMcCartney.
	
	self assertTotalCustomersAndActiveCustomers: 0 andSuspendedCustomers: 1.
	self assert: (customerBook includesCustomerNamed: paulMcCartney).
	
	
	

	
! !
!CustomerBookTest methodsFor: 'as yet unclassified' stamp: 'ja 4/14/2021 16:31:20' prior: 50869383!
test03CanNotAddACustomerWithEmptyName 

	self do:[ customerBook addCustomerNamed: '']
		throw: Error 
		asserting: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 16:31:30'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 16:31:30'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:31:30'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 16:31:30'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:31:30'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:31:30'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 16:31:30'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 16:31:30'!
PASSED!
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 16:49:19' prior: 50868904!
suspendCustomerNamed: aName 
	
	active remove: aName ifAbsent: [^CantSuspend signal].
	
	suspended add: aName
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 16:49:24'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 16:49:24'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:49:24'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 16:49:24'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:49:24'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:49:24'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 16:49:24'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 16:49:24'!
PASSED!
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 16:54:40'!
xxx: aCollectionOfCustomers xxx: aName
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].
! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 16:55:40' prior: 50868877!
removeCustomerNamed: aName 
 
	self xxx: active xxx: aName .
	self xxx: suspended xxx: aName.
	
	^ NotFound signal.
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 16:55:44'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 16:55:44'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 16:55:44'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 16:55:44'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:55:44'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 16:55:44'!
ERROR!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 16:55:44'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 16:55:44'!
PASSED!
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 16:59:30'!
xxx: aCollectionOfCustomers xxx: aName continue: aBlock
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].
	^ aBlock value.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 16:59:32' prior: 50870026!
xxx: aCollectionOfCustomers xxx: aName continue: aBlock
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].

	^ aBlock value.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 17:00:11' prior: 50869990!
removeCustomerNamed: aName 
 
	self xxx: active xxx: aName continue: [
		self xxx: suspended xxx: aName continue: [^ NotFound signal.]]  
	
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 17:00:14'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 17:00:14'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 17:00:14'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 17:00:14'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:00:14'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:00:14'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 17:00:14'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 17:00:14'!
PASSED!

!methodRemoval: CustomerBook #xxx:xxx: stamp: 'ja 4/14/2021 17:00:19'!
xxx: aCollectionOfCustomers xxx: aName
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].
!
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 17:03:20'!
removeFrom: aCollectionOfCustomers thisCustomer: aName ifNotFoundDo: aBlock
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].

	^ aBlock value.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 17:04:02' prior: 50870049!
removeCustomerNamed: aName 
 
	self removeFrom: active thisCustomer: aName ifNotFoundDo: [
		self removeFrom: suspended thisCustomer: aName ifNotFoundDo: [^ NotFound signal.]]  
	
! !

!methodRemoval: CustomerBook #xxx:xxx:continue: stamp: 'ja 4/14/2021 17:04:07'!
xxx: aCollectionOfCustomers xxx: aName continue: aBlock
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].

	^ aBlock value.
!

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 17:04:11'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 17:04:11'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 17:04:11'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 17:04:11'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:04:11'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:04:11'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 17:04:11'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 17:04:11'!
PASSED!

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 17:06:06'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 17:06:06'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 17:06:06'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 17:06:06'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:06:06'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:06:06'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 17:06:06'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 17:06:06'!
PASSED!
!CustomerBook methodsFor: 'customer management' stamp: 'NR 4/3/2019 10:14:26' prior: 50869944!
suspendCustomerNamed: aName 
	
	(active includes: aName) ifFalse: [^CantSuspend signal].
	
	active remove: aName.
	
	suspended add: aName
! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 16:49:19' prior: 50870186!
suspendCustomerNamed: aName 
	
	active remove: aName ifAbsent: [^CantSuspend signal].
	
	suspended add: aName
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 17:09:48'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 17:09:48'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 17:09:48'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 17:09:48'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:09:48'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:09:48'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 17:09:48'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 17:09:48'!
PASSED!

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 17:43:51'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 17:43:51'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 17:43:51'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 17:43:51'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:43:51'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 17:43:51'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 17:43:51'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 17:43:51'!
PASSED!

----QUIT----(14 April 2021 17:44:04) CuisUniversity-4532.image priorSource: 17199688!

----STARTUP---- (14 April 2021 18:45:02) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 18:46:10' prior: 50870107!
removeCustomerNamed: aName 
 
	"self removeFrom: active thisCustomer: aName ifNotFoundDo: [
		self removeFrom: suspended thisCustomer: aName ifNotFoundDo: [^ NotFound signal.]]  "
	
	active remove: aName ifAbsent: [
		suspended remove: aName ifAbsent: [^ NotFound signal]]
	
! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/14/2021 18:46:13'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/14/2021 18:46:13'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/14/2021 18:46:13'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/14/2021 18:46:13'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/14/2021 18:46:13'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/14/2021 18:46:13'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/14/2021 18:46:13'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/14/2021 18:46:13'!
PASSED!

----QUIT----(14 April 2021 18:49:34) CuisUniversity-4532.image priorSource: 17235493!

----STARTUP---- (14 April 2021 22:43:37) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/14/2021 22:44:20' prior: 50870267!
removeCustomerNamed: aName 
 
	self removeFrom: active thisCustomer: aName ifNotFoundDo: [
		self removeFrom: suspended thisCustomer: aName ifNotFoundDo: [^ NotFound signal.]]  
	
	
! !

----SNAPSHOT----(14 April 2021 22:46:21) CuisUniversity-4532.image priorSource: 17237040!

----QUIT----(14 April 2021 23:36:31) CuisUniversity-4532.image priorSource: 17237529!

----STARTUP---- (15 April 2021 14:30:36) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!CustomerBook methodsFor: 'private' stamp: 'ja 4/15/2021 14:31:28'!
removeFrom: aCollectionOfCustomers thisCustomer: aName ifAbsent: aBlock
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].

	^ aBlock value.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/15/2021 14:31:56' prior: 50870315!
removeCustomerNamed: aName 
 
	self removeFrom: active thisCustomer: aName ifAbsent: [
		self removeFrom: suspended thisCustomer: aName ifAbsent: [^ NotFound signal.]]  
	
	
! !

!methodRemoval: CustomerBook #removeFrom:thisCustomer:ifNotFoundDo: stamp: 'ja 4/15/2021 14:32:00'!
removeFrom: aCollectionOfCustomers thisCustomer: aName ifNotFoundDo: aBlock
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].

	^ aBlock value.
!

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/15/2021 14:32:21'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/15/2021 14:32:21'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/15/2021 14:32:21'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/15/2021 14:32:21'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:32:21'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:32:21'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/15/2021 14:32:21'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/15/2021 14:32:21'!
PASSED!
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/15/2021 14:37:28' prior: 50868852!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	"((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ]."
	[self includesCustomerNamed: aName] ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/15/2021 14:38:04'!
ERROR!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/15/2021 14:38:04'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/15/2021 14:38:04'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/15/2021 14:38:04'!
ERROR!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:38:04'!
ERROR!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:38:04'!
ERROR!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/15/2021 14:38:04'!
ERROR!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/15/2021 14:38:04'!
ERROR!
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/15/2021 14:38:40' prior: 50870395!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	"((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ]."
	(self includesCustomerNamed: aName) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/15/2021 14:38:43'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/15/2021 14:38:43'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/15/2021 14:38:43'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/15/2021 14:38:43'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:38:43'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:38:43'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/15/2021 14:38:43'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/15/2021 14:38:43'!
PASSED!
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/15/2021 14:40:55' prior: 50870438!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	(self includesCustomerNamed: aName) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/15/2021 14:41:04'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/15/2021 14:41:04'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/15/2021 14:41:04'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/15/2021 14:41:04'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:41:04'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:41:04'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/15/2021 14:41:04'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/15/2021 14:41:04'!
PASSED!

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/15/2021 14:41:54'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/15/2021 14:41:54'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/15/2021 14:41:54'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/15/2021 14:41:54'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:41:54'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:41:54'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/15/2021 14:41:54'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/15/2021 14:41:54'!
PASSED!

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'ja 4/15/2021 14:43:06'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'ja 4/15/2021 14:43:06'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'ja 4/15/2021 14:43:06'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'ja 4/15/2021 14:43:06'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:43:06'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'ja 4/15/2021 14:43:06'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'ja 4/15/2021 14:43:06'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'ja 4/15/2021 14:43:06'!
PASSED!

----STARTUP---- (15 April 2021 14:47:16) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!CustomerBook methodsFor: 'private' stamp: 'ja 4/15/2021 14:31:28'!
removeFrom: aCollectionOfCustomers thisCustomer: aName ifAbsent: aBlock
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].

	^ aBlock value.
! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/15/2021 14:31:56' prior: 50870315!
removeCustomerNamed: aName 
 
	self removeFrom: active thisCustomer: aName ifAbsent: [
		self removeFrom: suspended thisCustomer: aName ifAbsent: [^ NotFound signal.]]  
	
	
! !

!methodRemoval: CustomerBook #removeFrom:thisCustomer:ifNotFoundDo: stamp: 'ja 4/15/2021 14:47:18'!
removeFrom: aCollectionOfCustomers thisCustomer: aName ifNotFoundDo: aBlock
 
	1 to: aCollectionOfCustomers size do: 
	[ :index |
		aName = (aCollectionOfCustomers at: index)
			ifTrue: [
				aCollectionOfCustomers removeAt: index.
				^ aName 
			] 
	].

	^ aBlock value.
!
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/15/2021 14:37:28' prior: 50868852!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	"((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ]."
	[self includesCustomerNamed: aName] ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/15/2021 14:38:40' prior: 50870616!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	"((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ]."
	(self includesCustomerNamed: aName) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !
!CustomerBook methodsFor: 'customer management' stamp: 'ja 4/15/2021 14:40:55' prior: 50870629!
addCustomerNamed: aName

	aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ].
	(self includesCustomerNamed: aName) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !

----QUIT----(15 April 2021 14:47:57) CuisUniversity-4532.image priorSource: 17237620!

----STARTUP---- (17 April 2021 15:51:08) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/14-Numeros/Numero-Exercise.st----!

!testRun: #NumeroTest #test01isCeroReturnsTrueWhenAskToZero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test02isCeroReturnsFalseWhenAskToOthersButZero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test03isOneReturnsTrueWhenAskToOne stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test04isOneReturnsFalseWhenAskToOtherThanOne stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test05EnteroAddsWithEnteroCorrectly stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test06EnteroMultipliesWithEnteroCorrectly stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test07EnteroDividesEnteroCorrectly stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test08FraccionAddsWithFraccionCorrectly stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test09FraccionMultipliesWithFraccionCorrectly stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test10FraccionDividesFraccionCorrectly stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test11EnteroAddsFraccionCorrectly stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test12FraccionAddsEnteroCorrectly stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test13EnteroMultipliesFraccionCorrectly stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test14FraccionMultipliesEnteroCorrectly stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test15EnteroDividesFraccionCorrectly stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test16FraccionDividesEnteroCorrectly stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test17AFraccionCanBeEqualToAnEntero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test18AparentFraccionesAreEqual stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test19AddingFraccionesCanReturnAnEntero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test20MultiplyingFraccionesCanReturnAnEntero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test21DividingFraccionesCanReturnAnEntero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test22DividingEnterosCanReturnAFraccion stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test23CanNotDivideEnteroByZero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test24CanNotDivideFraccionByZero stamp: 'ja 4/17/2021 15:51:37'!
FAILURE!

!testRun: #NumeroTest #test25AFraccionCanNotBeZero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test26AFraccionCanNotBeOne stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test27EnteroSubstractsEnteroCorrectly stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test28FraccionSubstractsFraccionCorrectly stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test29EnteroSubstractsFraccionCorrectly stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test30FraccionSubstractsEnteroCorrectly stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test31SubstractingFraccionesCanReturnAnEntero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test32SubstractingSameEnterosReturnsZero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test33SubstractingSameFraccionesReturnsZero stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test34SubstractingAHigherValueToANumberReturnsANegativeNumber stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test35FibonacciZeroIsOne stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test36FibonacciOneIsOne stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test37FibonacciEnteroReturnsAddingPreviousTwoFibonacciEnteros stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test38FibonacciNotDefinedForNegativeNumbers stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test39NegationOfEnteroIsCorrect stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test40NegationOfFraccionIsCorrect stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test41SignIsCorrectlyAssignedToFractionWithTwoNegatives stamp: 'ja 4/17/2021 15:51:37'!
PASSED!

!testRun: #NumeroTest #test42SignIsCorrectlyAssignedToFractionWithNegativeDivisor stamp: 'ja 4/17/2021 15:51:37'!
ERROR!

!testRun: #NumeroTest #test30FraccionSubstractsEnteroCorrectly stamp: 'ja 4/17/2021 16:42:08'!
ERROR!

!testRun: #NumeroTest #test30FraccionSubstractsEnteroCorrectly stamp: 'ja 4/17/2021 16:42:08'!
ERROR!

----QUIT----(17 April 2021 16:42:38) CuisUniversity-4532.image priorSource: 17248005!

----STARTUP---- (19 April 2021 17:21:06) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


Object subclass: #XXX
        instanceVariableNames: ''
        classVariableNames: ''
        poolDictionaries: ''
        category: 'Collections-Exercise'!

!classDefinition: #XXX category: 'Collections-Exercise' stamp: 'ja 4/19/2021 17:28:42'!
Object subclass: #XXX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Collections-Exercise'!
!XXX methodsFor: 'no messages' stamp: 'ja 4/19/2021 17:29:28'!
findOddsPart0

        | elements index odds |

        elements:= #(1 2 5 6 9).

        odds := OrderedCollection new.
        index := 1.

        [index <= elements size]
        whileTrue: [
                ((elements at: index) odd) ifTrue: [odds add: (elements at: index)].
                index := index +1.
                ].
        ^odds! !

XXX findOddsPart0 .!

XXX new findOddsPart0 .!
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:33:01'!
findOddsPart1

        | elements index odds |

        elements:= #(1 2 5 6 9).

        odds := OrderedCollection new.
        index := 1.

	elements do:[:item | item odd ifTrue: [odds add: item]].

        ^odds! !
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:33:10' prior: 50871450!
findOddsPart1

        | elements  odds |

        elements:= #(1 2 5 6 9).

        odds := OrderedCollection new.


	elements do:[:item | item odd ifTrue: [odds add: item]].

        ^odds! !

XXX new findOddsPart1 . !
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:34:19'!
findOddsPart2

        | elements  odds |

        elements:= #(1 2 5 6 9).

        odds := OrderedCollection new.


	elements select:[:item | item odd ].

        ^odds! !

XXX new findOddsPart2 . !
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:34:57' prior: 50871470!
findOddsPart2

        | elements |

        elements:= #(1 2 5 6 9).

	^elements select:[:item | item odd ].

  ! !

XXX new findOddsPart2 .  !

XXX new findOddsPart2 .  !
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:35:52' prior: 50871479!
findOddsPart2

        | elements |

        elements:= #(1 2 5 6 9).

	^(elements select:[:item | item odd ] asOrderedCollection).

  ! !

XXX new findOddsPart2 .!
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:36:16' prior: 50871488!
findOddsPart2

        | elements |

        elements:= #(1 2 5 6 9).

	^(elements select:[:item | item odd ]) asOrderedCollection.

  ! !

XXX new findOddsPart2 .!
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:37:28'!
findDoubles

        | elements |

        elements:= #(1 2 5 6 9).

	^(elements collect:[:item | item * 2 ]) asOrderedCollection.

  ! !
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:38:15' prior: 50871504!
findDoubles

        | elements doubles |

        elements:= #(1 2 5 6 9).
	doubles _ OrderedCollection  new.

	^doubles _ (elements collect:[:item | item * 2 ]) asOrderedCollection.

  ! !
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:38:30' prior: 50871512!
findDoubles

        | elements doubles |

        elements:= #(1 2 5 6 9).
	doubles _ OrderedCollection  new.

	^doubles _ (elements collect:[:item | item * 2 ]).

  ! !

XXX new findDoubles .!
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:39:17' prior: 50871521!
findDoubles

        | elements  |

        elements:= #(1 2 5 6 9).

	^ elements collect:[:item | item * 2 ].

  ! !
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:40:03'!
findFirstEven

        | elements  |

        elements:= #(1 2 5 6 9).

	^ elements findFirst:[:item | item even ].

  ! !

XXX new findFirstEven .!
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:40:42'!
findFirstEvenWithoutMatching

        | elements  |

        elements:= #(1 5 9).

	^ elements findFirst:[:item | item even ].

  ! !

XXX new findFirstEvenWithoutMatching .!
!XXX methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 17:43:50'!
findFirstEvenWithoutMatchingReturnString

        | elements  |

        elements:= #(1 5 9).

	^ elements detect:[:item | item even ] ifNone:[^'no hay'].

  ! !

----QUIT----(19 April 2021 18:28:39) CuisUniversity-4532.image priorSource: 17272518!

----STARTUP---- (19 April 2021 18:50:48) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


Object subclass: #YYY
        instanceVariableNames: ''
        classVariableNames: ''
        poolDictionaries: ''
        category: 'Measures-Exercise'!

!classDefinition: #YYY category: 'Measures-Exercise' stamp: 'ja 4/19/2021 18:51:49'!
Object subclass: #YYY
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Measures-Exercise'!
!YYY methodsFor: 'no messages' stamp: 'ja 4/19/2021 18:52:02'!
add10MetersPlus500Centimeters! !
!YYY methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 18:53:04' prior: 50871576!
add10MetersPlus500Centimeters

	^ (10*meter) + (500*centimeter) ! !

YYY new add10MetersPlus500Centimeters .!
!YYY methodsFor: 'as yet unclassified' stamp: 'ja 4/19/2021 18:54:53' prior: 50871580!
add10MetersPlus500Centimeters

! !

----QUIT----(19 April 2021 19:26:00) CuisUniversity-4532.image priorSource: 17277057!

----STARTUP---- (22 April 2021 15:19:51) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #Fraccion stamp: 'ja 4/22/2021 15:20:15'!
Numero subclass: #Fraccion
	instanceVariableNames: 'numerator denominator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numero-Exercise'!

!classRemoval: #Entero stamp: 'ja 4/22/2021 15:20:16'!
Numero subclass: #Entero
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numero-Exercise'!

!classRemoval: #Numero stamp: 'ja 4/22/2021 15:20:16'!
Object subclass: #Numero
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numero-Exercise'!

!classRemoval: #NumeroTest stamp: 'ja 4/22/2021 15:20:16'!
TestCase subclass: #NumeroTest
	instanceVariableNames: 'zero one two four oneFifth oneHalf five twoFifth twoTwentyfifth fiveHalfs three eight negativeOne negativeTwo'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numero-Exercise'!

----End fileIn of /home/jampuero/Documentos/isw1/tps/isw1/14-Numeros/Numero-Exercise.st----!

!testRun: #NumeroTest #test01isCeroReturnsTrueWhenAskToZero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test02isCeroReturnsFalseWhenAskToOthersButZero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test03isOneReturnsTrueWhenAskToOne stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test04isOneReturnsFalseWhenAskToOtherThanOne stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test05EnteroAddsWithEnteroCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test06EnteroMultipliesWithEnteroCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test07EnteroDividesEnteroCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test08FraccionAddsWithFraccionCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test09FraccionMultipliesWithFraccionCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test10FraccionDividesFraccionCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test11EnteroAddsFraccionCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test12FraccionAddsEnteroCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test13EnteroMultipliesFraccionCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test14FraccionMultipliesEnteroCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test15EnteroDividesFraccionCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test16FraccionDividesEnteroCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test17AFraccionCanBeEqualToAnEntero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test18AparentFraccionesAreEqual stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test19AddingFraccionesCanReturnAnEntero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test20MultiplyingFraccionesCanReturnAnEntero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test21DividingFraccionesCanReturnAnEntero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test22DividingEnterosCanReturnAFraccion stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test23CanNotDivideEnteroByZero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test24CanNotDivideFraccionByZero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test25AFraccionCanNotBeZero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test26AFraccionCanNotBeOne stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test27EnteroSubstractsEnteroCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test28FraccionSubstractsFraccionCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test29EnteroSubstractsFraccionCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test30FraccionSubstractsEnteroCorrectly stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test31SubstractingFraccionesCanReturnAnEntero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test32SubstractingSameEnterosReturnsZero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test33SubstractingSameFraccionesReturnsZero stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test34SubstractingAHigherValueToANumberReturnsANegativeNumber stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test35FibonacciZeroIsOne stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test36FibonacciOneIsOne stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test37FibonacciEnteroReturnsAddingPreviousTwoFibonacciEnteros stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test38FibonacciNotDefinedForNegativeNumbers stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test39NegationOfEnteroIsCorrect stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test40NegationOfFraccionIsCorrect stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test41SignIsCorrectlyAssignedToFractionWithTwoNegatives stamp: 'ja 4/22/2021 15:21:25'!
PASSED!

!testRun: #NumeroTest #test42SignIsCorrectlyAssignedToFractionWithNegativeDivisor stamp: 'ja 4/22/2021 15:21:25'!
PASSED!
!Entero class methodsFor: 'instance creation' stamp: 'ja 4/22/2021 15:22:22' prior: 50872151!
with: aValue 
	
	"Esta verificacion esta puesta por si se equivocan y quieren crear un Entero pasando otra cosa que un Integer - Hernan"
	aValue isInteger ifFalse: [  self error: 'aValue debe ser anInteger' ].
	
	aValue = 0 ifTrue: [^Cero new].

	aValue = 1 ifTrue: [^Uno new]	.
	
	aValue > 1 ifTrue: [^EnteroMayorAUno new initalizeWith: aValue].
	
	^Negativo new initalizeWith: aValue.! !
!Cero methodsFor: 'arithmetic operations' stamp: 'ja 4/22/2021 15:22:57' overrides: 16896425!
initialize 
	
	value  = 0! !
!Uno methodsFor: 'private' stamp: 'ja 4/22/2021 15:23:11' overrides: 16896425!
initialize

	value  = 1! !
!Cero methodsFor: 'arithmetic operations' stamp: 'ja 4/22/2021 15:23:55' prior: 50872694 overrides: 16896425!
initialize 
	
	value  _ 0! !
!Entero class methodsFor: 'instance creation' stamp: 'ja 4/22/2021 15:24:20' prior: 50872678!
with: aValue 
	
	"Esta verificacion esta puesta por si se equivocan y quieren crear un Entero pasando otra cosa que un Integer - Hernan"
	aValue isInteger ifFalse: [  self error: 'aValue debe ser anInteger' ].
	self halt.
	aValue = 0 ifTrue: [^Cero new].

	aValue = 1 ifTrue: [^Uno new]	.
	
	aValue > 1 ifTrue: [^EnteroMayorAUno new initalizeWith: aValue].
	
	^Negativo new initalizeWith: aValue.! !

Cero new!
!Entero class methodsFor: 'instance creation' stamp: 'ja 4/22/2021 15:28:21' prior: 50872707!
with: aValue 
	
	"Esta verificacion esta puesta por si se equivocan y quieren crear un Entero pasando otra cosa que un Integer - Hernan"
	aValue isInteger ifFalse: [  self error: 'aValue debe ser anInteger' ].
	
	aValue = 0 ifTrue: [^Cero new].

	aValue = 1 ifTrue: [^Uno new]	.
	
	aValue > 1 ifTrue: [^EnteroMayorAUno new initalizeWith: aValue].
	
	^Negativo new initalizeWith: aValue.! !
!Uno methodsFor: 'private' stamp: 'ja 4/22/2021 15:30:38' prior: 50872698 overrides: 16896425!
initialize

	value  _ 1! !

!testRun: #NumeroTest #test01isCeroReturnsTrueWhenAskToZero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test02isCeroReturnsFalseWhenAskToOthersButZero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test03isOneReturnsTrueWhenAskToOne stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test04isOneReturnsFalseWhenAskToOtherThanOne stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test05EnteroAddsWithEnteroCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test06EnteroMultipliesWithEnteroCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test07EnteroDividesEnteroCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test08FraccionAddsWithFraccionCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test09FraccionMultipliesWithFraccionCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test10FraccionDividesFraccionCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test11EnteroAddsFraccionCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test12FraccionAddsEnteroCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test13EnteroMultipliesFraccionCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test14FraccionMultipliesEnteroCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test15EnteroDividesFraccionCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test16FraccionDividesEnteroCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test17AFraccionCanBeEqualToAnEntero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test18AparentFraccionesAreEqual stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test19AddingFraccionesCanReturnAnEntero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test20MultiplyingFraccionesCanReturnAnEntero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test21DividingFraccionesCanReturnAnEntero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test22DividingEnterosCanReturnAFraccion stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test23CanNotDivideEnteroByZero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test24CanNotDivideFraccionByZero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test25AFraccionCanNotBeZero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test26AFraccionCanNotBeOne stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test27EnteroSubstractsEnteroCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test28FraccionSubstractsFraccionCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test29EnteroSubstractsFraccionCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test30FraccionSubstractsEnteroCorrectly stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test31SubstractingFraccionesCanReturnAnEntero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test32SubstractingSameEnterosReturnsZero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test33SubstractingSameFraccionesReturnsZero stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test34SubstractingAHigherValueToANumberReturnsANegativeNumber stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test35FibonacciZeroIsOne stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test36FibonacciOneIsOne stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test37FibonacciEnteroReturnsAddingPreviousTwoFibonacciEnteros stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test38FibonacciNotDefinedForNegativeNumbers stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test39NegationOfEnteroIsCorrect stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test40NegationOfFraccionIsCorrect stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test41SignIsCorrectlyAssignedToFractionWithTwoNegatives stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

!testRun: #NumeroTest #test42SignIsCorrectlyAssignedToFractionWithNegativeDivisor stamp: 'ja 4/22/2021 15:30:41'!
PASSED!

----STARTUP---- (25 April 2021 12:58:29) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/15-Stack/Stack-Exercise.st----!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 12:59:12'!
ERROR!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 12:59:43'!
ERROR!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 12:59:43'!
ERROR!

----QUIT----(25 April 2021 13:00:17) CuisUniversity-4532.image priorSource: 17278082!

----STARTUP---- (25 April 2021 15:42:50) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 16:21:40'!
ERROR!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:21:40'!
ERROR!
!OOStack methodsFor: 'no messages' stamp: 'ja 4/25/2021 16:24:31' overrides: 16896425!
initialize 

	^ true! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:24:41' prior: 50871831 overrides: 16896425!
initialize 

	! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:24:59'!
isEmpty

	^ true

	! !

!methodRemoval: OOStack #initialize stamp: 'ja 4/25/2021 16:25:03'!
initialize 

	!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 16:25:07'!
PASSED!

Object subclass: #OOStack
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #OOStack category: 'Stack-Exercise' stamp: 'ja 4/25/2021 16:26:12'!
Object subclass: #OOStack
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:27:01' overrides: 16896425!
initialize 
	
	stack  _ OrderedCollection new.! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:27:10' prior: 50871839!
isEmpty

	^ stack isEmpty 

	! !

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 16:27:17'!
PASSED!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:27:43'!
push: anElement

	stack add: anElement .! !

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 16:27:59'!
PASSED!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 16:28:01'!
PASSED!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:28:24'!
pop

	stack removeLast ! !

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 16:28:32'!
PASSED!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:28:59' prior: 50871882!
pop

	^ stack removeLast ! !

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 16:29:08'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 16:29:10'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 16:29:11'!
PASSED!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 16:29:12'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 16:29:56'!
PASSED!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:30:33'!
top 

	^ stack last .! !

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 16:30:40'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 16:30:46'!
ERROR!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 16:30:46'!
ERROR!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:31:08' overrides: 16880927!
size 

	^ stack size ! !

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 16:31:14'!
PASSED!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:32:44' prior: 50871889!
pop
	
	self size ifTrue:[self error: self stackEmptyErrorDescription].
	
	^ stack removeLast ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:32:58' prior: 50871929!
pop
	
	self size ifTrue:[self error: self class stackEmptyErrorDescription].
	
	^ stack removeLast ! !

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:33:05'!
FAILURE!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:33:05'!
FAILURE!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:33:37' prior: 50871935!
pop
	
	self size ifTrue: [self error: self class stackEmptyErrorDescription].
	
	^ stack removeLast ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:33:42' prior: 50871949!
pop
	
	self size ifTrue: [^self error: self class stackEmptyErrorDescription].
	
	^ stack removeLast ! !

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:33:46'!
FAILURE!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:33:46'!
FAILURE!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:33:55' prior: 50871956!
pop
	
	self size ifTrue: [self error: self class stackEmptyErrorDescription].
	
	^ stack removeLast ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:35:09' prior: 50871970!
pop
	
	(self size = 0) ifTrue: [self error: self class stackEmptyErrorDescription].
	
	^ stack removeLast ! !

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:35:17'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 16:35:41'!
PASSED!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:36:09' prior: 50871908!
top 

	(self size = 0) ifTrue: [self error: self class stackEmptyErrorDescription].
	^ stack last .! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:36:11' prior: 50871991!
top 

	(self size = 0) ifTrue: [self error: self class stackEmptyErrorDescription].
	
	^ stack last .! !

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:36:15'!
PASSED!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 16:36:18'!
PASSED!

OOStack subclass: #OOStackEmpty
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

OOStack subclass: #OOStackEmpty
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #OOStackEmpty category: 'Stack-Exercise' stamp: 'ja 4/25/2021 16:41:38'!
OOStack subclass: #OOStackEmpty
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

OOStack subclass: #OOStackNotEmpty
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #OOStackNotEmpty category: 'Stack-Exercise' stamp: 'ja 4/25/2021 16:41:56'!
OOStack subclass: #OOStackNotEmpty
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!
!OOStackEmpty methodsFor: 'no messages' stamp: 'ja 4/25/2021 16:42:17' overrides: 50871998!
top

	self error: self class stackEmptyErrorDescription! !
!OOStackEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:42:21' overrides: 50871977!
pop

	self error: self class stackEmptyErrorDescription! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:43:02' prior: 50871977!
pop
	
	"(self size = 0) ifTrue: [self error: self class stackEmptyErrorDescription]."
	
	^ stack removeLast ! !
!OOStackNotEmpty methodsFor: 'no messages' stamp: 'ja 4/25/2021 16:43:57' overrides: 50872078!
pop 

	^ stack removeLast ! !
!OOStackNotEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:44:07' prior: 50872085 overrides: 50872078!
pop 
	
	^ stack removeLast ! !
!OOStackNotEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:44:19' overrides: 50871998!
top

	^ stack last.! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:44:33' prior: 50871998!
top 

	"(self size = 0) ifTrue: [self error: self class stackEmptyErrorDescription]."
	
	^ stack last .! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:44:40' prior: 50872099!
top 

	"(self size = 0) ifTrue: [self error: self class stackEmptyErrorDescription]."
	
	self subclassResponsibility 
	! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:44:46' prior: 50872078!
pop
	
	"(self size = 0) ifTrue: [self error: self class stackEmptyErrorDescription]."
	
	self subclassResponsibility ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:44:58' prior: 50871865!
isEmpty

	self subclassResponsibility 
	! !
!OOStackEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:45:11' overrides: 50872120!
isEmpty 

	^ true ! !
!OOStackNotEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:45:21' overrides: 50872120!
isEmpty 

	^ false ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:45:47' prior: 50871860 overrides: 16896425!
initialize 
	
	stack  _ OOStackEmpty new.! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:46:37' prior: 50871872!
push: anElement

	"stack add: anElement ."
	self subclassResponsibility ! !
!OOStackEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:48:10' overrides: 50872139!
push: anElement

	| otherStack |
	
	otherStack _ OOStackNotEmpty new.
	
	! !
!OOStackEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:48:47' prior: 50872145 overrides: 50872139!
push: anElement

	| otherStack |
	
	otherStack _ OOStackNotEmpty new.
	
	^ otherStack push: anElement .
	
	! !
!OOStackNotEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:49:06' overrides: 50872139!
push: anElement

	stack add: anElement ! !
!OOStackNotEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:49:44' overrides: 50872134!
initialize

	stack _ OrderedCollection new! !
!OOStackNotEmpty methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 16:50:45' prior: 50872090 overrides: 50872113!
pop 

	^ stack removeLast ! !

!methodRemoval: OOStackEmpty #isEmpty stamp: 'ja 4/25/2021 17:13:46'!
isEmpty 

	^ true !

!methodRemoval: OOStackEmpty #pop stamp: 'ja 4/25/2021 17:13:49'!
pop

	self error: self class stackEmptyErrorDescription!

!methodRemoval: OOStackEmpty #push: stamp: 'ja 4/25/2021 17:13:51'!
push: anElement

	| otherStack |
	
	otherStack _ OOStackNotEmpty new.
	
	^ otherStack push: anElement .
	
	!

!methodRemoval: OOStackEmpty #top stamp: 'ja 4/25/2021 17:13:53'!
top

	self error: self class stackEmptyErrorDescription!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:14:09' prior: 50872134 overrides: 16896425!
initialize 
	
	stack  _ OrderedCollection new.! !

!classRemoval: #OOStackEmpty stamp: 'ja 4/25/2021 17:14:14'!
OOStack subclass: #OOStackEmpty
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classRemoval: #OOStackNotEmpty stamp: 'ja 4/25/2021 17:14:17'!
OOStack subclass: #OOStackNotEmpty
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

Object subclass: #OOStackNode
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #OOStackNode category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:15:36'!
Object subclass: #OOStackNode
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

Object subclass: #OOStackNode
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #OOStackNode category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:15:43'!
Object subclass: #OOStackNode
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

OOStackNode subclass: #Base
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #Base category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:16:34'!
OOStackNode subclass: #Base
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

OOStackNode subclass: #NextNode
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #NextNode category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:17:36'!
OOStackNode subclass: #NextNode
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

OOStackNode subclass: #NextNode
	instanceVariableNames: 'previous value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #NextNode category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:18:05'!
OOStackNode subclass: #NextNode
	instanceVariableNames: 'previous value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

Object subclass: #OOStack
	instanceVariableNames: 'lastNode'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #OOStack category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:18:37'!
Object subclass: #OOStack
	instanceVariableNames: 'lastNode'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

Object subclass: #OOStack
	instanceVariableNames: 'top'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #OOStack category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:19:03'!
Object subclass: #OOStack
	instanceVariableNames: 'top'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:19:45' prior: 50872191 overrides: 16896425!
initialize 
	
	top  _ Base new.! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:20:08' prior: 50872120!
isEmpty

	^ top isEmpty
	! !
!Base methodsFor: 'no messages' stamp: 'ja 4/25/2021 17:20:31'!
isEmpty
	
	^ true! !
!NextNode methodsFor: 'no messages' stamp: 'ja 4/25/2021 17:20:42'!
isEmpty
	
	^ false ! !
!OOStackNode methodsFor: 'no messages' stamp: 'ja 4/25/2021 17:20:51'!
isEmpty
	
	self subclassResponsibility ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:22:01' prior: 50872139!
push: anElement

	top _ NextNode from: top with: anElement .! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:22:27' prior: 50872306!
push: anElement

	top _ NextNode from: top with: anElement .! !
!OOStackNode class methodsFor: 'no messages' stamp: 'ja 4/25/2021 17:23:55'!
from: aStackNode with: anElement 

	^ self new initializeFrom: aStackNode with: anElement .! !

!methodRemoval: OOStackNode class #from:with: stamp: 'ja 4/25/2021 17:24:55'!
from: aStackNode with: anElement 

	^ self new initializeFrom: aStackNode with: anElement .!
!NextNode class methodsFor: 'no messages' stamp: 'ja 4/25/2021 17:25:00'!
from: aStackNode with: anElement 

	^ self new initializeFrom: aStackNode with: anElement .! !
!NextNode methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:25:22'!
initializeFrom: aStackNode with: anElement

	previous _ aStackNode .
	value _ anElement ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:27:50' prior: 50871922 overrides: 16880927!
size 

	^ top size! !
!OOStackNode methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:28:00' overrides: 16880927!
size
	
	self subclassResponsibility ! !
!Base methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:28:10' overrides: 50872344!
size 

	^ 0! !
!NextNode methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:28:25' overrides: 50872344!
size 

	^ previous size + 1! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:31:07' prior: 50872113!
pop
	
	| lastNode |
	
	lastNode _ self top.
	top _ top previous.
	
	^ lastNode ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:31:32' prior: 50872106!
top 

	^ top value! !
!NextNode methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:31:47' overrides: 16881508!
value 

	^ value! !
!Base methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:31:58' overrides: 16881508!
value ! !
!Base methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:32:20' prior: 50872371 overrides: 16881508!
value 

	self error: OOStack  stackEmptyErrorDescription .! !
!OOStackNode methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:32:31' overrides: 16881508!
value! !
!OOStackNode methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:32:39' prior: 50872381 overrides: 16881508!
value

	self subclassResponsibility ! !
!Base methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:32:45' prior: 50872375 overrides: 50872385!
value 

	self error: OOStack stackEmptyErrorDescription .! !

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 17:32:49'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 17:32:49'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 17:32:49'!
ERROR!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:32:49'!
ERROR!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 17:32:49'!
ERROR!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:32:49'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 17:32:49'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:32:49'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 17:32:49'!
ERROR!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:32:49'!
PASSED!
!NextNode methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:33:21'!
previous

	^ previous ! !

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:34:18'!
PASSED!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:34:47'!
PASSED!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 17:35:26'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:35:26'!
PASSED!
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:37:31' prior: 50872288 overrides: 16896425!
initialize 
	
	top _ Base new.! !
!NextNode class methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:42:29' prior: 50872327!
from: aPreviousStackNode with: anElement 

	^ self new initializeFrom: aPreviousStackNode with: anElement .! !
!NextNode methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:43:19' prior: 50872333!
initializeFrom: aPreviousStackNode with: anElement

	previous _ aPreviousStackNode .
	value _ anElement ! !
!OOStack methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:47:04' prior: 50872530 overrides: 16896425!
initialize 
	
	top _ Base from: self. ! !

Object subclass: #OOStackNode
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #OOStackNode category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:47:59'!
Object subclass: #OOStackNode
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

OOStackNode subclass: #Base
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #Base category: 'Stack-Exercise' stamp: 'ja 4/25/2021 17:48:08'!
OOStackNode subclass: #Base
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!
!Base class methodsFor: 'no messages' stamp: 'ja 4/25/2021 17:49:39'!
from: anOOStack
	
	^ self new initializeFrom: anOOStack 
	! !
!Base methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:49:59'!
initializeFrom: anOOStack 

	stack _ anOOStack ! !
!Base methodsFor: 'as yet unclassified' stamp: 'ja 4/25/2021 17:50:08' prior: 50872390 overrides: 50872385!
value 

	self error: stack class stackEmptyErrorDescription .! !

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/25/2021 17:50:17'!
PASSED!

----SNAPSHOT----(25 April 2021 17:53:11) CuisUniversity-4532.image priorSource: 17284507!

----QUIT----(25 April 2021 17:53:40) CuisUniversity-4532.image priorSource: 17311092!

----STARTUP---- (26 April 2021 15:58:45) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(26 April 2021 16:25:01) CuisUniversity-4532.image priorSource: 17311183!

----STARTUP---- (26 April 2021 17:22:56) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!SentenceFinderByPrefix methodsFor: 'no messages' stamp: 'ja 4/26/2021 17:26:38'!
find: aPrefix! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:27:28' prior: 50872638!
find: aPrefix

	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:27:52' prior: 50872642!
find: aPrefix

	! !

Object subclass: #NameOfSubclass
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #NameOfSubclass category: 'Stack-Exercise' stamp: 'ja 4/26/2021 17:27:58'!
Object subclass: #NameOfSubclass
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classRemoval: #NameOfSubclass stamp: 'ja 4/26/2021 17:28:17'!
Object subclass: #NameOfSubclass
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

Object subclass: #SentenceFinderByPrefix
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #SentenceFinderByPrefix category: 'Stack-Exercise' stamp: 'ja 4/26/2021 17:28:23'!
Object subclass: #SentenceFinderByPrefix
	instanceVariableNames: 'stack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!
!SentenceFinderByPrefixTest methodsFor: 'no messages' stamp: 'ja 4/26/2021 17:29:10'!
test01

	| stack |
	
	stack _ OOStack new.
	stack push: 'hola'.! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:29:38' prior: 50872680!
test01

	| stack finder |
	
	finder _ SentenceFinderByPrefix  new.
	stack _ OOStack new.
	stack push: 'hola'.
	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:30:57' prior: 50872686!
test01

	| stack finder |
	
	stack _ OOStack new.
	stack push: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	
	
	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:32:59' prior: 50872694!
test01

	| stack finder |
	
	stack _ OOStack new.
	stack push: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: #('hola').
	

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:34:24' prior: 50872646!
find: aPrefix

	
	! !

Object subclass: #SentenceFinderByPrefix
	instanceVariableNames: 'stack sentencesFound'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #SentenceFinderByPrefix category: 'Stack-Exercise' stamp: 'ja 4/26/2021 17:35:01'!
Object subclass: #SentenceFinderByPrefix
	instanceVariableNames: 'stack sentencesFound'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:35:22' prior: 50872712!
find: aPrefix
	
	sentencesFound _ OrderedCollection  new.
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:36:35' prior: 50872730!
find: aPrefix
	
	sentencesFound _ OrderedCollection  new.
	
	
	
	! !

Object subclass: #SentenceFinderByPrefix
	instanceVariableNames: 'stack sentencesFound reverseStackSentences'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classDefinition: #SentenceFinderByPrefix category: 'Stack-Exercise' stamp: 'ja 4/26/2021 17:40:15'!
Object subclass: #SentenceFinderByPrefix
	instanceVariableNames: 'stack sentencesFound reverseStackSentences'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:43:06' prior: 50872736!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	(stack top isKindOf: NextNode) do:[ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:45:08' prior: 50872757!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	(stack top isKindOf: NextNode) do:[ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:45:43'!
addToSentencesFoundIfContainsPrefix: aPrefix in: atop.
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:46:15' prior: 50872766!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	(stack top isKindOf: NextNode) do:[ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:51:13' prior: 50872777!
addToSentencesFoundIfContainsPrefix: aPrefix in: aSentence

	(aSentence beginsWith: aPrefix) ifTrue: [
		sentencesFound add: aSentence .
		]
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:51:28' prior: 50872794!
addToSentencesFoundIfContainsPrefix: aPrefix in: aSentence

	(aSentence beginsWith: aPrefix) ifTrue: [ sentencesFound add: aSentence ]
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:52:10' prior: 50872783!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	(stack top isKindOf: NextNode) whileTrue:[ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:52:18' prior: 50872810!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	(stack top isKindOf: NextNode) whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:53:42' prior: 50872821!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	(stack top isKindOf: NextNode) whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].
	
	reverseStackSentences do:[:item | stack push: item].
	
	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:53:49' prior: 50872832!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	(stack top isKindOf: NextNode) whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].
	
	reverseStackSentences do:[ :item | stack push: item ].
	
	^sentencesFound 
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 17:54:44'!
ERROR!
!SentenceFinderByPrefix class methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:54:52'!
with: anOOStack 
	self shouldBeImplemented.! !
!SentenceFinderByPrefix class methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:55:12' prior: 50872862!
with: anOOStack 
	
	^ self new initializeWith: anOOStack ! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 17:55:40'!
initializeWith: anOOStack 

	stack _ anOOStack .
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 17:57:14'!
ERROR!

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 17:57:14'!
ERROR!

stack top!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:00:11' prior: 50872846!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	(stack size > 0) whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].
	
	reverseStackSentences do:[ :item | stack push: item ].
	
	^sentencesFound 
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:00:32'!
ERROR!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:01:11' prior: 50872883!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	
	[stack size > 0] whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].
	
	reverseStackSentences do:[ :item | stack push: item ].
	
	^sentencesFound 
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:01:38'!
ERROR!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:02:24' prior: 50872899!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	reverseStackSentences _ OrderedCollection new.
	
	[stack size > 0] whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].
	
	reverseStackSentences do:[ :item | stack push: item ].
	
	^sentencesFound 
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:04:00'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:04:05'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:04:05'!
FAILURE!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:05:06' prior: 50872702!
test01

	| stack finder res |
	
	stack _ OOStack new.
	stack push: 'hola'.
	res _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: #('hola').
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:05:13' prior: 50872938!
test01

	| stack finder res |
	
	stack _ OOStack new.
	stack push: 'hola'.
	res _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:05:24'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:06:21'!
PASSED!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:09:59' prior: 50872915!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	reverseStackSentences _ OrderedCollection new.
	
	self findAllSentencesBeginingWith: aPrefix.
	
	[stack size > 0] whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].
	
	reverseStackSentences do:[ :item | stack push: item ].
	
	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:10:17'!
findAllSentencesBeginingWith: aPrefix.
	
	[stack size > 0] whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:10:29' prior: 50872965!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	reverseStackSentences _ OrderedCollection new.
	
	self findAllSentencesBeginingWith: aPrefix.
	
	reverseStackSentences do:[ :item | stack push: item ].
	
	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:12:25' prior: 50872991!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	reverseStackSentences _ OrderedCollection new.
	
	self findAllSentencesBeginingWith: aPrefix.
	self recoverStack.
	reverseStackSentences do:[ :item | stack push: item ].
	
	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:12:35'!
recoverStack
	
	reverseStackSentences do:[ :item | stack push: item ]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:12:46' prior: 50873002!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	reverseStackSentences _ OrderedCollection new.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	
	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:12:52' prior: 50873019!
find: aPrefix
	
	sentencesFound _ OrderedCollection new.
	reverseStackSentences _ OrderedCollection new.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:14:51' prior: 50873029!
find: aPrefix
	
	self startInternalStructures.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:15:06'!
startInternalStructures

	sentencesFound _ OrderedCollection new.
	reverseStackSentences _ OrderedCollection new.	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:15:08' prior: 50873047!
startInternalStructures

	sentencesFound _ OrderedCollection new.

	reverseStackSentences _ OrderedCollection new.	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:17:33' prior: 50872981!
findAllSentencesBeginingWith: aPrefix.
	
	[stack isEmpty not] whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].

	
	! !

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:19:02'!
PASSED!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:19:40' prior: 50873063!
findAllSentencesBeginingWith: aPrefix
	
	[stack isEmpty not] whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIfContainsPrefix: aPrefix in: top.
		].

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:26:40'!
addToSentencesFoundIf: aSentence beginsWith: aPrefix

	(aSentence beginsWith: aPrefix) ifTrue: [ sentencesFound add: aSentence ]
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:27:27' prior: 50873076!
findAllSentencesBeginingWith: aPrefix
	
	[stack isEmpty not] whileTrue: [ | top | 
		top _ stack pop.
		reverseStackSentences add: top.
		self addToSentencesFoundIf: top beginsWith: aPrefix .
		].

	
	! !

!methodRemoval: SentenceFinderByPrefix #addToSentencesFoundIfContainsPrefix:in: stamp: 'ja 4/26/2021 18:27:33'!
addToSentencesFoundIfContainsPrefix: aPrefix in: aSentence

	(aSentence beginsWith: aPrefix) ifTrue: [ sentencesFound add: aSentence ]
	
	!

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:27:36'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:29:06' prior: 50872949!
test01

	| stack finder res |
	
	stack _ OOStack new.
	res _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:29:18'!
test02

	| stack finder res |
	
	stack _ OOStack new.
	stack push: ''.
	res _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:29:24'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02 stamp: 'ja 4/26/2021 18:29:26'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test02 stamp: 'ja 4/26/2021 18:29:26'!
FAILURE!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:29:42' prior: 50873124!
test02

	| stack finder res |
	
	stack _ OOStack new.
	stack push: 'hola'.
	res _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test02 stamp: 'ja 4/26/2021 18:29:55'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:29:58'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:30:29'!
test01FindInEmptyStack

	| stack finder res |
	
	stack _ OOStack new.
	res _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:30:54'!
test01FindAPrefixInEmptyStack

	| stack finder res |
	
	stack _ OOStack new.
	res _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #test01FindInEmptyStack stamp: 'ja 4/26/2021 18:30:54'!
test01FindInEmptyStack

	| stack finder res |
	
	stack _ OOStack new.
	res _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	!

!methodRemoval: SentenceFinderByPrefixTest #test01 stamp: 'ja 4/26/2021 18:30:58'!
test01

	| stack finder res |
	
	stack _ OOStack new.
	res _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:31:37' prior: 50873143!
test02

	| stack finder res |
	
	stack _ OOStack new.
	stack push: 'hola'.
	res _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'ho') equals: res.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test01FindAPrefixInEmptyStack stamp: 'ja 4/26/2021 18:31:39'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02 stamp: 'ja 4/26/2021 18:31:39'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:33:40'!
test02FoundASetenceInStackWithAnElement

	| stack finder res |
	
	stack _ OOStack new.
	stack push: 'hola'.
	res _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'ho') equals: res.
	

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #test02 stamp: 'ja 4/26/2021 18:33:40'!
test02

	| stack finder res |
	
	stack _ OOStack new.
	stack push: 'hola'.
	res _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'ho') equals: res.
	

	
	!

!testRun: #SentenceFinderByPrefixTest #test01FindAPrefixInEmptyStack stamp: 'ja 4/26/2021 18:33:46'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/26/2021 18:33:46'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:36:07'!
test01NoSetencesAreFoundInEmptyStack

	| stack finder res |
	
	stack _ OOStack new.
	res _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #test01FindAPrefixInEmptyStack stamp: 'ja 4/26/2021 18:36:07'!
test01FindAPrefixInEmptyStack

	| stack finder res |
	
	stack _ OOStack new.
	res _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: res.
	

	
	!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:39:29' prior: 50873242!
test01NoSetencesAreFoundInEmptyStack

	| stack finder sentencesToReturn |
	
	stack _ OOStack new.
	sentencesToReturn _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:40:17' prior: 50873214!
test02FoundASetenceInStackWithAnElement

	| stack finder sentencesToReturn |
	
	stack _ OOStack new.
	stack push: 'hola'.
	sentencesToReturn _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'ho') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:41:15'!
test03NotFoundASetenceInStackWithAnElement

	| stack finder sentencesToReturn |
	
	stack _ OOStack new.
	stack push: 'hola'.
	sentencesToReturn _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'ho') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:41:37' prior: 50873288!
test03NotFoundASetenceInStackWithAnElement

	| stack finder sentencesToReturn |
	
	stack _ OOStack new.
	stack push: 'hola'.
	sentencesToReturn _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'a') equals: sentencesToReturn.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/26/2021 18:41:41'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:43:52'!
emptySentecesToReturn

	^ OrderedCollection new.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:44:16'!
sentecesToReturnWithAnElement

	^ OrderedCollection with: 'hola'.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:44:51'!
sentecesToReturnWithManyElements

	^ OrderedCollection with: 'hola'; with: 'como'; with: 'estas'.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:46:44'!
sentecesToReturnWithManyElementsBeginingWithDifferentPrefix

	^ OrderedCollection with: 'hola'; with: 'como'; with: 'estas'.

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #sentecesToReturnWithManyElements stamp: 'ja 4/26/2021 18:46:44'!
sentecesToReturnWithManyElements

	^ OrderedCollection with: 'hola'; with: 'como'; with: 'estas'.

	
	!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:47:09'!
sentecesToReturnWithManyElementsBeginingWithSimilarPrefix

	^ OrderedCollection with: 'hola'; with: 'holala'; with: 'h'.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:56:10'!
emptyStack

	^ OrderedCollection new.

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #emptySentecesToReturn stamp: 'ja 4/26/2021 18:56:10'!
emptySentecesToReturn

	^ OrderedCollection new.

	
	!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:56:20' prior: 50873356!
emptyStack

	^ OOStack new.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:56:34'!
stackWithAnElement

	^ OrderedCollection with: 'hola'.

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #sentecesToReturnWithAnElement stamp: 'ja 4/26/2021 18:56:34'!
sentecesToReturnWithAnElement

	^ OrderedCollection with: 'hola'.

	
	!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:56:55'!
stackWithManyElementsBeginingWithDifferentPrefix

	^ OrderedCollection with: 'hola'; with: 'como'; with: 'estas'.

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #sentecesToReturnWithManyElementsBeginingWithDifferentPrefix stamp: 'ja 4/26/2021 18:56:55'!
sentecesToReturnWithManyElementsBeginingWithDifferentPrefix

	^ OrderedCollection with: 'hola'; with: 'como'; with: 'estas'.

	
	!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:57:11'!
stackWithManyElementsBeginingWithSimilarPrefix

	^ OrderedCollection with: 'hola'; with: 'holala'; with: 'h'.

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #sentecesToReturnWithManyElementsBeginingWithSimilarPrefix stamp: 'ja 4/26/2021 18:57:11'!
sentecesToReturnWithManyElementsBeginingWithSimilarPrefix

	^ OrderedCollection with: 'hola'; with: 'holala'; with: 'h'.

	
	!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 18:59:47' prior: 50873398!
stackWithManyElementsBeginingWithSimilarPrefix

	| stack |
	
	stack _ OrderedCollection  new.
	
	stack push: 'hola'.
	stack push: 'holala'.
	stack push: 'h'.
	
	^ stack 

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 19:03:34' prior: 50873382!
stackWithManyElementsBeginingWithDifferentPrefix

	| stack |
	
	stack _ OrderedCollection  new.
	
	stack push: 'hola'.
	stack push: 'como'.
	stack push: 'estas'.
	
	^ stack! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 19:03:59' prior: 50873371!
stackWithAnElement

	^ OOStack new push:  'hola'.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 19:04:24' prior: 50873263!
test01NoSetencesAreFoundInEmptyStack

	| stack finder sentencesToReturn |
	
	stack _ self emptyStack .
	sentencesToReturn _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'h') equals: sentencesToReturn.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/26/2021 19:04:27'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 19:04:41' prior: 50873275!
test02FoundASetenceInStackWithAnElement

	| stack finder sentencesToReturn |
	
	stack _ self stackWithAnElement .
	sentencesToReturn _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'ho') equals: sentencesToReturn.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/26/2021 19:04:44'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/26/2021 19:04:53' prior: 50873301!
test03NotFoundASetenceInStackWithAnElement

	| stack finder sentencesToReturn |
	
	stack _ self stackWithAnElement .
	sentencesToReturn _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'a') equals: sentencesToReturn.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/26/2021 19:04:54'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/26/2021 19:04:54'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/26/2021 19:04:54'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/26/2021 19:04:54'!
PASSED!

----QUIT----(26 April 2021 19:54:36) CuisUniversity-4532.image priorSource: 17311382!

----STARTUP---- (26 April 2021 19:54:41) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(26 April 2021 20:22:53) CuisUniversity-4532.image priorSource: 17339099!

----STARTUP---- (27 April 2021 15:41:18) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 15:43:02' prior: 50873454!
test02FoundASetenceInStackWithAnElement

	| stack finder sentencesToReturn |
	
	stack _ self stackWithAnElement .
	sentencesToReturn _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack.
	self assert: (	finder find: 'ho') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 15:44:20' prior: 50873094!
findAllSentencesBeginingWith: aPrefix
	
	[stack isEmpty not] whileTrue: [ self xxx: aPrefix .
		].

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 15:44:29' prior: 50873524!
findAllSentencesBeginingWith: aPrefix
	
	[stack isEmpty not] whileTrue: [ self xxx: aPrefix ]

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 15:44:56'!
xxx: aPrefix

	| top | 
	
	top _ stack pop.
	
	reverseStackSentences add: top.
	
	self addToSentencesFoundIf: top beginsWith: aPrefix .

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 15:52:39' prior: 50873531!
findAllSentencesBeginingWith: aPrefix
	
	[stack isEmpty not] whileTrue: [ self matchSetenceInTheTopWith: aPrefix ]

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 15:52:54'!
matchSetenceInTheTopWith: aPrefix

	| top | 
	
	top _ stack pop.
	
	reverseStackSentences add: top.
	
	self addToSentencesFoundIf: top beginsWith: aPrefix .

	
	! !

!methodRemoval: SentenceFinderByPrefix #xxx: stamp: 'ja 4/27/2021 15:52:58'!
xxx: aPrefix

	| top | 
	
	top _ stack pop.
	
	reverseStackSentences add: top.
	
	self addToSentencesFoundIf: top beginsWith: aPrefix .

	
	!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 15:53:01'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 15:53:01'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 15:53:01'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 15:54:18' prior: 50873432!
stackWithAnElement

	^ OOStack new push: 'hola'.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:04:41'!
test04FoundSetencesInStackWithManyElements

	| stack finder sentencesToReturn |
	
	stack _ self stackWithAnElement .
	sentencesToReturn _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'a') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:05:10' prior: 50873423!
stackWithManyElementsBeginingWithDifferentPrefix

	| stack |
	
	stack _ OrderedCollection  new.
	
	stack push: 'hola'.
	stack push: 'como'.
	stack push: 'estas'.
	stack push: 'holala'.
	stack push: 'ho'.
	
	^ stack! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:05:22'!
stackWithManyElements

	| stack |
	
	stack _ OrderedCollection  new.
	
	stack push: 'hola'.
	stack push: 'como'.
	stack push: 'estas'.
	stack push: 'holala'.
	stack push: 'ho'.
	
	^ stack! !

!methodRemoval: SentenceFinderByPrefixTest #stackWithManyElementsBeginingWithDifferentPrefix stamp: 'ja 4/27/2021 16:05:22'!
stackWithManyElementsBeginingWithDifferentPrefix

	| stack |
	
	stack _ OrderedCollection  new.
	
	stack push: 'hola'.
	stack push: 'como'.
	stack push: 'estas'.
	stack push: 'holala'.
	stack push: 'ho'.
	
	^ stack!

!methodRemoval: SentenceFinderByPrefixTest #stackWithManyElementsBeginingWithSimilarPrefix stamp: 'ja 4/27/2021 16:05:26'!
stackWithManyElementsBeginingWithSimilarPrefix

	| stack |
	
	stack _ OrderedCollection  new.
	
	stack push: 'hola'.
	stack push: 'holala'.
	stack push: 'h'.
	
	^ stack 

	
	!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:07:32' prior: 50873584!
test04FoundSetencesInStackWithManyElements

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala' with:'ho'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'a') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:07:40' prior: 50873637!
test04FoundSetencesInStackWithManyElements

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala' with:'ho'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'ho') equals: sentencesToReturn.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:07:49'!
ERROR!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:08:12' prior: 50873607!
stackWithManyElements

	| stack |
	
	stack _ OOStack  new.
	
	stack push: 'hola'.
	stack push: 'como'.
	stack push: 'estas'.
	stack push: 'holala'.
	stack push: 'ho'.
	
	^ stack! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:08:13' prior: 50873669!
stackWithManyElements

	| stack |
	
	stack _ OOStack new.
	
	stack push: 'hola'.
	stack push: 'como'.
	stack push: 'estas'.
	stack push: 'holala'.
	stack push: 'ho'.
	
	^ stack! !

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:08:16'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:08:16'!
FAILURE!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:09:34' prior: 50873651!
test04FoundSetencesInStackWithManyElements

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	sentencesToReturn _ OrderedCollection with: 'ho' with: 'holala' with:'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self assert: (	finder find: 'ho') equals: sentencesToReturn.
	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:09:37'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:12:26'!
test05PrefixCanNotBeEmpty

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	sentencesToReturn _ OrderedCollection with: 'ho' with: 'holala' with:'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	self should: [finder find: ''] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotBeEmptyErrorDescription]
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:12:43' prior: 50873713!
test05PrefixCanNotBeEmpty

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: ''] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotBeEmptyErrorDescription]
	

	
	! !
!SentenceFinderByPrefix class methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:13:34'!
prefixCanNotBeEmptyErrorDescription

	^'Prefix can not be empty.'! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:14:33' prior: 50873039!
find: aPrefix
	
	
	
	self startInternalStructures.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:15:14' prior: 50873750!
find: aPrefix
	
	aPrefix isEmpty ifTrue: [ self error: self class prefixCanNotBeEmptyErrorDescription ]
	
	self startInternalStructures.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^sentencesFound 
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:15:16' prior: 50873758!
find: aPrefix
	
	aPrefix isEmpty ifTrue: [ self error: self class prefixCanNotBeEmptyErrorDescription ].
	
	self startInternalStructures.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^sentencesFound 
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:15:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:15:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:15:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:15:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:15:25'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:15:57'!
test06PrefixCanNotIncludeSpaces

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: 'hola como'] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotBeEmptyErrorDescription]
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:16:09' prior: 50873798!
test06PrefixCanNotIncludeSpaces

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: 'a '] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotBeEmptyErrorDescription]
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:16:39' prior: 50873813!
test06PrefixCanNotIncludeSpaces

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: 'a '] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotIncludeSpacesErrorDescription]
	

	
	! !
!SentenceFinderByPrefix class methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:17:25'!
prefixCanNotIncludeSpacesErrorDescription

	^'Prefix can not include spaces.'! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:18:29' prior: 50873769!
find: aPrefix
	
	aPrefix isEmpty ifTrue: [ self error: self class prefixCanNotBeEmptyErrorDescription ].
	(aPrefix includes: ' ') ifTrue: [self error: self class prefixCanNotIncludeSpacesErrorDescription ].
	
	self startInternalStructures.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^sentencesFound 
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:18:33'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:18:33'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:18:33'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:18:33'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:18:33'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:18:33'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:18:33'!
FAILURE!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:19:03' prior: 50873847!
find: aPrefix
	
	aPrefix isEmpty ifTrue: [ self error: self class prefixCanNotBeEmptyErrorDescription ].
	(aPrefix includes: $ ) ifTrue: [self error: self class prefixCanNotIncludeSpacesErrorDescription ].
	
	self startInternalStructures.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^sentencesFound 
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:19:07'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:19:07'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:19:07'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:19:07'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:19:07'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:19:07'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:23:14'!
test07FinderIsCaseSensitive

	| stack finder xxx|
	
	stack _ self stackWithManyElements.
	stack push: 'Ho'.
	stack push: 'Hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self assert: (finder find: 'Ho') equals: xxx.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:24:08' prior: 50873923!
test07FinderIsCaseSensitive

	| stack finder sentencesToReturn|
	
	stack _ self stackWithManyElements.
	stack push: 'Ho'.
	stack push: 'Hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	sentencesToReturn _ OrderedCollection with: 'Hola' with: 'Ho'.
	
	self assert: (finder find: 'Ho') equals: sentencesToReturn.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:24:22' prior: 50873934!
test07FinderIsCaseSensitive

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	stack push: 'Ho'.
	stack push: 'Hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	sentencesToReturn _ OrderedCollection with: 'Hola' with: 'Ho'.
	
	self assert: (finder find: 'Ho') equals: sentencesToReturn.

	
	! !

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 16:24:24'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:26:51'!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	stack push: 'Ho'.
	stack push: 'Hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	sentencesToReturn _ OrderedCollection with: 'Hola' with: 'Ho'.
	
	self assert: (finder find: 'Ho') equals: sentencesToReturn.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:27:18' prior: 50873965!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'.
	
	self assert: (finder find: 'hola') equals: sentencesToReturn.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:30:36' prior: 50873980!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack equals: self stackWithAnElement .	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:30:45' prior: 50873994!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack equals: self stackWithAnElement.	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:30:51' prior: 50874008!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack equals: self stackWithAnElement.	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:33:49'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:33:49'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:33:49'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:33:49'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:33:49'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:33:49'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 16:33:49'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:33:49'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:33:49'!
FAILURE!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:34:15' prior: 50874022!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack equals: (self stackWithAnElement).	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:34:17'!
FAILURE!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:35:46' prior: 50873013!
recoverStack
	
	reverseStackSentences reverse do:[ :item | stack push: item ]
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:35:50'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:35:50'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:35:50'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:35:50'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:35:50'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:35:50'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 16:35:50'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:35:50'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:35:50'!
FAILURE!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:36:05' prior: 50874087!
recoverStack
	
	reverseStackSentences do:[ :item | stack push: item ]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:37:11' prior: 50874127!
recoverStack
	
	reverseStackSentences reverse do:[ :item | stack push: item ]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:37:24' prior: 50874133!
recoverStack
	
	reverseStackSentences reverseDo:[ :item | stack push: item ]
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:37:27'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:37:27'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:37:27'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:37:27'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:37:27'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:37:27'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 16:37:27'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:37:27'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:37:27'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:38:55'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:39:43'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:39:43'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:39:43'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:39:43'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:39:43'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:39:43'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 16:39:43'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:39:43'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:39:43'!
FAILURE!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:44:07' prior: 50874069!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack keepSizeAndElementsOrderWith: self stackWithAnElement.	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:54:03'!
assert: aStack keepSizeAndElementsOrderWith: otherStack

	self assert: aStack size equals: otherStack size.
	
	[aStack isEmpty not]	 whileTrue: [self assert: aStack pop equals: otherStack pop].

! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:54:15'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:54:15'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:54:15'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:54:15'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:54:15'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:54:15'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 16:54:15'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:54:15'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:54:15'!
FAILURE!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:54:52' prior: 50874217!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack keepSizeAndElementsOrderWith: (self stackWithAnElement).	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:54:53'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:55:04'!
FAILURE!

self size.!

self size.!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:56:39' prior: 50874274!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack keepSizeAndElementsOrderWith: (self stackWithManyElements ).	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:56:46' prior: 50874297!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack keepSizeAndElementsOrderWith: self stackWithManyElements.	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:56:47'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:56:47'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:56:47'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:56:47'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:56:47'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:56:47'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:56:47'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 16:56:47'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:56:47'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:57:11' prior: 50874311!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack equals: self stackWithManyElements.	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:57:12'!
FAILURE!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:57:55' prior: 50874359!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	"sentencesToReturn _ OrderedCollection with: 'hola' with: 'holala'."
	
	finder find: 'hola'.
	self assert: stack keepSizeAndElementsOrderWith: self stackWithManyElements.	

	
	! !

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:57:56'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 16:57:56'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:57:56'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 16:57:56'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 16:57:56'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 16:57:56'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 16:57:56'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 16:57:56'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 16:57:56'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 16:58:03' prior: 50874377!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	finder find: 'hola'.
	
	self assert: stack keepSizeAndElementsOrderWith: self stackWithManyElements.	

	
	! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 17:00:24'!
verifyNotEmptyAndNotIncludeSpaces: aPrefix

	aPrefix isEmpty ifTrue: [ self error: self class prefixCanNotBeEmptyErrorDescription ].
	(aPrefix includes: $ ) ifTrue: [self error: self class prefixCanNotIncludeSpacesErrorDescription ]! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 17:00:24' prior: 50873887!
find: aPrefix
	
	self verifyNotEmptyAndNotIncludeSpaces: aPrefix.
	
	self startInternalStructures.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^sentencesFound 
	
	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 17:00:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 17:00:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 17:00:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 17:00:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 17:00:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 17:00:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 17:00:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 17:00:34'!
PASSED!
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 17:00:42' prior: 50874437!
verifyNotEmptyAndNotIncludeSpaces: aPrefix

	aPrefix isEmpty ifTrue: [ self error: self class prefixCanNotBeEmptyErrorDescription ].
	
	(aPrefix includes: $ ) ifTrue: [self error: self class prefixCanNotIncludeSpacesErrorDescription ]! !

----QUIT----(27 April 2021 17:01:35) CuisUniversity-4532.image priorSource: 17339298!

----STARTUP---- (27 April 2021 17:01:40) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(27 April 2021 17:26:08) CuisUniversity-4532.image priorSource: 17371085!

----STARTUP---- (27 April 2021 21:26:44) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 21:27:30'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 21:27:30'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 21:27:30'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 21:27:30'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 21:27:30'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 21:27:30'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 21:27:30'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 21:27:30'!
PASSED!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/27/2021 21:41:19'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/27/2021 21:41:19'!
PASSED!
!NextNode methodsFor: 'initialization' stamp: 'ja 4/27/2021 21:43:48' prior: 50872542!
initializeFrom: aPreviousStackNode with: anElement

	previous _ aPreviousStackNode .
	
	value _ anElement ! !
!NextNode methodsFor: 'initialization' stamp: 'ja 4/27/2021 21:44:06' prior: 50874572!
initializeFrom: aPreviousStackNode with: anElement

	previous _ aPreviousStackNode.
	
	value _ anElement ! !
!OOStack methodsFor: 'push' stamp: 'ja 4/27/2021 21:44:26' prior: 50872311!
push: anElement

	top _ NextNode from: top with: anElement! !
!SentenceFinderByPrefix methodsFor: 'as yet unclassified' stamp: 'ja 4/27/2021 21:51:10' prior: 50874448!
find: aPrefix
	
	self verifyNotEmptyAndNotIncludeSpaces: aPrefix.
	
	self startInternalStructures.
	
	self findAllSentencesBeginingWith: aPrefix.

	self recoverStack.

	^ sentencesFound 
	
	
	! !
!SentenceFinderByPrefix class methodsFor: 'error descriptions' stamp: 'ja 4/27/2021 21:53:38' prior: 50873744!
prefixCanNotBeEmptyErrorDescription

	^ 'Prefix can not be empty.'! !
!SentenceFinderByPrefix class methodsFor: 'error descriptions' stamp: 'ja 4/27/2021 21:53:43' prior: 50873841!
prefixCanNotIncludeSpacesErrorDescription

	^ 'Prefix can not include spaces.'! !
!SentenceFinderByPrefix methodsFor: 'private' stamp: 'ja 4/27/2021 21:56:19' prior: 50874140!
recoverStack
	
	reverseStackSentences reverseDo:[ :aSentence | stack push: aSentence ]
	
	
	! !
!SentenceFinderByPrefix methodsFor: 'private' stamp: 'ja 4/27/2021 22:25:00' prior: 50873545!
findAllSentencesBeginingWith: aPrefix
	
	[stack isEmpty not] whileTrue: [ self checkIfSentenceMatchesWith: aPrefix ]

	
	! !
!SentenceFinderByPrefix methodsFor: 'private' stamp: 'ja 4/27/2021 22:25:25'!
checkIfSentenceMatchesWith: aPrefix

	| top | 
	
	top _ stack pop.
	
	reverseStackSentences add: top.
	
	self addToSentencesFoundIf: top beginsWith: aPrefix .

	
	! !

!methodRemoval: SentenceFinderByPrefix #matchSetenceInTheTopWith: stamp: 'ja 4/27/2021 22:25:25'!
matchSetenceInTheTopWith: aPrefix

	| top | 
	
	top _ stack pop.
	
	reverseStackSentences add: top.
	
	self addToSentencesFoundIf: top beginsWith: aPrefix .

	
	!
!SentenceFinderByPrefix methodsFor: 'private' stamp: 'ja 4/27/2021 22:26:14' prior: 50874619!
findAllSentencesBeginingWith: aPrefix
	
	[ stack isEmpty not ] whileTrue: [ self checkIfSentenceMatchesWith: aPrefix ]

	
	! !

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 22:26:17'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 22:26:17'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 22:26:17'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 22:26:17'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 22:26:17'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 22:26:17'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 22:26:17'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 22:26:17'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/27/2021 22:28:37' prior: 50873948!
test07FinderIsCaseSensitive

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	stack push: 'Ho'.
	stack push: 'Hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	sentencesToReturn _ OrderedCollection with: 'Hola' with: 'Ho'.
	
	self assert: (finder find: 'Ho') equals: sentencesToReturn.

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/27/2021 22:28:48' prior: 50873696!
test04FoundSetencesInStackWithManyElements

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	
	sentencesToReturn _ OrderedCollection with: 'ho' with: 'holala' with:'hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self assert: (	finder find: 'ho') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/27/2021 22:28:56' prior: 50873471!
test03NotFoundASetenceInStackWithAnElement

	| stack finder sentencesToReturn |
	
	stack _ self stackWithAnElement .
	
	sentencesToReturn _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self assert: (	finder find: 'a') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/27/2021 22:29:02' prior: 50873511!
test02FoundASetenceInStackWithAnElement

	| stack finder sentencesToReturn |
	
	stack _ self stackWithAnElement .
	
	sentencesToReturn _ OrderedCollection with: 'hola'.
	
	finder _ SentenceFinderByPrefix with: stack.
	
	self assert: (	finder find: 'ho') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/27/2021 22:29:09' prior: 50873438!
test01NoSetencesAreFoundInEmptyStack

	| stack finder sentencesToReturn |
	
	stack _ self emptyStack .
	
	sentencesToReturn _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self assert: (	finder find: 'h') equals: sentencesToReturn.
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/27/2021 22:29:13' prior: 50874733!
test01NoSetencesAreFoundInEmptyStack

	| stack finder sentencesToReturn |
	
	stack _ self emptyStack .
	
	sentencesToReturn _ OrderedCollection new.
	
	finder _ SentenceFinderByPrefix with: stack.
	
	self assert: (	finder find: 'h') equals: sentencesToReturn.
	

	
	! !

----SNAPSHOT----(27 April 2021 22:32:18) CuisUniversity-4532.image priorSource: 17371284!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/27/2021 22:32:21'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 22:32:21'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/27/2021 22:32:21'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/27/2021 22:32:21'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/27/2021 22:32:21'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/27/2021 22:32:21'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/27/2021 22:32:21'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/27/2021 22:32:21'!
PASSED!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/27/2021 22:32:23'!
PASSED!

----QUIT----(27 April 2021 22:34:44) CuisUniversity-4532.image priorSource: 17379373!

----STARTUP---- (29 April 2021 13:16:38) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/29/2021 13:16:44'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/29/2021 13:16:46'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/29/2021 13:16:46'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/29/2021 13:16:46'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/29/2021 13:16:46'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/29/2021 13:16:46'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/29/2021 13:16:46'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/29/2021 13:16:46'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/29/2021 13:16:46'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/29/2021 13:22:38'!
test07PrefixCanNotBeSpace

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: ' '] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotIncludeSpacesErrorDescription]
	

	
	! !
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/29/2021 13:22:48'!
test08FinderIsCaseSensitive

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	stack push: 'Ho'.
	stack push: 'Hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	sentencesToReturn _ OrderedCollection with: 'Hola' with: 'Ho'.
	
	self assert: (finder find: 'Ho') equals: sentencesToReturn.

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #test07FinderIsCaseSensitive stamp: 'ja 4/29/2021 13:22:48'!
test07FinderIsCaseSensitive

	| stack finder sentencesToReturn |
	
	stack _ self stackWithManyElements.
	stack push: 'Ho'.
	stack push: 'Hola'.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	sentencesToReturn _ OrderedCollection with: 'Hola' with: 'Ho'.
	
	self assert: (finder find: 'Ho') equals: sentencesToReturn.

	
	!
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/29/2021 13:22:55'!
test09FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	finder find: 'hola'.
	
	self assert: stack keepSizeAndElementsOrderWith: self stackWithManyElements.	

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #test08FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/29/2021 13:22:55'!
test08FinderKeepTheOriginalStackAfterExecution

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	finder find: 'hola'.
	
	self assert: stack keepSizeAndElementsOrderWith: self stackWithManyElements.	

	
	!

!testRun: #SentenceFinderByPrefixTest #test07PrefixCanNotBeSpace stamp: 'ja 4/29/2021 13:22:59'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/29/2021 13:23:13'!
test06PrefixCanNotBeSpace

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: ' '] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotIncludeSpacesErrorDescription]
	

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #test07PrefixCanNotBeSpace stamp: 'ja 4/29/2021 13:23:13'!
test07PrefixCanNotBeSpace

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: ' '] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotIncludeSpacesErrorDescription]
	

	
	!
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/29/2021 13:23:21'!
test07PrefixCanNotIncludeSpaces

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: 'a '] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotIncludeSpacesErrorDescription]
	

	
	! !

!methodRemoval: SentenceFinderByPrefixTest #test06PrefixCanNotIncludeSpaces stamp: 'ja 4/29/2021 13:23:21'!
test06PrefixCanNotIncludeSpaces

	| stack finder |
	
	stack _ self stackWithManyElements.
	
	finder _ SentenceFinderByPrefix with: stack .
	
	self should: [finder find: 'a '] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: SentenceFinderByPrefix prefixCanNotIncludeSpacesErrorDescription]
	

	
	!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotBeSpace stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07PrefixCanNotIncludeSpaces stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderIsCaseSensitive stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test09FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/29/2021 13:23:23'!
PASSED!

----SNAPSHOT----(29 April 2021 13:23:33) CuisUniversity-4532.image priorSource: 17381444!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/29/2021 13:32:23'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotBeSpace stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07PrefixCanNotIncludeSpaces stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderIsCaseSensitive stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test09FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/29/2021 13:32:25'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test01NoSetencesAreFoundInEmptyStack stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test02FoundASetenceInStackWithAnElement stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test03NotFoundASetenceInStackWithAnElement stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test04FoundSetencesInStackWithManyElements stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test05PrefixCanNotBeEmpty stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test06PrefixCanNotBeSpace stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test07PrefixCanNotIncludeSpaces stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test08FinderIsCaseSensitive stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #SentenceFinderByPrefixTest #test09FinderKeepTheOriginalStackAfterExecution stamp: 'ja 4/29/2021 13:36:34'!
PASSED!

!testRun: #OOStackTest #test01StackShouldBeEmptyWhenCreated stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test02PushAddElementsToTheStack stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test03PopRemovesElementsFromTheStack stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test04PopReturnsLastPushedObject stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test05StackBehavesLIFO stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test06TopReturnsLastPushedObject stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test07TopDoesNotRemoveObjectFromStack stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test08CanNotPopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test09CanNotPopWhenThereAreNoObjectsInTheStackAndTheStackHadObjects stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

!testRun: #OOStackTest #test10CanNotTopWhenThereAreNoObjectsInTheStack stamp: 'ja 4/29/2021 13:36:36'!
PASSED!

----QUIT----(29 April 2021 14:07:48) CuisUniversity-4532.image priorSource: 17388586!

----STARTUP---- (29 April 2021 21:26:31) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----End fileIn of /home/jampuero/Documentos/isw1/2020/Parciales/2019-2c/1erParcial/IngSof1-2019-2C-1Parcial.st----!

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/29/2021 21:32:53'!
PASSED!

#(1 2 3 4 1) count:[:item | item = 1 ].!

aBlock _ [ :element | element even ].
#(1 2 3 4 1) count:[:item | aBlock value: item ].!

aBlock _ [ :element | element even ].
#(1 2 3 4 6 1) count:[:item | aBlock value: item ].!
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/29/2021 21:46:02' prior: 50875225!
test02CanQuerySalesByCustomer

	| salesToAdaLovelace |

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	
	
	
	salesToAdaLovelace := salesSystem salesMadeTo: adaLovelace.
	self assert: 1 equals: salesToAdaLovelace size.
	self assert: 1 equals: (salesToAdaLovelace count: [ :aProduct | aProduct = self combo1 ])! !
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/29/2021 21:51:12' prior: 50875833!
test02CanQuerySalesByCustomer

	| salesToAdaLovelace |

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	
	self assserThatCustomer: adaLovelace registerSales: 1 fromCombo: [ :aProduct | aProduct = self combo1 ].
	
	salesToAdaLovelace := salesSystem salesMadeTo: adaLovelace.
	self assert: 1 equals: salesToAdaLovelace size.
	self assert: 1 equals: (salesToAdaLovelace count: [ :aProduct | aProduct = self combo1 ])! !
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/29/2021 21:53:29'!
assserThatCustomer: aShopCustomer registerSales: aSalesQuantity fromCombo: aComboToCompare
	
	| salesToAdaLovelace |
	
	salesToAdaLovelace := salesSystem salesMadeTo: aShopCustomer.
	self assert: 1 equals: salesToAdaLovelace size.
	self assert: 1 equals: (salesToAdaLovelace count: [ :aProduct | aComboToCompare value: aProduct ])! !
!CoffeeShopTest methodsFor: 'private' stamp: 'ja 4/29/2021 21:54:12' prior: 50875866!
assserThatCustomer: aShopCustomer registerSales: aSalesQuantity fromCombo: aComboToCompare
	
	| salesToAShopCustomer |
	
	salesToAShopCustomer := salesSystem salesMadeTo: aShopCustomer.
	self assert: 1 equals: salesToAShopCustomer size.
	self assert: 1 equals: (salesToAShopCustomer count: [ :aProduct | aComboToCompare value: aProduct ])! !
!CoffeeShopTest methodsFor: 'private' stamp: 'ja 4/29/2021 21:54:34' prior: 50875880!
assserThatCustomer: aShopCustomer registerSales: aSalesQuantity fromCombo: aComboToCompare
	
	| salesToAShopCustomer |
	
	salesToAShopCustomer := salesSystem salesMadeTo: aShopCustomer.
	self assert: aSalesQuantity equals: salesToAShopCustomer size.
	self assert: aSalesQuantity  equals: (salesToAShopCustomer count: [ :aProduct | aComboToCompare value: aProduct ])! !
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/29/2021 21:56:19' prior: 50875848!
test02CanQuerySalesByCustomer

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	
	self assserThatCustomer: adaLovelace registerSales: 1 fromCombo: [ :aProduct | aProduct = self combo1 ].! !

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/29/2021 21:56:26'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/29/2021 21:57:40' prior: 50875239!
test03SalesAreDistinguishedByCustomer

	| salesToAdaLovelace salesToAlanKay |

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: alanKay of: self combo2.

	self assserThatCustomer: adaLovelace registerSales: 1 fromCombo: [ :aProduct | aProduct = self combo1 ].

	self assserThatCustomer: alanKay registerSales: 1 fromCombo: [ :aProduct | aProduct = self combo2 ].! !
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/29/2021 21:57:50' prior: 50875923!
test03SalesAreDistinguishedByCustomer

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: alanKay of: self combo2.

	self assserThatCustomer: adaLovelace registerSales: 1 fromCombo: [ :aProduct | aProduct = self combo1 ].

	self assserThatCustomer: alanKay registerSales: 1 fromCombo: [ :aProduct | aProduct = self combo2 ].! !

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/29/2021 21:57:52'!
PASSED!

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/29/2021 21:57:56'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/29/2021 21:57:56'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/29/2021 21:57:56'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:06:26'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:06:52'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:08:30'!
PASSED!

noneBlock value!

[^noneBlock value]!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:10:33'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:10:44' prior: 50875314!
test08NoRewardExpectedWhenCustomerHasNotBuyAnything

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem rewardOf: adaLovelace ifNone: [ ^self ].
	self halt .
	self failWith: 'No reward expected when customer has not buy anything'! !

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:10:50'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:10:54'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:11:04'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:11:08' prior: 50875986!
test08NoRewardExpectedWhenCustomerHasNotBuyAnything

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem rewardOf: adaLovelace ifNone: [ ^self ].
	
	self failWith: 'No reward expected when customer has not buy anything'! !

self failWith: 'No reward expected when customer has not buy anything'!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:11:27'!
PASSED!
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/29/2021 22:12:09'!
test10

	self failWith: 'No reward expected when customer has not buy anything'! !

!testRun: #SentenceFinderByPrefixTest #test10 stamp: 'ja 4/29/2021 22:12:11'!
FAILURE!

!testRun: #SentenceFinderByPrefixTest #test10 stamp: 'ja 4/29/2021 22:12:11'!
FAILURE!
!SentenceFinderByPrefixTest methodsFor: 'testing' stamp: 'ja 4/29/2021 22:16:40' prior: 50876080!
test10
	
	#() sum:[:a | a] ifEmpty:[^ self].
	self failWith: 'No reward expected when customer has not buy anything'! !

!testRun: #SentenceFinderByPrefixTest #test10 stamp: 'ja 4/29/2021 22:16:42'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:23:37' prior: 50876064!
test08NoRewardExpectedWhenCustomerHasNotBuyAnything

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem rewardOf: adaLovelace ifNone: [ self failWith: 'No reward expected when customer has not buy anything' ].
	
	! !

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:23:38'!
FAILURE!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:23:44' prior: 50876102!
test08NoRewardExpectedWhenCustomerHasNotBuyAnything

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem rewardOf: adaLovelace ifNone: [ ^self ].
	
	self failWith: 'No reward expected when customer has not buy anything'! !

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:23:45'!
PASSED!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:23:45'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:33:09' prior: 50875324!
test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds

	| adaLovelaceReward |

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerASaleOf: self combo1 andASaleOf: self combo2 to: adaLovelace .
	
	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: adaLovelace of: self combo2.

	adaLovelaceReward := salesSystem rewardOf: adaLovelace ifNone: [ self fail ].

	self assert: 1 equals: adaLovelaceReward quantity.
	self assert: adaLovelaceReward isForCombo2.
	self assert: 60*peso equals: adaLovelaceReward price.
! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:36:51' prior: 50876186!
test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds

	| adaLovelaceReward |

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerASaleOf: self combo1 andASaleOf: self combo2 to: adaLovelace .
	
	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: adaLovelace of: self combo2.

	self assertThatTheCustomer: adaLovelace  gotReward: 1 from: [:aReword | aReword isForCombo2] for: 60*peso. 
	
	adaLovelaceReward := salesSystem rewardOf: adaLovelace ifNone: [ self fail ].

	self assert: 1 equals: adaLovelaceReward quantity.
	self assert: adaLovelaceReward isForCombo2.
	self assert: 60*peso equals: adaLovelaceReward price.
! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:39:49'!
registerASaleOf: aCombo1 andASaleOf: aCombo2 to: aShopCustomer 
	
	salesSystem registerSaleTo: aShopCustomer of: aCombo1 .
	salesSystem registerSaleTo: aShopCustomer of: aCombo2. 

	
! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:42:02'!
assertThatTheCustomer: aShopCustomer gotReward: anAmountOfRewards from: aComboToCompare for: aPrice 
	
	| adaLovelaceReward |
	
	adaLovelaceReward := salesSystem rewardOf: aShopCustomer ifNone: [ self fail ].

	self assert: anAmountOfRewards equals: adaLovelaceReward quantity.
	self assert: ( aComboToCompare value: adaLovelaceReward ).
	self assert: aPrice equals: adaLovelaceReward price.

	
! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:42:15' prior: 50876242!
assertThatTheCustomer: aShopCustomer gotReward: anAmountOfRewards from: aComboToCompare for: aPrice 
	
	| shopCustomerReward |
	
	shopCustomerReward := salesSystem rewardOf: aShopCustomer ifNone: [ self fail ].

	self assert: anAmountOfRewards equals: shopCustomerReward quantity.
	self assert: ( aComboToCompare value: shopCustomerReward ).
	self assert: aPrice equals: shopCustomerReward price.

	
! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:42:35' prior: 50876208!
test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds

	| adaLovelaceReward |

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerASaleOf: self combo1 andASaleOf: self combo2 to: adaLovelace .

	self assertThatTheCustomer: adaLovelace  gotReward: 1 from: [:aReword | aReword isForCombo2] for: 60*peso. 
	
! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:42:42' prior: 50876274!
test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerASaleOf: self combo1 andASaleOf: self combo2 to: adaLovelace .

	self assertThatTheCustomer: adaLovelace  gotReward: 1 from: [:aReword | aReword isForCombo2] for: 60*peso. 
	
! !

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:42:45'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:45:14' prior: 50875343!
test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds

	| alaKayReward |

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerASaleOf: self combo1 andASaleOf: self combo2 to: alanKay .
	
	self assertThatTheCustomer: alanKay gotReward: 1 from: [ :aReword | aReword  isForCombo2] for: 20*3/4*peso.! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:45:20' prior: 50876306!
test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerASaleOf: self combo1 andASaleOf: self combo2 to: alanKay .
	
	self assertThatTheCustomer: alanKay gotReward: 1 from: [ :aReword | aReword  isForCombo2] for: 20*3/4*peso.! !

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:45:23'!
FAILURE!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:45:23'!
FAILURE!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:46:01' prior: 50876320!
test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerASaleOf: self combo1 andASaleOf: self combo2 to: alanKay .
	
	self assertThatTheCustomer: alanKay gotReward: 1 from: [ :aReword | aReword  isForCombo2] for: 120*3/4*peso.! !

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:46:04'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:46:14'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:47:30' prior: 50875361!
test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds
	
	salesSystem := CoffeeShopSalesSystem new.
	
	self registerASaleOf: self combo1 andASaleOf: self combo2 to: billGates .
	
	self assertThatTheCustomer: billGates gotReward: 1 from: [ :aReword | aReword  isForCombo2] for: 120*9/10*peso.
	! !

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:47:32'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:50:40' prior: 50875379!
test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds

	

	salesSystem := CoffeeShopSalesSystem new.
	
	
	self registerTwoSaleOf: self combo1 andASaleOf: self combo2 to: adaLovelace .
	
	self assertThatTheCustomer: adaLovelace gotReward: 2 from: [ :aReword | aReword  isForCombo1] for: 75*peso.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: adaLovelace of: self combo2.! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:50:50' prior: 50876384!
test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerTwoSaleOf: self combo1 andASaleOf: self combo2 to: adaLovelace .
	
	self assertThatTheCustomer: adaLovelace gotReward: 2 from: [ :aReword | aReword  isForCombo1] for: 75*peso.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: adaLovelace of: self combo2.! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:51:47'!
registerTwoSaleOf: combo1 andASaleOf: aCombo2 to: aShopCustomer

	salesSystem registerSaleTo: aShopCustomer of: combo1.
	salesSystem registerSaleTo: aShopCustomer of: combo1 .
	salesSystem registerSaleTo: aShopCustomer of: aCombo2.! !
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:51:54' prior: 50876403!
test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerTwoSaleOf: self combo1 andASaleOf: self combo2 to: adaLovelace .
	
	self assertThatTheCustomer: adaLovelace gotReward: 2 from: [ :aReword | aReword  isForCombo1] for: 75*peso.
! !

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:51:56'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:52:33' prior: 50875399!
test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerTwoSaleOf: self combo1 andASaleOf: self combo2 to: alanKay .
	
	self assertThatTheCustomer: alanKay gotReward: 2 from: [ :aReword | aReword  isForCombo1] for: 83*peso.

! !

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:52:36'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - rewards' stamp: 'ja 4/29/2021 22:53:03' prior: 50875418!
test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds

	salesSystem := CoffeeShopSalesSystem new.
	
	self registerTwoSaleOf: self combo1 andASaleOf: self combo2 to: billGates .
	
	self assertThatTheCustomer: billGates gotReward: 2 from: [ :aReword | aReword  isForCombo1] for: 97*peso.
! !

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/29/2021 22:53:06'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:53:06'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:53:06'!
PASSED!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/29/2021 22:53:06'!
PASSED!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:53:06'!
PASSED!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:53:06'!
PASSED!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/29/2021 22:53:06'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/29/2021 22:53:08'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/29/2021 22:53:08'!
PASSED!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/29/2021 22:53:08'!
PASSED!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/29/2021 22:53:08'!
PASSED!

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/29/2021 22:53:09'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/29/2021 22:53:09'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/29/2021 22:53:09'!
PASSED!

CoffeeShopCustomer subclass: #CoffeeShopCustomerGold
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'IngSof1-2019-2C-1Parcial'!

!classDefinition: #CoffeeShopCustomerGold category: 'IngSof1-2019-2C-1Parcial' stamp: 'ja 4/29/2021 22:57:19'!
CoffeeShopCustomer subclass: #CoffeeShopCustomerGold
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'IngSof1-2019-2C-1Parcial'!

CoffeeShopCustomer subclass: #CoffeeShopCustomerSilver
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'IngSof1-2019-2C-1Parcial'!

!classDefinition: #CoffeeShopCustomerSilver category: 'IngSof1-2019-2C-1Parcial' stamp: 'ja 4/29/2021 22:57:25'!
CoffeeShopCustomer subclass: #CoffeeShopCustomerSilver
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'IngSof1-2019-2C-1Parcial'!

CoffeeShopCustomer subclass: #CoffeeShopCustomerNormal
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'IngSof1-2019-2C-1Parcial'!

!classDefinition: #CoffeeShopCustomerNormal category: 'IngSof1-2019-2C-1Parcial' stamp: 'ja 4/29/2021 22:57:30'!
CoffeeShopCustomer subclass: #CoffeeShopCustomerNormal
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'IngSof1-2019-2C-1Parcial'!
!CoffeeShopCustomer class methodsFor: 'instance creation' stamp: 'ja 4/29/2021 22:59:43'!
named: aName

	self subclassResponsibility .
	"^self new initializeNamed: aName ofType: aType"! !
!CoffeeShopCustomerGold class methodsFor: 'no messages' stamp: 'ja 4/29/2021 23:00:02' overrides: 50876576!
named: aName! !
!CoffeeShopCustomerNormal class methodsFor: 'no messages' stamp: 'ja 4/29/2021 23:00:29' overrides: 50876576!
named: aName! !
!CoffeeShopCustomerSilver class methodsFor: 'no messages' stamp: 'ja 4/29/2021 23:00:34' overrides: 50876576!
named: aName! !
!CoffeeShopCustomerGold class methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:01:07' prior: 50876583 overrides: 50876576!
named: aName

	^self new initializeNamed: aName ! !
!CoffeeShopCustomerNormal class methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:01:14' prior: 50876587 overrides: 50876576!
named: aName

	^self new initializeNamed: aName ! !
!CoffeeShopCustomerNormal class methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:01:43' prior: 50876602 overrides: 50876576!
named: aName

	! !
!CoffeeShopCustomerGold class methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:01:50' prior: 50876596 overrides: 50876576!
named: aName
! !
!CoffeeShopCustomer class methodsFor: 'instance creation' stamp: 'ja 4/29/2021 23:02:03' prior: 50876576!
named: aName

	
	^self new initializeNamed: aName! !

!methodRemoval: CoffeeShopCustomerGold class #named: stamp: 'ja 4/29/2021 23:02:11'!
named: aName
!

!methodRemoval: CoffeeShopCustomerNormal class #named: stamp: 'ja 4/29/2021 23:02:15'!
named: aName

	!

!methodRemoval: CoffeeShopCustomerSilver class #named: stamp: 'ja 4/29/2021 23:02:18'!
named: aName!
!CoffeeShopCustomer methodsFor: 'initialization' stamp: 'ja 4/29/2021 23:02:51'!
initializeNamed: aName 

	name := aName.
	"type := aType "! !
!CoffeeShopCustomer class methodsFor: 'instance creation' stamp: 'ja 4/29/2021 23:03:19' prior: 50875476!
named: aName ofType: aType

	"^self new initializeNamed: aName ofType: aType"! !

!methodRemoval: CoffeeShopCustomer #initializeNamed:ofType: stamp: 'ja 4/29/2021 23:05:03'!
initializeNamed: aName ofType: aType

	name := aName.
	type := aType !
!CoffeeShopTest methodsFor: 'setUp/tearDown' stamp: 'ja 4/29/2021 23:06:06' prior: 50875199 overrides: 16927572!
setUp

	adaLovelace := CoffeeShopCustomerGold named: 'Ada Lovelace'.
	alanKay := CoffeeShopCustomerSilver named: 'Alan Kay'.
	billGates := CoffeeShopCustomerNormal named: 'Bill Gates' ! !

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/29/2021 23:06:22'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/29/2021 23:06:24'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/29/2021 23:06:25'!
PASSED!

!methodRemoval: CoffeeShopCustomer class #named:ofType: stamp: 'ja 4/29/2021 23:06:39'!
named: aName ofType: aType

	"^self new initializeNamed: aName ofType: aType"!
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/29/2021 23:09:00' prior: 50875726 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	product := self rewardedProduct.
	
	aCustomer type = #Gold ifTrue: [ price := (self priceOf: product)/2 ].
	aCustomer type = #Silver ifTrue: [ price := (self priceOf: product)*3/4 ].
	aCustomer type = #Normal ifTrue: [ price := (self priceOf: product)*9/10 ].
	
	price _ aCustomer price.
	
	^CoffeeShopReward of: product at: price quantity: self productQuantity! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/29/2021 23:11:44' prior: 50876674 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	product := self rewardedProduct.
	
"	aCustomer type = #Gold ifTrue: [ price := (self priceOf: product)/2 ].
	aCustomer type = #Silver ifTrue: [ price := (self priceOf: product)*3/4 ].
	aCustomer type = #Normal ifTrue: [ price := (self priceOf: product)*9/10 ]."
	
	price _ aCustomer valuationOfReward: self price.
	
	^CoffeeShopReward of: product at: price quantity: self productQuantity! !
!CoffeeShopCustomerGold methodsFor: 'no messages' stamp: 'ja 4/29/2021 23:12:56'!
valuationOfReward: aPriceOfReward

	^ aPriceOfReward / 2 .

	! !
!CoffeeShopCustomerNormal methodsFor: 'no messages' stamp: 'ja 4/29/2021 23:13:10'!
valuationOfReward: aPriceOfReward

	^ aPriceOfReward / 2 .! !
!CoffeeShopCustomerSilver methodsFor: 'no messages' stamp: 'ja 4/29/2021 23:13:16'!
valuationOfReward: aPriceOfReward

	^ aPriceOfReward / 2 .! !
!CoffeeShopCustomerSilver methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:13:26' prior: 50876718!
valuationOfReward: aPriceOfReward

	^ aPriceOfReward * 9 / 10 .! !
!CoffeeShopCustomerNormal methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:13:35' prior: 50876713!
valuationOfReward: aPriceOfReward

	^ aPriceOfReward * 3 / 4 .! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/29/2021 23:14:32' prior: 50876691 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	product := self rewardedProduct.
	
"	aCustomer type = #Gold ifTrue: [ price := (self priceOf: product)/2 ].
	aCustomer type = #Silver ifTrue: [ price := (self priceOf: product)*3/4 ].
	aCustomer type = #Normal ifTrue: [ price := (self priceOf: product)*9/10 ]."
	
	price _ aCustomer valuationOfCombo2Reward: self price.
	
	^CoffeeShopReward of: product at: price quantity: self productQuantity! !
!CoffeeShopCustomerGold methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:14:56'!
valuationOfCombo2Reward: aPriceOfReward

	^ aPriceOfReward / 2 .

	! !

!methodRemoval: CoffeeShopCustomerGold #valuationOfReward: stamp: 'ja 4/29/2021 23:14:56'!
valuationOfReward: aPriceOfReward

	^ aPriceOfReward / 2 .

	!
!CoffeeShopCustomerGold methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:15:09'!
valuationOfCombo1Reward: aPriceOfReward



	! !
!CoffeeShopCustomerNormal methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:15:23'!
valuationOfCombo2Reward: aPriceOfReward

	^ aPriceOfReward * 3 / 4 .! !
!CoffeeShopCustomerNormal methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:15:33'!
valuationOfCombo1Reward: aPriceOfReward

	^ aPriceOfReward * 3 / 4 .! !

!methodRemoval: CoffeeShopCustomerNormal #valuationOfReward: stamp: 'ja 4/29/2021 23:15:35'!
valuationOfReward: aPriceOfReward

	^ aPriceOfReward * 3 / 4 .!
!CoffeeShopCustomerSilver methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:15:44'!
valuationOfCombo2Reward: aPriceOfReward

	^ aPriceOfReward * 9 / 10 .! !
!CoffeeShopCustomerSilver methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:15:49'!
valuationOfCombo1Reward: aPriceOfReward

	^ aPriceOfReward * 9 / 10 .! !

!methodRemoval: CoffeeShopCustomerSilver #valuationOfReward: stamp: 'ja 4/29/2021 23:15:52'!
valuationOfReward: aPriceOfReward

	^ aPriceOfReward * 9 / 10 .!
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/29/2021 23:17:31' prior: 50875676 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	product := self rewardedProduct.
	
	aCustomer type = #Gold ifTrue: [ price := 75*peso ].
	aCustomer type = #Silver ifTrue: [ price := 83*peso ].
	aCustomer type = #Normal ifTrue: [ price := 97*peso ].
	
	price  _ aCustomer valuationOfCombo1Reward.
	
	^CoffeeShopReward of: product at: price quantity: self productQuantity! !
!CoffeeShopCustomerGold methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:17:58'!
valuationOfCombo1Reward



	! !
!CoffeeShopCustomerGold methodsFor: 'as yet unclassified' stamp: 'ja 4/29/2021 23:18:03' prior: 50876817!
valuationOfCombo1Reward



	! !

!methodRemoval: CoffeeShopCustomerGold #valuationOfCombo1Reward: stamp: 'ja 4/29/2021 23:18:03'!
valuationOfCombo1Reward: aPriceOfReward



	!

!methodRemoval: CoffeeShopCustomerNormal #valuationOfCombo1Reward: stamp: 'ja 4/29/2021 23:18:12'!
valuationOfCombo1Reward: aPriceOfReward

	^ aPriceOfReward * 3 / 4 .!

!methodRemoval: CoffeeShopCustomerSilver #valuationOfCombo1Reward: stamp: 'ja 4/29/2021 23:18:16'!
valuationOfCombo1Reward: aPriceOfReward

	^ aPriceOfReward * 9 / 10 .!

----QUIT----(29 April 2021 23:22:23) CuisUniversity-4532.image priorSource: 17392849!

----STARTUP---- (30 April 2021 22:47:53) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:50:43' prior: 50876736 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	product := self rewardedProduct.
	
"	aCustomer type = #Gold ifTrue: [ price := (self priceOf: product)/2 ].
	aCustomer type = #Silver ifTrue: [ price := (self priceOf: product)*3/4 ].
	aCustomer type = #Normal ifTrue: [ price := (self priceOf: product)*9/10 ]."
	
	price _ aCustomer valuationOfCombo2Reward: self.
	
	^CoffeeShopReward of: product at: price quantity: self productQuantity! !
!CoffeeShopCustomerGold methodsFor: 'as yet unclassified' stamp: 'ja 4/30/2021 22:52:18' prior: 50876753!
valuationOfCombo2Reward: aReward

	^ aReward priceForShopCustomerGold.

	! !
!CoffeeShopCustomerGold methodsFor: 'as yet unclassified' stamp: 'ja 4/30/2021 22:52:37'!
valuationOfReward: aReward

	^ aReward priceForShopCustomerGold.

	! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:52:54' prior: 50876848 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	product := self rewardedProduct.
	
"	aCustomer type = #Gold ifTrue: [ price := (self priceOf: product)/2 ].
	aCustomer type = #Silver ifTrue: [ price := (self priceOf: product)*3/4 ].
	aCustomer type = #Normal ifTrue: [ price := (self priceOf: product)*9/10 ]."
	
	price _ aCustomer valuationOfReward: self.
	
	^CoffeeShopReward of: product at: price quantity: self productQuantity! !

!methodRemoval: CoffeeShopCustomerGold #valuationOfCombo2Reward: stamp: 'ja 4/30/2021 22:53:06'!
valuationOfCombo2Reward: aReward

	^ aReward priceForShopCustomerGold.

	!
!CoffeeShopCustomerNormal methodsFor: 'as yet unclassified' stamp: 'ja 4/30/2021 22:54:19'!
valuationOfReward: aReward

	^ aReward priceForShopCustomerGold.

	! !
!CoffeeShopCustomerSilver methodsFor: 'as yet unclassified' stamp: 'ja 4/30/2021 22:54:26'!
valuationOfReward: aReward

	^ aReward priceForShopCustomerGold.

	! !

!methodRemoval: CoffeeShopCustomerNormal #valuationOfCombo2Reward: stamp: 'ja 4/30/2021 22:54:32'!
valuationOfCombo2Reward: aPriceOfReward

	^ aPriceOfReward * 3 / 4 .!
!CoffeeShopCustomerNormal methodsFor: 'as yet unclassified' stamp: 'ja 4/30/2021 22:54:42' prior: 50876899!
valuationOfReward: aReward

	^ aReward priceForShopCustomerNormal.

	! !

!methodRemoval: CoffeeShopCustomerSilver #valuationOfCombo2Reward: stamp: 'ja 4/30/2021 22:54:48'!
valuationOfCombo2Reward: aPriceOfReward

	^ aPriceOfReward * 9 / 10 .!
!CoffeeShopCustomerSilver methodsFor: 'as yet unclassified' stamp: 'ja 4/30/2021 22:54:57' prior: 50876905!
valuationOfReward: aReward

	^ aReward priceForShopCustomerSilver.

	! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:55:53' prior: 50876802 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	product := self rewardedProduct.
	
	"aCustomer type = #Gold ifTrue: [ price := 75*peso ].
	aCustomer type = #Silver ifTrue: [ price := 83*peso ].
	aCustomer type = #Normal ifTrue: [ price := 97*peso ]."
	
	price  _ aCustomer valuationOfReward: self.
	
	^CoffeeShopReward of: product at: price quantity: self productQuantity! !

!methodRemoval: CoffeeShopCustomerGold #valuationOfCombo1Reward stamp: 'ja 4/30/2021 22:56:24'!
valuationOfCombo1Reward



	!
!RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:57:07'!
priceForShopCustomerGold! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:58:26' overrides: 50876951!
priceForShopCustomerGold! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:58:37' overrides: 50876951!
priceForShopCustomerGold! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:58:43'!
priceForShopCustomerNormal! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:58:49'!
priceForShopCustomerSilver! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:59:03'!
priceForShopCustomerNormal! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 22:59:11'!
priceForShopCustomerSilver! !
!RewardRule methodsFor: 'product price' stamp: 'ja 4/30/2021 22:59:28' prior: 50876951!
priceForShopCustomerGold

	self subclassResponsibility ! !
!RewardRule methodsFor: 'product price' stamp: 'ja 4/30/2021 22:59:37'!
priceForShopCustomerNormal

	self subclassResponsibility ! !
!RewardRule methodsFor: 'product price' stamp: 'ja 4/30/2021 22:59:43'!
priceForShopCustomerSilver

	self subclassResponsibility ! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:00:48' prior: 50876959 overrides: 50876979!
priceForShopCustomerGold

	^ self priceOf: product / 2! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:02:55' prior: 50876963 overrides: 50876984!
priceForShopCustomerNormal

	^ self priceOf: product * 3 / 4! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:03:25' prior: 50876967 overrides: 50876989!
priceForShopCustomerSilver

	^ self priceOf: product * 9 / 10! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:04:13' prior: 50876955 overrides: 50876979!
priceForShopCustomerGold

	^ 75*peso! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:04:25' prior: 50876971 overrides: 50876984!
priceForShopCustomerNormal

	^ 83*peso! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:04:36' prior: 50876975 overrides: 50876989!
priceForShopCustomerSilver

	^ 97*peso! !
!RewardRule methodsFor: 'product price' stamp: 'ja 4/30/2021 23:06:08'!
priceOf

"	aProduct = #Combo1 ifTrue: [ ^150*peso ].
	aProduct = #Combo2 ifTrue: [ ^120*peso ]."
	
	
	
	self error: 'Invalid combo type'! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:06:21'!
price

	! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:06:33'!
price! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:07:23' prior: 50877034!
price

	^ 150*peso! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:07:35' prior: 50877037!
price

	^ 120*peso! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:08:52' prior: 50876995 overrides: 50876979!
priceForShopCustomerGold

	^ self price / 2! !

	^ self price  * 3 / 4!
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:09:09' prior: 50877001 overrides: 50876984!
priceForShopCustomerNormal

	^ self price  * 3 / 4! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:09:16' prior: 50877007 overrides: 50876989!
priceForShopCustomerSilver

	^ self price * 9 / 10! !
!RewardRule methodsFor: 'product price' stamp: 'ja 4/30/2021 23:10:14'!
price

"	aProduct = #Combo1 ifTrue: [ ^150*peso ].
	aProduct = #Combo2 ifTrue: [ ^120*peso ]."
	
	
	
	self error: 'Invalid combo type'! !

!methodRemoval: RewardRule #priceOf stamp: 'ja 4/30/2021 23:10:14'!
priceOf

"	aProduct = #Combo1 ifTrue: [ ^150*peso ].
	aProduct = #Combo2 ifTrue: [ ^120*peso ]."
	
	
	
	self error: 'Invalid combo type'!
!RewardRule methodsFor: 'product price' stamp: 'ja 4/30/2021 23:10:42' prior: 50877066!
price
	
	self error: 'Invalid combo type'! !

!methodRemoval: RewardRule #priceOf: stamp: 'ja 4/30/2021 23:10:52'!
priceOf: aProduct

	aProduct = #Combo1 ifTrue: [ ^150*peso ].
	aProduct = #Combo2 ifTrue: [ ^120*peso ].

	self error: 'Invalid combo type'!
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:11:08' prior: 50876933 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	price  _ aCustomer valuationOfReward: self.
	
	^CoffeeShopReward of: self at: price quantity: self productQuantity! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:11:38' prior: 50876877 overrides: 50875620!
createRewardFor: aCustomer 
	
	| price |
	
	price _ aCustomer valuationOfReward: self.
	
	^CoffeeShopReward of: self at: price quantity: self productQuantity! !
!CoffeeShopReward methodsFor: 'testing' stamp: 'ja 4/30/2021 23:12:58' prior: 50875509!
isForCombo1
	
	^ product isForCombo1 ! !
!CoffeeShopReward methodsFor: 'testing' stamp: 'ja 4/30/2021 23:14:10' prior: 50875513!
isForCombo2
	
	^product isForCombo2! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:14:33'!
isForCombo1! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:14:34'!
isForCombo2! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:14:38' prior: 50877121!
isForCombo2

	^ false! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:14:45' prior: 50877118!
isForCombo1

	^ true! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:15:05'!
isForCombo2

	^ true! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:15:14'!
isForCombo1

	^ false! !
!CoffeeShopSalesSystem methodsFor: 'product volume' stamp: 'ja 4/30/2021 23:16:40' prior: 50875546!
volumeOf: aProduct

"	aProduct = #Combo1 ifTrue: [ ^250*milliliter ].
	aProduct = #Combo2 ifTrue: [ ^100*milliliter ]."
	aProduct volumeStablishedFor: self.

	self error: 'Invalid product'
	! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:18:43'!
volumeStablishedFor: aCoffeShopSalesSystem

	aCoffeShopSalesSystem volumeForCombo1.! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:19:09'!
volumeStablishedFor: aCoffeShopSalesSystem

	aCoffeShopSalesSystem volumeForCombo2.! !
!CoffeeShopSalesSystem methodsFor: 'product volume' stamp: 'ja 4/30/2021 23:20:00'!
volumeForCombo2

"	aProduct = #Combo1 ifTrue: [ ^250*milliliter ].
	aProduct = #Combo2 ifTrue: [ ^100*milliliter ]."
! !
!CoffeeShopSalesSystem methodsFor: 'product volume' stamp: 'ja 4/30/2021 23:20:03'!
volumeForCombo1

"	aProduct = #Combo1 ifTrue: [ ^250*milliliter ].
	aProduct = #Combo2 ifTrue: [ ^100*milliliter ]."
! !
!RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:20:57'!
volumeStablishedFor: aCoffeShopSalesSystem

	self error: 'Invalid product'
	! !
!CoffeeShopSalesSystem methodsFor: 'product volume' stamp: 'ja 4/30/2021 23:21:20' prior: 50877169!
volumeForCombo1

	^250*milliliter 
	
! !
!CoffeeShopSalesSystem methodsFor: 'product volume' stamp: 'ja 4/30/2021 23:21:34' prior: 50877162!
volumeForCombo2

	^100*milliliter 
! !
!CoffeeShopSalesSystem methodsFor: 'product volume' stamp: 'ja 4/30/2021 23:22:24' prior: 50877141!
volumeOf: aProduct

	aProduct volumeStablishedFor: self.

	self error: 'Invalid product'
	! !
!CoffeeShopSalesSystem methodsFor: 'product volume' stamp: 'ja 4/30/2021 23:22:31' prior: 50877192!
volumeOf: aProduct

	^ aProduct volumeStablishedFor: self.	! !

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:24:37'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:24:37'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/30/2021 23:24:37'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/30/2021 23:24:37'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:24:37'!
ERROR!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/30/2021 23:24:37'!
ERROR!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/30/2021 23:24:37'!
ERROR!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/30/2021 23:24:37'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:24:37'!
ERROR!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:24:37'!
ERROR!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:24:37'!
ERROR!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:24:37'!
ERROR!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:24:37'!
ERROR!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:24:37'!
ERROR!
!CoffeeShopTest methodsFor: 'test objects' stamp: 'ja 4/30/2021 23:25:41' prior: 50875209!
combo1

	^Combo1RewardRule new! !
!CoffeeShopTest methodsFor: 'test objects' stamp: 'ja 4/30/2021 23:26:00' prior: 50875213!
combo2

	^ Combo2RewardRule new! !

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:26:27'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:26:27'!
FAILURE!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/30/2021 23:26:27'!
FAILURE!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/30/2021 23:26:27'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:26:27'!
FAILURE!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/30/2021 23:26:27'!
FAILURE!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/30/2021 23:26:27'!
ERROR!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/30/2021 23:26:27'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:26:27'!
ERROR!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:26:27'!
ERROR!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:26:27'!
ERROR!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:26:27'!
ERROR!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:26:27'!
ERROR!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:26:27'!
ERROR!

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:26:59'!
PASSED!
!CoffeeShopTest methodsFor: 'test objects' stamp: 'HAW 9/20/2019 17:21:01' prior: 50877264!
combo2

	^#Combo2! !
!CoffeeShopTest methodsFor: 'test objects' stamp: 'HAW 9/20/2019 17:15:53' prior: 50877260!
combo1

	^#Combo1! !

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:30:15'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:30:15'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/30/2021 23:30:15'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/30/2021 23:30:15'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/30/2021 23:30:15'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:30:15'!
ERROR!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:30:34'!
ERROR!
!CoffeeShopTest methodsFor: 'test objects' stamp: 'ja 4/30/2021 23:32:33' prior: 50877332!
combo1

	^ Combo1RewardRule new! !
!CoffeeShopTest methodsFor: 'test objects' stamp: 'ja 4/30/2021 23:32:45' prior: 50877328!
combo2

	^ Combo2RewardRule new! !
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/30/2021 23:33:33' prior: 50875909!
test02CanQuerySalesByCustomer

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	
	self assserThatCustomer: adaLovelace registerSales: 1 fromCombo: [ :aProduct | aProduct rewardedProduct = self combo1 rewardedProduct ].! !

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:33:36'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:33:39'!
PASSED!
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/30/2021 23:34:29' prior: 50875940!
test03SalesAreDistinguishedByCustomer

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: alanKay of: self combo2.

	self assserThatCustomer: adaLovelace registerSales: 1 fromCombo: [ :aProduct | aProduct rewardedProduct = self combo1 rewardedProduct ].

	self assserThatCustomer: alanKay registerSales: 1 fromCombo: [ :aProduct | aProduct rewardedProduct = self combo2 rewardedProduct].! !
!CoffeeShopTest methodsFor: 'tests - sales' stamp: 'ja 4/30/2021 23:34:33' prior: 50877421!
test03SalesAreDistinguishedByCustomer

	salesSystem := CoffeeShopSalesSystem new.

	salesSystem registerSaleTo: adaLovelace of: self combo1.
	salesSystem registerSaleTo: alanKay of: self combo2.

	self assserThatCustomer: adaLovelace registerSales: 1 fromCombo: [ :aProduct | aProduct rewardedProduct = self combo1 rewardedProduct ].

	self assserThatCustomer: alanKay registerSales: 1 fromCombo: [ :aProduct | aProduct rewardedProduct = self combo2 rewardedProduct ].! !

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/30/2021 23:34:35'!
PASSED!

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:34:37'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/30/2021 23:34:45'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:34:47'!
FAILURE!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:34:47'!
FAILURE!
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:39:20' prior: 50877150 overrides: 50877176!
volumeStablishedFor: aCoffeShopSalesSystem

	^aCoffeShopSalesSystem volumeForCombo1.! !

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:39:24'!
PASSED!
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:39:42' prior: 50877156 overrides: 50877176!
volumeStablishedFor: aCoffeShopSalesSystem

	^aCoffeShopSalesSystem volumeForCombo2.! !

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:39:46'!
FAILURE!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:39:46'!
FAILURE!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:39:46'!
PASSED!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:39:46'!
FAILURE!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:39:46'!
FAILURE!

shopCustomerReward price!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:43:04'!
FAILURE!
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:46:41' prior: 50877056 overrides: 50876984!
priceForShopCustomerNormal

	^ (self price)  * 3 / 4! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:46:57' prior: 50877062 overrides: 50876989!
priceForShopCustomerSilver

	^ (self price) * 9 / 10! !

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:47:32'!
FAILURE!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:47:32'!
FAILURE!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:47:32'!
PASSED!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:47:32'!
FAILURE!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:47:32'!
FAILURE!
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:55:05' prior: 50877555 overrides: 50876984!
priceForShopCustomerNormal

	^ (self price)  * 9 / 10! !
!Combo2RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:55:13' prior: 50877561 overrides: 50876989!
priceForShopCustomerSilver

	^ (self price) * 3 / 4! !

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:55:40'!
PASSED!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:55:40'!
FAILURE!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:55:40'!
FAILURE!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:56:01'!
FAILURE!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:56:01'!
FAILURE!
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:56:36' prior: 50877023 overrides: 50876989!
priceForShopCustomerSilver

	^ 83*peso! !
!Combo1RewardRule methodsFor: 'reward creation' stamp: 'ja 4/30/2021 23:56:43' prior: 50877018 overrides: 50876984!
priceForShopCustomerNormal

	^ 97*peso! !

!testRun: #CoffeeShopTest #test01ThereAreNoSalesWhenSalesSystemIsCreated stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test02CanQuerySalesByCustomer stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test03SalesAreDistinguishedByCustomer stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test04VolumeSoldToCustomerIsZeroWhenCustomerHasNoSaleRegistered stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test05VolumeIs_250_WhenOnlyCombo1WasSoldToCustomer stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test06VolumeIs_100_WhenOnlyCombo2WasSoldToCustomer stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test07VolumeSoldToCustomerIsTheSumOfAllSoldProducts stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test08NoRewardExpectedWhenCustomerHasNotBuyAnything stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test09GoldCustomerGetsRewardedWithOneCombo2With50PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test10SilverCustomerGetsRewardedWithOneCombo2With75PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test11NormalCustomerGetsRewardedWithOneCombo2With90PercentItsPriceWhenRule1Holds stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test12GoldCustomerGetsRewardedWithOneCombo1At75PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test13SilverCustomerGetsRewardedWithOneCombo1At83PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

!testRun: #CoffeeShopTest #test14NormalCustomerGetsRewardedWithOneCombo1At97PesosWhenRule2Holds stamp: 'ja 4/30/2021 23:56:46'!
PASSED!

----QUIT----(30 April 2021 23:57:03) CuisUniversity-4532.image priorSource: 17446084!

----STARTUP---- (2 May 2021 17:13:27) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----End fileIn of /home/jampuero/Documentos/isw1/2020/Parciales/2020-1c/Recuperatorios/ISW1-2020-1C-Recu1erParcial.st----!

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 17:16:02'!
PASSED!

!testRun: #LocomotiveTest #test02LocomotiveInAutomaticModeDeceleratesAndBrealsInFrontOfAnObstacle stamp: 'ja 5/2/2021 17:16:02'!
PASSED!

!testRun: #LocomotiveTest #test03LocomotiveInAutomaticModeDeceleratesEnteringACurve stamp: 'ja 5/2/2021 17:16:02'!
PASSED!

!testRun: #LocomotiveTest #test04LocomotiveInAutomaticModeDeceleratesAndBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 17:16:02'!
PASSED!

!testRun: #LocomotiveTest #test05LocomotiveInManualModeBreaksInFrontOfAnObstacle stamp: 'ja 5/2/2021 17:16:02'!
PASSED!

!testRun: #LocomotiveTest #test06LocomotiveInManualModeDoesntBreakEnteringACurve stamp: 'ja 5/2/2021 17:16:02'!
PASSED!

!testRun: #LocomotiveTest #test07LocomotiveInManualModeBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 17:16:02'!
PASSED!

Object subclass: #LocomotiveState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!

!classDefinition: #LocomotiveState category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 17:22:48'!
Object subclass: #LocomotiveState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!

LocomotiveState subclass: #LocomotiveStateManual
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!

!classDefinition: #LocomotiveStateManual category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 17:23:04'!
LocomotiveState subclass: #LocomotiveStateManual
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!

LocomotiveState subclass: #LocomotiveStateAutomatic
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!

!classDefinition: #LocomotiveStateAutomatic category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 17:23:09'!
LocomotiveState subclass: #LocomotiveStateAutomatic
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!
!LocomotiveState methodsFor: 'no messages' stamp: 'ja 5/2/2021 17:23:39'!
step! !
!LocomotiveState methodsFor: 'as yet unclassified' stamp: 'ja 5/2/2021 17:23:47' prior: 50878206!
step
	
	self subclassResponsibility ! !
!LocomotiveStateAutomatic methodsFor: 'no messages' stamp: 'ja 5/2/2021 17:23:54' overrides: 50878210!
step! !
!LocomotiveStateManual methodsFor: 'no messages' stamp: 'ja 5/2/2021 17:23:59' overrides: 50878210!
step! !

!classDefinition: #Locomotive category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 17:24:39'!
Object subclass: #Locomotive
	instanceVariableNames: 'motor breaksChain odometersChain proximitySensor manual controlState'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!
!Locomotive methodsFor: 'moving' stamp: 'ja 5/2/2021 17:24:36' prior: 50877950!
step
	
	controlState step. 
	manual ifFalse:
	[
	self enteringCurve
		ifTrue: [motor decelerate.
			self inFrontOfAnObstacle
				ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]]
		ifFalse:[
			self inFrontOfAnObstacle
				ifTrue: [motor decelerate. breaksChain do:[:eachBreak | eachBreak break]]
				ifFalse: [motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree]
					]
				]
	]
	ifTrue:
	[
			self inFrontOfAnObstacle
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]
	]
! !

!classDefinition: #Locomotive category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 17:25:43'!
Object subclass: #Locomotive
	instanceVariableNames: 'motor breaksChain odometersChain proximitySensor manual controlState stateControl'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!
!Locomotive methodsFor: 'moving' stamp: 'ja 5/2/2021 17:25:41' prior: 50878232!
step
	
	stateControl step. 
	manual ifFalse:
	[
	self enteringCurve
		ifTrue: [motor decelerate.
			self inFrontOfAnObstacle
				ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]]
		ifFalse:[
			self inFrontOfAnObstacle
				ifTrue: [motor decelerate. breaksChain do:[:eachBreak | eachBreak break]]
				ifFalse: [motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree]
					]
				]
	]
	ifTrue:
	[
			self inFrontOfAnObstacle
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]
	]
! !

Object subclass: #Locomotive
	instanceVariableNames: 'motor breaksChain odometersChain proximitySensor manual stateControl'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!

!classDefinition: #Locomotive category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 17:25:52'!
Object subclass: #Locomotive
	instanceVariableNames: 'motor breaksChain odometersChain proximitySensor manual stateControl'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!
!Locomotive methodsFor: 'initialization' stamp: 'ja 5/2/2021 17:27:59' prior: 50877987!
initializeWithOdometers: aChainOfOdometers withProximitySensor: aProximitySensor withMotor: aLocomotiveMotor withBreaks: aChainOfBreaks 

	odometersChain := aChainOfOdometers.
	proximitySensor := aProximitySensor.
	motor := aLocomotiveMotor.
	breaksChain := aChainOfBreaks.
	manual _ LocomotiveStateAutomatic with: self.! !
!LocomotiveState class methodsFor: 'no messages' stamp: 'ja 5/2/2021 17:30:26'!
with: aLocomotive
	
	^ self new initializeWith: aLocomotive ! !

!classDefinition: #LocomotiveState category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 17:30:53'!
Object subclass: #LocomotiveState
	instanceVariableNames: 'locomotive'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!
!LocomotiveState methodsFor: 'as yet unclassified' stamp: 'ja 5/2/2021 17:30:51'!
initializeWith: aLocomotive

	locomotive _ aLocomotive ! !
!Locomotive methodsFor: 'moving' stamp: 'ja 5/2/2021 17:32:17' prior: 50878263!
step
	
	stateControl step. 
	"manual ifFalse:
	[
	self enteringCurve
		ifTrue: [motor decelerate.
			self inFrontOfAnObstacle
				ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]]
		ifFalse:[
			self inFrontOfAnObstacle
				ifTrue: [motor decelerate. breaksChain do:[:eachBreak | eachBreak break]]
				ifFalse: [motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree]
					]
				]
	]
	ifTrue:
	[
			self inFrontOfAnObstacle
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]
	]"
! !
!LocomotiveStateManual methodsFor: 'as yet unclassified' stamp: 'ja 5/2/2021 17:36:53' prior: 50878219 overrides: 50878210!
step

	locomotive stepWhenLocomotiveIsManual.! !
!LocomotiveStateAutomatic methodsFor: 'as yet unclassified' stamp: 'ja 5/2/2021 17:37:27' prior: 50878215 overrides: 50878210!
step
	
	locomotive stepWhenLocomotiveIsAutomatic.! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 17:40:36'!
stepWhenLocomotiveIsAutomatic! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 17:40:41'!
stepWhenLocomotiveIsManual! !
!Locomotive methodsFor: 'initialization' stamp: 'ja 5/2/2021 17:43:38' prior: 50878301!
initializeWithOdometers: aChainOfOdometers withProximitySensor: aProximitySensor withMotor: aLocomotiveMotor withBreaks: aChainOfBreaks 

	odometersChain := aChainOfOdometers.
	proximitySensor := aProximitySensor.
	motor := aLocomotiveMotor.
	breaksChain := aChainOfBreaks.
	stateControl _ LocomotiveStateAutomatic with: self.! !
!Locomotive methodsFor: 'initialization' stamp: 'ja 5/2/2021 17:43:51' prior: 50878372!
initializeWithOdometers: aChainOfOdometers withProximitySensor: aProximitySensor withMotor: aLocomotiveMotor withBreaks: aChainOfBreaks 

	odometersChain := aChainOfOdometers.
	proximitySensor := aProximitySensor.
	motor := aLocomotiveMotor.
	breaksChain := aChainOfBreaks.
	manual _ false.
	stateControl _ LocomotiveStateAutomatic with: self.! !
!Locomotive methodsFor: 'initialization' stamp: 'ja 5/2/2021 17:43:56' prior: 50878386!
initializeWithOdometers: aChainOfOdometers withProximitySensor: aProximitySensor withMotor: aLocomotiveMotor withBreaks: aChainOfBreaks 

	odometersChain := aChainOfOdometers.
	proximitySensor := aProximitySensor.
	motor := aLocomotiveMotor.
	breaksChain := aChainOfBreaks.
	"manual _ false."
	stateControl _ LocomotiveStateAutomatic with: self.! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 17:50:14' prior: 50878368!
stepWhenLocomotiveIsManual

	self inFrontOfAnObstacle
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 17:50:28' prior: 50878364!
stepWhenLocomotiveIsAutomatic

	self enteringCurve
		ifTrue: [motor decelerate.
			self inFrontOfAnObstacle
				ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]]
		ifFalse:[
			self inFrontOfAnObstacle
				ifTrue: [motor decelerate. breaksChain do:[:eachBreak | eachBreak break]]
				ifFalse: [motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree]
					]
				]! !
!Locomotive methodsFor: 'moving' stamp: 'ja 5/2/2021 17:51:02' prior: 50878332!
step
	
	stateControl step. 

! !
!Locomotive methodsFor: 'pilot' stamp: 'ja 5/2/2021 17:52:57' prior: 50878002!
manual

	stateControl _ LocomotiveStateManual with: self.! !
!Locomotive methodsFor: 'pilot' stamp: 'ja 5/2/2021 17:53:16' prior: 50877999!
automatic

	stateControl _ LocomotiveStateAutomatic with: self.! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 17:53:35'!
PASSED!

!testRun: #LocomotiveTest #test02LocomotiveInAutomaticModeDeceleratesAndBrealsInFrontOfAnObstacle stamp: 'ja 5/2/2021 17:53:35'!
PASSED!

!testRun: #LocomotiveTest #test03LocomotiveInAutomaticModeDeceleratesEnteringACurve stamp: 'ja 5/2/2021 17:53:35'!
PASSED!

!testRun: #LocomotiveTest #test04LocomotiveInAutomaticModeDeceleratesAndBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 17:53:35'!
PASSED!

!testRun: #LocomotiveTest #test05LocomotiveInManualModeBreaksInFrontOfAnObstacle stamp: 'ja 5/2/2021 17:53:35'!
PASSED!

!testRun: #LocomotiveTest #test06LocomotiveInManualModeDoesntBreakEnteringACurve stamp: 'ja 5/2/2021 17:53:35'!
PASSED!

!testRun: #LocomotiveTest #test07LocomotiveInManualModeBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 17:53:35'!
PASSED!
!Locomotive methodsFor: 'condition' stamp: 'ja 5/2/2021 17:54:12' prior: 50877979!
inFrontOfAnObstacle
	
	^proximitySensor obstacleSensed! !
!Locomotive methodsFor: 'condition' stamp: 'ja 5/2/2021 17:55:30' prior: 50877974!
enteringCurve
	
	^odometersChain first < odometersChain last! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 18:44:40'!
decelerateMotorAndCheckObstacle
	""
	self enteringCurve
		ifTrue: [motor decelerate.
			self inFrontOfAnObstacle
				ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]]
		ifFalse:[
			self inFrontOfAnObstacle
				ifTrue: [motor decelerate. breaksChain do:[:eachBreak | eachBreak break]]
				ifFalse: [motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree]
					]
				]! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 18:45:13' prior: 50878491!
decelerateMotorAndCheckObstacle
	motor decelerate.
	self inFrontOfAnObstacle
		ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]
		ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]
	! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 18:46:35' prior: 50878421!
stepWhenLocomotiveIsAutomatic

	self enteringCurve
		ifTrue: [ self decelerateMotorAndCheckObstacle ]
		ifFalse:[
			self decelerateMotorAndCheckObstacle 
				]! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 18:46:38'!
FAILURE!

!testRun: #LocomotiveTest #test02LocomotiveInAutomaticModeDeceleratesAndBrealsInFrontOfAnObstacle stamp: 'ja 5/2/2021 18:46:38'!
PASSED!

!testRun: #LocomotiveTest #test03LocomotiveInAutomaticModeDeceleratesEnteringACurve stamp: 'ja 5/2/2021 18:46:38'!
PASSED!

!testRun: #LocomotiveTest #test04LocomotiveInAutomaticModeDeceleratesAndBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 18:46:38'!
PASSED!

!testRun: #LocomotiveTest #test05LocomotiveInManualModeBreaksInFrontOfAnObstacle stamp: 'ja 5/2/2021 18:46:38'!
PASSED!

!testRun: #LocomotiveTest #test06LocomotiveInManualModeDoesntBreakEnteringACurve stamp: 'ja 5/2/2021 18:46:38'!
PASSED!

!testRun: #LocomotiveTest #test07LocomotiveInManualModeBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 18:46:38'!
PASSED!

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 18:46:38'!
FAILURE!

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 18:46:46'!
FAILURE!

!testRun: #LocomotiveTest #test02LocomotiveInAutomaticModeDeceleratesAndBrealsInFrontOfAnObstacle stamp: 'ja 5/2/2021 18:46:46'!
PASSED!

!testRun: #LocomotiveTest #test03LocomotiveInAutomaticModeDeceleratesEnteringACurve stamp: 'ja 5/2/2021 18:46:46'!
PASSED!

!testRun: #LocomotiveTest #test04LocomotiveInAutomaticModeDeceleratesAndBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 18:46:46'!
PASSED!

!testRun: #LocomotiveTest #test05LocomotiveInManualModeBreaksInFrontOfAnObstacle stamp: 'ja 5/2/2021 18:46:46'!
PASSED!

!testRun: #LocomotiveTest #test06LocomotiveInManualModeDoesntBreakEnteringACurve stamp: 'ja 5/2/2021 18:46:46'!
PASSED!

!testRun: #LocomotiveTest #test07LocomotiveInManualModeBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 18:46:46'!
PASSED!

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 18:46:46'!
FAILURE!
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 18:47:14' prior: 50878517!
stepWhenLocomotiveIsAutomatic

	self enteringCurve
		ifTrue: [ self decelerateMotorAndCheckObstacle ]
		ifFalse:[ self decelerateMotorAndCheckObstacle ]! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 17:50:28' prior: 50878591!
stepWhenLocomotiveIsAutomatic

	self enteringCurve
		ifTrue: [motor decelerate.
			self inFrontOfAnObstacle
				ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]]
		ifFalse:[
			self inFrontOfAnObstacle
				ifTrue: [motor decelerate. breaksChain do:[:eachBreak | eachBreak break]]
				ifFalse: [motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree]
					]
				]! !

!methodRemoval: Locomotive #decelerateMotorAndCheckObstacle stamp: 'ja 5/2/2021 18:52:20'!
decelerateMotorAndCheckObstacle
	motor decelerate.
	self inFrontOfAnObstacle
		ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]
		ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]
	!

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 18:52:24'!
PASSED!

!testRun: #LocomotiveTest #test02LocomotiveInAutomaticModeDeceleratesAndBrealsInFrontOfAnObstacle stamp: 'ja 5/2/2021 18:52:24'!
PASSED!

!testRun: #LocomotiveTest #test03LocomotiveInAutomaticModeDeceleratesEnteringACurve stamp: 'ja 5/2/2021 18:52:24'!
PASSED!

!testRun: #LocomotiveTest #test04LocomotiveInAutomaticModeDeceleratesAndBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 18:52:24'!
PASSED!

!testRun: #LocomotiveTest #test05LocomotiveInManualModeBreaksInFrontOfAnObstacle stamp: 'ja 5/2/2021 18:52:24'!
PASSED!

!testRun: #LocomotiveTest #test06LocomotiveInManualModeDoesntBreakEnteringACurve stamp: 'ja 5/2/2021 18:52:24'!
PASSED!

!testRun: #LocomotiveTest #test07LocomotiveInManualModeBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 18:52:24'!
PASSED!

Object subclass: #ProximityCurve
	instanceVariableNames: 'obstacleDistance'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!

!classDefinition: #ProximityCurve category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 18:56:00'!
Object subclass: #ProximityCurve
	instanceVariableNames: 'obstacleDistance'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 18:56:48' prior: 50878599!
stepWhenLocomotiveIsAutomatic

	self enteringCurve
		ifTrue: [motor decelerate.
			self inFrontOfAnObstacle
				ifTrue: [breaksChain do:[:eachBreak | eachBreak break]]
				ifFalse: [breaksChain do:[:eachBreak | eachBreak breakFree]]]
				
		ifFalse:[
			self inFrontOfAnObstacle
				ifTrue: [motor decelerate. breaksChain do:[:eachBreak | eachBreak break]]
				ifFalse: [motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree]
					]
				]! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 18:56:54'!
PASSED!

!testRun: #LocomotiveTest #test02LocomotiveInAutomaticModeDeceleratesAndBrealsInFrontOfAnObstacle stamp: 'ja 5/2/2021 18:56:54'!
PASSED!

!testRun: #LocomotiveTest #test03LocomotiveInAutomaticModeDeceleratesEnteringACurve stamp: 'ja 5/2/2021 18:56:54'!
PASSED!

!testRun: #LocomotiveTest #test04LocomotiveInAutomaticModeDeceleratesAndBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 18:56:54'!
PASSED!

!testRun: #LocomotiveTest #test05LocomotiveInManualModeBreaksInFrontOfAnObstacle stamp: 'ja 5/2/2021 18:56:54'!
PASSED!

!testRun: #LocomotiveTest #test06LocomotiveInManualModeDoesntBreakEnteringACurve stamp: 'ja 5/2/2021 18:56:54'!
PASSED!

!testRun: #LocomotiveTest #test07LocomotiveInManualModeBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 18:56:54'!
PASSED!
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 19:01:30' prior: 50878668!
stepWhenLocomotiveIsAutomatic

	
			
	self inFrontOfAnObstacle ifTrue: [ motor decelerate. breaksChain do:[:eachBreak | eachBreak break] ]
		ifFalse:[
			self enteringCurve ifTrue: [ motor decelerate . breaksChain do:[:eachBreak | eachBreak breakFree]]
						 ifFalse: [ motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree] ]
			]! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 19:01:33'!
PASSED!

!testRun: #LocomotiveTest #test02LocomotiveInAutomaticModeDeceleratesAndBrealsInFrontOfAnObstacle stamp: 'ja 5/2/2021 19:01:33'!
PASSED!

!testRun: #LocomotiveTest #test03LocomotiveInAutomaticModeDeceleratesEnteringACurve stamp: 'ja 5/2/2021 19:01:33'!
PASSED!

!testRun: #LocomotiveTest #test04LocomotiveInAutomaticModeDeceleratesAndBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 19:01:33'!
PASSED!

!testRun: #LocomotiveTest #test05LocomotiveInManualModeBreaksInFrontOfAnObstacle stamp: 'ja 5/2/2021 19:01:33'!
PASSED!

!testRun: #LocomotiveTest #test06LocomotiveInManualModeDoesntBreakEnteringACurve stamp: 'ja 5/2/2021 19:01:33'!
PASSED!

!testRun: #LocomotiveTest #test07LocomotiveInManualModeBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 19:01:33'!
PASSED!
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 19:01:47' prior: 50878714!
stepWhenLocomotiveIsAutomatic

	
			
	self inFrontOfAnObstacle ifTrue: [ motor decelerate. breaksChain do:[:eachBreak | eachBreak break] ]
						ifFalse:[
							self enteringCurve ifTrue: [ motor decelerate . breaksChain do:[:eachBreak | eachBreak breakFree]]
										 ifFalse: [ motor accelerate. breaksChain do:[:eachBreak | eachBreak breakFree] ]
							]! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 19:03:07' prior: 50878757!
stepWhenLocomotiveIsAutomatic

	
			
	self inFrontOfAnObstacle ifTrue: [ motor decelerate. breaksChain do:[:eachBreak | eachBreak break] ]
						ifFalse:[
							self enteringCurve ifTrue: [ motor decelerate ]
										 ifFalse: [ motor accelerate].
										 breaksChain do:[:eachBreak | eachBreak breakFree]
							]! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 19:03:12'!
PASSED!

!testRun: #LocomotiveTest #test02LocomotiveInAutomaticModeDeceleratesAndBrealsInFrontOfAnObstacle stamp: 'ja 5/2/2021 19:03:12'!
PASSED!

!testRun: #LocomotiveTest #test03LocomotiveInAutomaticModeDeceleratesEnteringACurve stamp: 'ja 5/2/2021 19:03:12'!
PASSED!

!testRun: #LocomotiveTest #test04LocomotiveInAutomaticModeDeceleratesAndBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 19:03:12'!
PASSED!

!testRun: #LocomotiveTest #test05LocomotiveInManualModeBreaksInFrontOfAnObstacle stamp: 'ja 5/2/2021 19:03:12'!
PASSED!

!testRun: #LocomotiveTest #test06LocomotiveInManualModeDoesntBreakEnteringACurve stamp: 'ja 5/2/2021 19:03:12'!
PASSED!

!testRun: #LocomotiveTest #test07LocomotiveInManualModeBreaksInFrontOfAnObstacleAndEnteringACurve stamp: 'ja 5/2/2021 19:03:12'!
PASSED!
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 19:03:27' prior: 50878771!
stepWhenLocomotiveIsAutomatic

	
			
	self inFrontOfAnObstacle ifTrue: [ motor decelerate. breaksChain do:[:eachBreak | eachBreak break] ]
						ifFalse:[
							self enteringCurve ifTrue: [ motor decelerate ] ifFalse: [ motor accelerate].
										 breaksChain do:[:eachBreak | eachBreak breakFree]
							]! !
!Locomotive methodsFor: 'private' stamp: 'ja 5/2/2021 19:03:50' prior: 50878813!
stepWhenLocomotiveIsAutomatic

	
			
	self inFrontOfAnObstacle ifTrue: [ motor decelerate. breaksChain do:[:eachBreak | eachBreak break] ]
						ifFalse:[
							self enteringCurve ifTrue: [ motor decelerate ] 
											ifFalse: [ motor accelerate].
										 breaksChain do:[:eachBreak | eachBreak breakFree]
							]! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:20:54' prior: 50877793!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	self assert: locomotive speedingUp.
	self deny: locomotive enteringCurve.
	self deny: locomotive inFrontOfAnObstacle.
	self deny: locomotive breaking.
	
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:26:37' prior: 50878839!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	self assert: locomotive speedingUp.
	self deny: locomotive enteringCurve.
	self deny: locomotive inFrontOfAnObstacle.
	self deny: locomotive breaking.
	
	self speedingUp: [:cosaAAsertar | self assert: cosaAAsertar ] enteringCurve: [:cosaANegar | self deny: cosaANegar ] inFrontOfAnObstacle:  [:cosaANegar | self deny: cosaANegar ] breaking:  [:cosaANegar | self deny: cosaANegar ].
	
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:28:24'!
speedingUp: aBlock1 enteringCurve: aBlock2 inFrontOfAnObstacle: aBlock3 breaking: aBlock4 for: aLocomotive
	
	aBlock1 value: aLocomotive speedingUP.
	
	"self assert: locomotive speedingUp.
	self deny: locomotive enteringCurve.
	self deny: locomotive inFrontOfAnObstacle.
	self deny: locomotive breaking.
	"! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:28:29' prior: 50878885!
speedingUp: aBlock1 enteringCurve: aBlock2 inFrontOfAnObstacle: aBlock3 breaking: aBlock4 for: aLocomotive
	
	aBlock1 value: aLocomotive speedUp .
	
	"self assert: locomotive speedingUp.
	self deny: locomotive enteringCurve.
	self deny: locomotive inFrontOfAnObstacle.
	self deny: locomotive breaking.
	"! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:29:10' prior: 50878898!
speedingUp: aBlock1 enteringCurve: aBlock2 inFrontOfAnObstacle: aBlock3 breaking: aBlock4 for: aLocomotive
	
	aBlock1 value: aLocomotive speedUp .
	aBlock2 value: aLocomotive enteringCurve .
	aBlock3 value: aLocomotive inFrontOfAnObstacle .
	aBlock4 value: aLocomotive breaking .
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:29:18' prior: 50878859!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	self assert: locomotive speedingUp.
	self deny: locomotive enteringCurve.
	self deny: locomotive inFrontOfAnObstacle.
	self deny: locomotive breaking.
	
	self speedingUp: [:cosaAAsertar | self assert: cosaAAsertar ] enteringCurve: [:cosaANegar | self deny: cosaANegar ] inFrontOfAnObstacle:  [:cosaANegar | self deny: cosaANegar ] breaking:  [:cosaANegar | self deny: cosaANegar ] for: locomotive .
	
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:29:33' prior: 50878923!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.

	self speedingUp: [:cosaAAsertar | self assert: cosaAAsertar ] 
		enteringCurve: [:cosaANegar | self deny: cosaANegar ] 
		inFrontOfAnObstacle:  [:cosaANegar | self deny: cosaANegar ] 
		breaking:  [:cosaANegar | self deny: cosaANegar ] for: locomotive .
	
	! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 19:29:58'!
ERROR!

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 19:29:58'!
ERROR!
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:30:12' prior: 50878911!
speedingUp: aBlock1 enteringCurve: aBlock2 inFrontOfAnObstacle: aBlock3 breaking: aBlock4 for: aLocomotive
	
	aBlock1 value: aLocomotive speedingUp .
	aBlock2 value: aLocomotive enteringCurve .
	aBlock3 value: aLocomotive inFrontOfAnObstacle .
	aBlock4 value: aLocomotive breaking .
	! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 19:30:15'!
PASSED!
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:31:32' prior: 50878950!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	
	self speedingUp: [:cosaAAsertar | self assert: cosaAAsertar ] 
		enteringCurve: [:cosaANegar | self deny: cosaANegar ] 
		inFrontOfAnObstacle:  [:cosaANegar | self deny: cosaANegar ] 
		breaking:  [:cosaANegar | self deny: cosaANegar ] for: locomotive .
	
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:34:15' prior: 50878997!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive xxx yyy |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	xxx _ OrderedCollection  with: [ self assert: locomotive speedingUp].
	yyy _ OrderedCollection with: [ self deny: locomotive enteringCurve.] with: [self deny: locomotive inFrontOfAnObstacle.] with:[ self deny: locomotive breaking ].
	
	"self speedingUp: [:cosaAAsertar | self assert: cosaAAsertar ] 
		enteringCurve: [:cosaANegar | self deny: cosaANegar ] 
		inFrontOfAnObstacle:  [:cosaANegar | self deny: cosaANegar ] 
		breaking:  [:cosaANegar | self deny: cosaANegar ] for: locomotive ."
	
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:35:06' prior: 50879020!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive xxx yyy |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	xxx _ OrderedCollection  with: [ self assert: locomotive speedingUp].
	yyy _ OrderedCollection with: [ self deny: locomotive enteringCurve.] with: [self deny: locomotive inFrontOfAnObstacle.] with:[ self deny: locomotive breaking ].
	
	self assertXXX: xxx andDeny: yyy.
	
	"self speedingUp: [:cosaAAsertar | self assert: cosaAAsertar ] 
		enteringCurve: [:cosaANegar | self deny: cosaANegar ] 
		inFrontOfAnObstacle:  [:cosaANegar | self deny: cosaANegar ] 
		breaking:  [:cosaANegar | self deny: cosaANegar ] for: locomotive ."
	
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:35:44'!
assertXXX: xxx andDeny: yyy.
	
	xxx do:[ :a | a value ].
	yyy do:[:b | b value].
	
	
	! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 19:35:51'!
PASSED!

!classDefinition: #LocomotiveTest category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 19:38:21'!
TestCase subclass: #LocomotiveTest
	instanceVariableNames: 'odometerSimulatorWithNoMovement proximitySimulatorWithNoObstacle proximitySimulatorWithObstacle odometerSimulatorWithFrictionAhead odometerSimulatorMovingWithNoFriction arregloDeCosasParaAsertar'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!

!classDefinition: #LocomotiveTest category: 'ISW1-2020-1C-Recu1erParcial' stamp: 'ja 5/2/2021 19:38:22'!
TestCase subclass: #LocomotiveTest
	instanceVariableNames: 'odometerSimulatorWithNoMovement proximitySimulatorWithNoObstacle proximitySimulatorWithObstacle odometerSimulatorWithFrictionAhead odometerSimulatorMovingWithNoFriction arregloDeCosasParaAsertar arregloDeCosasParaDenegar'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-Recu1erParcial'!
!LocomotiveTest methodsFor: 'setUp' stamp: 'ja 5/2/2021 19:38:18' prior: 50877922 overrides: 16927572!
setUp

	odometerSimulatorWithNoMovement _ # (0 0 0 0 0).
	odometerSimulatorWithFrictionAhead _ # (10 11 12 12 12).
	odometerSimulatorMovingWithNoFriction _ # (11 11 11 11 11).
	proximitySimulatorWithNoObstacle _ ProximitySimulator clear.
	proximitySimulatorWithObstacle _ ProximitySimulator obstacle.
	
	arregloDeCosasParaAsertar _ OrderedCollection new.
	arregloDeCosasParaDenegar _ OrderedCollection new.! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:41:32' prior: 50879051!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	arregloDeCosasParaAsertar add: locomotive speedingUp.
	arregloDeCosasParaDenegar add: locomotive enteringCurve; add: locomotive inFrontOfAnObstacle; add: locomotive breaking .
	
	"self assertXXX: xxx andDeny: yyy."
	
	"self speedingUp: [:cosaAAsertar | self assert: cosaAAsertar ] 
		enteringCurve: [:cosaANegar | self deny: cosaANegar ] 
		inFrontOfAnObstacle:  [:cosaANegar | self deny: cosaANegar ] 
		breaking:  [:cosaANegar | self deny: cosaANegar ] for: locomotive ."
	
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:42:00' prior: 50879138!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	arregloDeCosasParaAsertar add: locomotive speedingUp.
	arregloDeCosasParaDenegar add: locomotive enteringCurve; add: locomotive inFrontOfAnObstacle; add: locomotive breaking .
	
	self assertAndDeny.
	
	"self speedingUp: [:cosaAAsertar | self assert: cosaAAsertar ] 
		enteringCurve: [:cosaANegar | self deny: cosaANegar ] 
		inFrontOfAnObstacle:  [:cosaANegar | self deny: cosaANegar ] 
		breaking:  [:cosaANegar | self deny: cosaANegar ] for: locomotive ."
	
	! !
!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 19:42:52'!
assertAndDeny
	
	arregloDeCosasParaAsertar do:[ :a | self assert: a ].
	arregloDeCosasParaDenegar do:[:b | self deny: b].
	
	
	! !

!testRun: #LocomotiveTest #test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle stamp: 'ja 5/2/2021 19:42:55'!
PASSED!

----QUIT----(2 May 2021 19:55:56) CuisUniversity-4532.image priorSource: 17475615!

----STARTUP---- (2 May 2021 20:17:00) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!LocomotiveTest methodsFor: 'tests' stamp: 'ja 5/2/2021 20:17:06' prior: 50879168!
test01LocomotiveInAutomaticModeAcceleratesWhenNoCurveOrObstacle

	| locomotive |
	
	locomotive _ Locomotive withOdometers: odometerSimulatorWithNoMovement
									withProximitySensor: proximitySimulatorWithNoObstacle
									withMotor: LocomotiveMotor new
									withBreaks: (OrderedCollection with: LocomotiveBreak new). 
	
	locomotive automatic.
	locomotive step.
	
	arregloDeCosasParaAsertar add: locomotive speedingUp.
	arregloDeCosasParaDenegar add: locomotive enteringCurve; add: locomotive inFrontOfAnObstacle; add: locomotive breaking .
	
	self assertAndDeny.
	
	! !

----QUIT----(2 May 2021 20:23:16) CuisUniversity-4532.image priorSource: 17521829!

----STARTUP---- (15 May 2021 18:49:02) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: ''!

!classDefinition: #MarsRoverTest category: '' stamp: 'ja 5/15/2021 18:59:16'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: ''!

!classRemoval: #MarsRoverTest stamp: 'ja 5/15/2021 18:59:56'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: ''!

TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #MarsRoverTest category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 19:00:24'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!
!MarsRoverTest methodsFor: 'no messages' stamp: 'ja 5/15/2021 19:04:27'!
test01! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:05:06' prior: 50879269!
test01

	! !

!classDefinition: #MarsRover category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 19:15:12'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:13:43' prior: 50879273!
test01

	| mars |
	
	mars _ MarsRover inPosition: 1@3 facing: #North.
	
	self assert: (mars isInPosition: 1@3 facing: #North).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:15:29' prior: 50879284!
test01

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (mars isInPosition: 1@3 heading: #North).! !

!testRun: #MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:15:46'!
ERROR!
!MarsRover class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:16:13'!
inPosition: aPoint heading: aSymbol 
	self shouldBeImplemented.! !
!MarsRover class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:17:28' prior: 50879301!
inPosition: aPosition heading: aCardinalPoint 
	
	^ self new initializeInPosition: aPosition heading: aCardinalPoint! !

!testRun: #MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:17:35'!
ERROR!

!classDefinition: #MarsRover category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 19:17:45'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head cardinalPoint'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!
!MarsRover methodsFor: 'initialization' stamp: 'ja 5/15/2021 19:17:45'!
initializeInPosition: aPosition heading: aCardinalPoint 
	self shouldBeImplemented.
	position := aPosition.
	cardinalPoint := aCardinalPoint.! !
!MarsRover methodsFor: 'initialization' stamp: 'ja 5/15/2021 19:17:48' prior: 50879324!
initializeInPosition: aPosition heading: aCardinalPoint 
	
	position := aPosition.
	cardinalPoint := aCardinalPoint.! !
!MarsRover methodsFor: 'initialization' stamp: 'ja 5/15/2021 19:18:04' prior: 50879332!
initializeInPosition: aPosition heading: aCardinalPoint 
	
	position _ aPosition.
	head _ aCardinalPoint.! !

!testRun: #MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:18:07'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:18:23'!
isInPosition: aPoint heading: aSymbol 
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:18:29' prior: 50879348!
isInPosition: aPoint heading: aSymbol 
	
	^ true! !

!testRun: #MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:18:35'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:18:35'!
PASSED!

Object subclass: #MarsRover
	instanceVariableNames: 'position head'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #MarsRover category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 19:18:49'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:18:55'!
test02

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (mars isInPosition: 1@3 heading: #North).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:19:53' prior: 50879375!
test02

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self deny: (mars isInPosition: 1@3 heading: #South).! !

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 19:20:01'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:21:04' prior: 50879354!
isInPosition: aPoint heading: aCardinalPoint
	
	^ position = aPoint and:[ head  = aCardinalPoint ]! !

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 19:21:08'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:21:08'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 19:21:08'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:21:23'!
test03

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self deny: (mars isInPosition: 1@3 heading: #South).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:21:33' prior: 50879406!
test03

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (mars isInPosition: 1@3 heading: #South).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:26:53' prior: 50879414!
test03

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'b'. 
	
	self assert: (mars isInPosition: 1@3 heading: #South).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:28:12' prior: 50879422!
test03

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'b'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:28:23' prior: 50879430!
test03

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'f'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).! !

!testRun: #MarsRoverTest #test03 stamp: 'ja 5/15/2021 19:29:59'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:30:09'!
process: aString 
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:31:01' prior: 50879448!
process: aCommands

	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:31:14' prior: 50879453!
process: aCommands

	position + 0@1.

	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:31:44' prior: 50879457!
process: commands

	position + 0@1.

	! !

!testRun: #MarsRoverTest #test03 stamp: 'ja 5/15/2021 19:31:59'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:32:12' prior: 50879462!
process: commands

	position + (0@1).

	! !

!testRun: #MarsRoverTest #test03 stamp: 'ja 5/15/2021 19:32:13'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:32:42' prior: 50879469!
process: commands

	position _ position + (0@1).

	! !

!testRun: #MarsRoverTest #test03 stamp: 'ja 5/15/2021 19:32:46'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:32:49'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 19:32:49'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'ja 5/15/2021 19:32:49'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:35:26'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 19:35:26'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'ja 5/15/2021 19:35:26'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:36:38'!
test01CorrectInitialPosition

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (mars isInPosition: 1@3 heading: #North).! !

!methodRemoval: MarsRoverTest #test01 stamp: 'ja 5/15/2021 19:36:38'!
test01

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (mars isInPosition: 1@3 heading: #North).!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:37:32'!
test03MoveForward

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'f'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).! !

!methodRemoval: MarsRoverTest #test03 stamp: 'ja 5/15/2021 19:37:32'!
test03

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'f'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:37:49'!
test04MoveBackward

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'f'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:38:04' prior: 50879526!
test04MoveBackward

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'b'. 
	
	self assert: (mars isInPosition: 1@2 heading: #North).! !

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 19:40:15'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:42:09' prior: 50879476!
process: commands
	
	commands = 'f' ifTrue: [ position _ position + (0@1) ].
	commands = 'b' ifTrue: [ position _ position - (0@1) ]
	
	

	! !

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 19:42:15'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 19:42:15'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 19:42:15'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 19:42:15'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 19:42:15'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:43:24'!
test05TurnRight

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'r'. 
	
	self assert: (mars isInPosition: 1@3 heading: #East).! !

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 19:43:26'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:44:28' prior: 50879546!
process: commands
	
	commands = 'f' ifTrue: [ position _ position + (0@1) ].
	commands = 'b' ifTrue: [ position _ position - (0@1) ].
	commands = 'r' ifTrue: [ head _ #East]
	
	

	! !

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 19:44:35'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 19:44:35'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 19:44:35'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 19:44:35'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 19:44:35'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 19:44:35'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:44:58'!
test05TurnLeft

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'l'. 
	
	self assert: (mars isInPosition: 1@3 heading: #West).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:45:12'!
test06TurnLeft

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'l'. 
	
	self assert: (mars isInPosition: 1@3 heading: #West).! !

!methodRemoval: MarsRoverTest #test05TurnLeft stamp: 'ja 5/15/2021 19:45:12'!
test05TurnLeft

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'l'. 
	
	self assert: (mars isInPosition: 1@3 heading: #West).!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 19:45:16'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:45:57' prior: 50879578!
process: commands
	
	commands = 'f' ifTrue: [ position _ position + (0@1) ].
	commands = 'b' ifTrue: [ position _ position - (0@1) ].
	commands = 'r' ifTrue: [ head _ #East].
	commands = 'l' ifTrue: [ head _ #West]
	
	

	! !

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 19:46:00'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 19:46:00'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 19:46:00'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 19:46:00'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 19:46:00'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 19:46:00'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 19:46:00'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:58:48'!
test07IncorrectCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	
	self should: [mars process: 'a'. ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 19:59:34' prior: 50879657!
test07IncorrectCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [mars process: 'a'. ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].! !

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 19:59:35'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:00:50' prior: 50879670!
test07IncorrectCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [mars process: 'a'. ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].! !

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:00:51'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:01:18' prior: 50879686!
test07IncorrectCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [mars process: 'a'. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].! !

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:01:20'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:01:28' prior: 50879702!
test07IncorrectCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [mars process: 'a'. ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:01:40' prior: 50879719!
test07IncorrectCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [mars process: 'a' ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].! !

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:02:18'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:02:47' prior: 50879732!
test07IncorrectCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [ mars process: 'a' ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].! !

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:02:48'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:06:31' prior: 50879629!
process: commands
	
	commands = 'f' ifTrue: [ ^ position _ position + (0@1) ].
	commands = 'b' ifTrue: [ ^ position _ position - (0@1) ].
	commands = 'r' ifTrue: [ ^ head _ #East ].
	commands = 'l' ifTrue: [ ^ head _ #West ].
	
	self error: self invalidCommandErrorDescription.
	

	! !

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:08:02'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:08:02'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:08:02'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:08:02'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:08:02'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:08:02'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:08:02'!
PASSED!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:08:02'!
ERROR!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:08:02'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:08:11'!
invalidCommandErrorDescription
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:08:38' prior: 50879800!
invalidCommandErrorDescription
	
	^ 'Invalid command'! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:08:41' prior: 50879805!
invalidCommandErrorDescription
	
	^ 'Invalid command.'! !

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:08:43'!
FAILURE!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:09:20'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:09:20'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:09:20'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:09:20'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:09:20'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:09:20'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:09:20'!
PASSED!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:09:20'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:12:20'!
test08ProcessCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	mars process: 'flbrbr'.
	
	self assert: (mars isInPosition: 0@3 heading: #East).! !

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:12:29'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:14:14' prior: 50879764!
process: aCommandsList
	
	aCommandsList do: [:aCommand | self processACommand: aCommand ].
	
	"commands = 'f' ifTrue: [ ^ position _ position + (0@1) ].
	commands = 'b' ifTrue: [ ^ position _ position - (0@1) ].
	commands = 'r' ifTrue: [ ^ head _ #East ].
	commands = 'l' ifTrue: [ ^ head _ #West ]."
	
	self error: self invalidCommandErrorDescription.
	

	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:14:29' prior: 50879851!
process: aCommandsList
	
	aCommandsList do: [:aCommand | self processACommand: aCommand ].
	

	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:14:45' prior: 50879866!
process: aCommandsList
	
	aCommandsList do: [:aCommand | self processACommand: aCommand ].
	
	
	

	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:14:49' prior: 50879872!
process: aCommandsList
	
	aCommandsList do: [:aCommand | self processACommand: aCommand ].
	
	"commands = 'f' ifTrue: [ ^ position _ position + (0@1) ].
	commands = 'b' ifTrue: [ ^ position _ position - (0@1) ].
	commands = 'r' ifTrue: [ ^ head _ #East ].
	commands = 'l' ifTrue: [ ^ head _ #West ]."
	
	self error: self invalidCommandErrorDescription.
	

	! !

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:15:09'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:16:22'!
processACommand: aCommand

	aCommand = 'f' ifTrue: [ ^ position _ position + (0@1) ].
	aCommand = 'b' ifTrue: [ ^ position _ position - (0@1) ].
	aCommand = 'r' ifTrue: [ ^ head _ #East ].
	aCommand = 'l' ifTrue: [ ^ head _ #West ].
	
	self error: self invalidCommandErrorDescription.
	

	! !

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:16:40'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:16:40'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:16:40'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:16:40'!
ERROR!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:16:40'!
ERROR!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:16:40'!
ERROR!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:16:40'!
ERROR!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:16:40'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:16:40'!
ERROR!

Object subclass: #MarsRoverHead
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #MarsRoverHead category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 20:17:38'!
Object subclass: #MarsRoverHead
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classRenamed: #MarsRoverHead as: #MarsRoverHeading stamp: 'ja 5/15/2021 20:20:01'!
Smalltalk renameClassNamed: #MarsRoverHead as: #MarsRoverHeading!

MarsRoverHeading subclass: #North
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #North category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 20:20:10'!
MarsRoverHeading subclass: #North
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

MarsRoverHeading subclass: #West
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #West category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 20:20:14'!
MarsRoverHeading subclass: #West
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

MarsRoverHeading subclass: #East
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #East category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 20:20:17'!
MarsRoverHeading subclass: #East
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

MarsRoverHeading subclass: #South
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #South category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 20:20:20'!
MarsRoverHeading subclass: #South
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!
!MarsRover class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:22:42' prior: 50879307!
inPosition: aPosition heading: aCardinalPoint 
	
	^ self new initializeInPosition: aPosition heading: aCardinalPoint! !
!MarsRover methodsFor: 'initialization' stamp: 'ja 5/15/2021 20:23:53' prior: 50879339!
initializeInPosition: aPosition heading: aCardinalPoint 
	
	position _ aPosition.
	head _ MarsRoverHeading for: aCardinalPoint.! !
!MarsRoverHeading class methodsFor: 'no messages' stamp: 'ja 5/15/2021 20:24:49'!
for: aCardinalPoint

	aCardinalPoint = #North ifTrue: [ ^ North new]! !
!MarsRoverHeading class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:25:59' prior: 50880009!
for: aCardinalPoint

	aCardinalPoint = #East ifTrue: [ ^ East new].
	aCardinalPoint = #North ifTrue: [ ^ North new].
	aCardinalPoint = #South ifTrue: [ ^ South new].
	aCardinalPoint = #West ifTrue: [ ^ West new].! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:28:37' prior: 50879896!
processACommand: aCommand

	aCommand = 'f' ifTrue: [ ^ position _ position + (0@1) ].
	aCommand = 'b' ifTrue: [ ^ position _ position - (0@1) ].
	aCommand = 'r' ifTrue: [ ^ head _ head turnRight ].
	aCommand = 'l' ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !
!MarsRoverHeading methodsFor: 'no messages' stamp: 'ja 5/15/2021 20:29:05'!
turnRight

	self subclassResponsibility ! !
!East methodsFor: 'no messages' stamp: 'ja 5/15/2021 20:29:42' overrides: 50880038!
turnRight

	^ South new.! !
!North methodsFor: 'nil' stamp: 'ja 5/15/2021 20:29:57' overrides: 50880038!
turnRight

	^ East new.! !
!South methodsFor: 'no messages' stamp: 'ja 5/15/2021 20:30:15' overrides: 50880038!
turnRight

	^ West new.! !
!West methodsFor: 'nil' stamp: 'ja 5/15/2021 20:30:27' overrides: 50880038!
turnRight

	^ North new.! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:30:42'!
turnLeft

	^ South new.! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:30:55'!
turnLeft

	^ East new.! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:31:07'!
turnLeft

	^ West new.! !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:31:22'!
turnLeft

	^ North new.! !
!MarsRoverHeading methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:31:37'!
turnLeft

	self subclassResponsibility ! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:33:51' prior: 50880025!
processACommand: aCommand

	aCommand = 'f' ifTrue: [ ^ position _ position + head moveForward ].
	aCommand = 'b' ifTrue: [ ^ position _ position + head moveBackward ].
	aCommand = 'r' ifTrue: [ ^ head _ head turnRight ].
	aCommand = 'l' ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !
!MarsRoverHeading methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:34:08'!
moveForward

	self subclassResponsibility ! !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:34:30' overrides: 50880093!
moveForward

	^ 1@0.! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:34:44' overrides: 50880093!
moveForward

	^ 0@1! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:35:07' overrides: 50880093!
moveForward

	^ 0@-1! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:35:23' overrides: 50880093!
moveForward

	^ -1@0! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:35:39'!
moveBackward

	^ 1@0! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:35:48'!
moveBackward

	^ 0@1! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:35:55'!
moveBackward

	^ 0@-1! !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:36:04'!
moveBackward

	^ -1@0.! !
!MarsRoverHeading methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:36:11'!
moveBackward

	self subclassResponsibility ! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:38:30' prior: 50879393!
isInPosition: aPoint heading: aCardinalPoint
	
	^ position = aPoint and:[ head isHeading = aCardinalPoint ]! !
!MarsRoverHeading methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:38:48'!
isHeading

	self subclassResponsibility ! !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:39:03' overrides: 50880141!
isHeading

	^ #East.! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:39:13' overrides: 50880141!
isHeading

	^ #East.! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:39:19' prior: 50880150 overrides: 50880141!
isHeading

	^ #North.! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:39:28' overrides: 50880141!
isHeading

	^ #South.! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:39:35' overrides: 50880141!
isHeading

	^ #West.! !

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:39:48'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:39:48'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:39:48'!
ERROR!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:39:48'!
ERROR!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:39:48'!
ERROR!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:39:48'!
ERROR!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:39:48'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:39:48'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:40:20' prior: 50879879!
process: aCommandsList
	
	aCommandsList do: [:aCommand | self processACommand: aCommand ].
	
	"commands = 'f' ifTrue: [ ^ position _ position + (0@1) ].
	commands = 'b' ifTrue: [ ^ position _ position - (0@1) ].
	commands = 'r' ifTrue: [ ^ head _ #East ].
	commands = 'l' ifTrue: [ ^ head _ #West ]."
	
	
	

	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:40:25' prior: 50880189!
process: aCommandsList
	
	aCommandsList do: [:aCommand | self processACommand: aCommand ].
	
	
	
	

	! !

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:40:29'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:40:29'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:40:29'!
ERROR!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:40:29'!
ERROR!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:40:29'!
ERROR!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:40:29'!
ERROR!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:40:29'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:40:29'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:41:43' prior: 50880079!
processACommand: aCommand

	aCommand = $f ifTrue: [ ^ position _ position + head moveForward ].
	aCommand = $b ifTrue: [ ^ position _ position + head moveBackward ].
	aCommand = $r ifTrue: [ ^ head _ head turnRight ].
	aCommand = $l ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:41:45'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:41:47'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:41:47'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:41:47'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:41:47'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:41:47'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:41:47'!
PASSED!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:41:47'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:41:47'!
FAILURE!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:41:47'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:43:36' prior: 50879839!
test08ProcessCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	"mars process: 'flbrbr'."
	mars process: 'flb'.
	
	self assert: (mars isInPosition: 0@3 heading: #East).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:44:00' prior: 50880271!
test08ProcessCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	"mars process: 'flbrbr'."
	mars process: 'flb'.
	
	"self assert: (mars isInPosition: 0@3 heading: #East)."
	self assert: (mars isInPosition: 0@4 heading: #West).! !

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:44:02'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:45:34' prior: 50880281!
test08ProcessCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	"mars process: 'flbrbr'."
	mars process: 'flb'.
	
	"self assert: (mars isInPosition: 0@3 heading: #East)."
	self assert: (mars isInPosition: 2@4 heading: #West).! !

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:45:35'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:45:35'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:45:35'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:45:35'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:45:35'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:45:35'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:45:35'!
PASSED!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:45:35'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:45:35'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:46:21' prior: 50880296!
test08ProcessCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	mars process: 'flbrbr'.
	"mars process: 'flb'."
	
	"self assert: (mars isInPosition: 0@3 heading: #East)."
	self assert: (mars isInPosition: 2@3 heading: #West).! !

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:46:23'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:46:29' prior: 50880332!
test08ProcessCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	mars process: 'flbrbr'.
	"mars process: 'flb'."
	
	"self assert: (mars isInPosition: 0@3 heading: #East)."
	self assert: (mars isInPosition: 2@3 heading: #East).! !

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:46:31'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:46:31'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:46:31'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:46:31'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:46:31'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:46:31'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:46:31'!
PASSED!

!testRun: #MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:46:31'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:46:31'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:46:36' prior: 50880347!
test08ProcessCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	mars process: 'flbrbr'.
	
	self assert: (mars isInPosition: 2@3 heading: #East).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:47:12'!
test09ProcessIncorrectCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	mars process: 'flbrbxr'.
	
	self assert: (mars isInPosition: 2@3 heading: #North).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:47:22' prior: 50880392!
test09ProcessIncorrectCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	mars process: 'flbrbxr'.
	
	
	
	self assert: (mars isInPosition: 2@3 heading: #North).! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:47:52' prior: 50880401!
test09ProcessIncorrectCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.

	self should: [ 	mars process: 'flbrbxr'. ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 2@3 heading: #North)].
	! !

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/15/2021 20:48:11'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:51:38'!
test10IncorrectCardinalPoint

	self should: [ MarsRover inPosition: 1@3 heading: #A] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: MarsRover invalidCardinalPointErrorDescription].
	! !

!testRun: #MarsRoverTest #test10IncorrectCardinalPoint stamp: 'ja 5/15/2021 20:51:45'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:52:04'!
test10InvalidCardinalPoint

	self should: [ MarsRover inPosition: 1@3 heading: #A] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: MarsRover invalidCardinalPointErrorDescription].
	! !

!methodRemoval: MarsRoverTest #test10IncorrectCardinalPoint stamp: 'ja 5/15/2021 20:52:07'!
test10IncorrectCardinalPoint

	self should: [ MarsRover inPosition: 1@3 heading: #A] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: MarsRover invalidCardinalPointErrorDescription].
	!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:52:19'!
test07InvalidCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [ mars process: 'a' ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].! !

!methodRemoval: MarsRoverTest #test07IncorrectCommand stamp: 'ja 5/15/2021 20:52:19'!
test07IncorrectCommand

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [ mars process: 'a' ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: mars invalidCommandErrorDescription.
			self assert: (mars isInPosition: 1@3 heading: #North)].!
!MarsRoverHeading class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:52:46' prior: 50880015!
for: aCardinalPoint

	aCardinalPoint = #East ifTrue: [ ^ East new].
	aCardinalPoint = #North ifTrue: [ ^ North new].
	aCardinalPoint = #South ifTrue: [ ^ South new].
	aCardinalPoint = #West ifTrue: [ ^ West new].
	
	MarsRover invalidCardinalPointErrorDescription.! !
!MarsRoverHeading class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:52:53' prior: 50880487!
for: aCardinalPoint

	aCardinalPoint = #East ifTrue: [ ^ East new].
	aCardinalPoint = #North ifTrue: [ ^ North new].
	aCardinalPoint = #South ifTrue: [ ^ South new].
	aCardinalPoint = #West ifTrue: [ ^ West new].
	
	self error: MarsRover invalidCardinalPointErrorDescription.! !

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/15/2021 20:53:16'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/15/2021 20:53:16'!
ERROR!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/15/2021 20:53:16'!
ERROR!
!MarsRover class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:53:27'!
invalidCardinalPointErrorDescription
	self shouldBeImplemented.! !
!MarsRover class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:53:49' prior: 50880541!
invalidCardinalPointErrorDescription
	
	^ 'Invalid cardinal point.'! !

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/15/2021 20:53:53'!
FAILURE!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/15/2021 20:53:58'!
PASSED!

Object subclass: #MarsRoverHeading
	instanceVariableNames: 'marsRover'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #MarsRoverHeading category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 20:57:04'!
Object subclass: #MarsRoverHeading
	instanceVariableNames: 'marsRover'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!
!MarsRoverHeading class methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:58:36' prior: 50880499!
for: aCardinalPoint

	aCardinalPoint = #East ifTrue: [ ^ East new].
	aCardinalPoint = #North ifTrue: [ ^ North new].
	aCardinalPoint = #South ifTrue: [ ^ South new].
	aCardinalPoint = #West ifTrue: [ ^ West new].
	
	self error: MarsRover invalidCardinalPointErrorDescription.! !

Object subclass: #MarsRoverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classDefinition: #MarsRoverHeading category: 'MarsRover-Exercise' stamp: 'ja 5/15/2021 20:58:43'!
Object subclass: #MarsRoverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 20:59:09' prior: 50880230!
processACommand: aCommand

	aCommand = $f ifTrue: [ ^ position _ position + head moveForwardFor: self ].
	aCommand = $b ifTrue: [ ^ position _ position + head moveBackwardFor: self ].
	aCommand = $r ifTrue: [ ^ head _ head turnRight ].
	aCommand = $l ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:08'!
moveForward: aMarsRover

	^ 1@0.! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:08'!
moveForward: aMarsRover

	^ 0@-1! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:08'!
moveForward: aMarsRover

	^ 0@1! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:08'!
moveForward: aMarsRover

	^ -1@0! !
!MarsRoverHeading methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:08'!
moveForward: aMarsRover

	self subclassResponsibility ! !

!methodRemoval: East #moveForward stamp: 'ja 5/15/2021 21:00:09'!
moveForward

	^ 1@0.!

!methodRemoval: South #moveForward stamp: 'ja 5/15/2021 21:00:09'!
moveForward

	^ 0@-1!

!methodRemoval: North #moveForward stamp: 'ja 5/15/2021 21:00:09'!
moveForward

	^ 0@1!

!methodRemoval: West #moveForward stamp: 'ja 5/15/2021 21:00:09'!
moveForward

	^ -1@0!

!methodRemoval: MarsRoverHeading #moveForward stamp: 'ja 5/15/2021 21:00:09'!
moveForward

	self subclassResponsibility !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:32'!
moveForwardFor: aMarsRover

	^ 0@-1! !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:32'!
moveForwardFor: aMarsRover

	^ 1@0.! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:32'!
moveForwardFor: aMarsRover

	^ 0@1! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:32'!
moveForwardFor: aMarsRover

	^ -1@0! !
!MarsRoverHeading methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:00:32'!
moveForwardFor: aMarsRover

	self subclassResponsibility ! !

!methodRemoval: South #moveForward: stamp: 'ja 5/15/2021 21:00:32'!
moveForward: aMarsRover

	^ 0@-1!

!methodRemoval: East #moveForward: stamp: 'ja 5/15/2021 21:00:32'!
moveForward: aMarsRover

	^ 1@0.!

!methodRemoval: North #moveForward: stamp: 'ja 5/15/2021 21:00:32'!
moveForward: aMarsRover

	^ 0@1!

!methodRemoval: West #moveForward: stamp: 'ja 5/15/2021 21:00:32'!
moveForward: aMarsRover

	^ -1@0!

!methodRemoval: MarsRoverHeading #moveForward: stamp: 'ja 5/15/2021 21:00:32'!
moveForward: aMarsRover

	self subclassResponsibility !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:01:04' prior: 50880674 overrides: 50880686!
moveForwardFor: aMarsRover

	^ aMarsRover moveForwardEast.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:01:46'!
moveForwardEast

	^ 1@0
	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:02:05'!
moveForwardNorth

	^ 0@1
	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:02:16'!
moveForwardSouth

	^ 0@-1
	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:02:30'!
moveForwardWest

	^ -1@0! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:02:46'!
moveBackwardWest

	^ 1@0! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:03:00'!
moveBackwardEast

	^ -1@0! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:03:09'!
moveBackwardNorth

	^ 0@-1! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:03:17'!
moveBackwardSouth

	^ 0@1! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:03:49' prior: 50880678 overrides: 50880686!
moveForwardFor: aMarsRover

	^ aMarsRover moveForwardNorth! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:08' prior: 50880670 overrides: 50880686!
moveForwardFor: aMarsRover

	^ aMarsRover moveForwardSouth ! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:16' prior: 50880682 overrides: 50880686!
moveForwardFor: aMarsRover

	^ aMarsRover moveForwardWest ! !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:40'!
moveBackward: aMarsRover

	^ -1@0.! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:40'!
moveBackward: aMarsRover

	^ 1@0! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:40'!
moveBackward: aMarsRover

	^ 0@1! !
!MarsRoverHeading methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:40'!
moveBackward: aMarsRover

	self subclassResponsibility ! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:40' overrides: 50880776!
moveBackward: aMarsRover

	^ 0@-1! !

!methodRemoval: East #moveBackward stamp: 'ja 5/15/2021 21:04:40'!
moveBackward

	^ -1@0.!

!methodRemoval: West #moveBackward stamp: 'ja 5/15/2021 21:04:40'!
moveBackward

	^ 1@0!

!methodRemoval: South #moveBackward stamp: 'ja 5/15/2021 21:04:40'!
moveBackward

	^ 0@1!

!methodRemoval: MarsRoverHeading #moveBackward stamp: 'ja 5/15/2021 21:04:40'!
moveBackward

	self subclassResponsibility !

!methodRemoval: North #moveBackward stamp: 'ja 5/15/2021 21:04:40'!
moveBackward

	^ 0@-1!
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:55'!
moveBackwardFor: aMarsRover

	^ 1@0! !
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:55'!
moveBackwardFor: aMarsRover

	^ -1@0.! !
!MarsRoverHeading methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:55'!
moveBackwardFor: aMarsRover

	self subclassResponsibility ! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:55' overrides: 50880808!
moveBackwardFor: aMarsRover

	^ 0@1! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:04:55' overrides: 50880808!
moveBackwardFor: aMarsRover

	^ 0@-1! !

!methodRemoval: West #moveBackward: stamp: 'ja 5/15/2021 21:04:55'!
moveBackward: aMarsRover

	^ 1@0!

!methodRemoval: East #moveBackward: stamp: 'ja 5/15/2021 21:04:55'!
moveBackward: aMarsRover

	^ -1@0.!

!methodRemoval: MarsRoverHeading #moveBackward: stamp: 'ja 5/15/2021 21:04:55'!
moveBackward: aMarsRover

	self subclassResponsibility !

!methodRemoval: South #moveBackward: stamp: 'ja 5/15/2021 21:04:55'!
moveBackward: aMarsRover

	^ 0@1!

!methodRemoval: North #moveBackward: stamp: 'ja 5/15/2021 21:04:55'!
moveBackward: aMarsRover

	^ 0@-1!
!East methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:05:13' prior: 50880804 overrides: 50880808!
moveBackwardFor: aMarsRover

	^ aMarsRover moveBackwardEast ! !
!North methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:05:30' prior: 50880818 overrides: 50880808!
moveBackwardFor: aMarsRover

	^ aMarsRover moveBackwardNorth ! !
!South methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:05:38' prior: 50880813 overrides: 50880808!
moveBackwardFor: aMarsRover

	^ aMarsRover moveBackwardSouth ! !
!West methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:05:47' prior: 50880800 overrides: 50880808!
moveBackwardFor: aMarsRover

	^ aMarsRover moveBackwardWest ! !

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 21:05:50'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 21:05:50'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 21:05:50'!
ERROR!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 21:05:50'!
ERROR!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 21:05:50'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 21:05:50'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/15/2021 21:05:50'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 21:05:50'!
ERROR!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/15/2021 21:05:50'!
FAILURE!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/15/2021 21:05:50'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 21:06:21'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 21:06:21'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 21:06:21'!
ERROR!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 21:06:21'!
ERROR!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 21:06:21'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 21:06:21'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/15/2021 21:06:21'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 21:06:21'!
ERROR!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/15/2021 21:06:21'!
FAILURE!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/15/2021 21:06:21'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 21:07:16'!
ERROR!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 21:07:31'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:08:04' prior: 50880620!
processACommand: aCommand

	aCommand = $f ifTrue: [ ^ position _ position + (head moveForwardFor: self) ].
	aCommand = $b ifTrue: [ ^ position _ position + head moveBackwardFor: self ].
	aCommand = $r ifTrue: [ ^ head _ head turnRight ].
	aCommand = $l ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 21:08:08'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 21:08:08'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 21:08:08'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 21:08:08'!
ERROR!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 21:08:08'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 21:08:08'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/15/2021 21:08:08'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 21:08:08'!
ERROR!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/15/2021 21:08:08'!
FAILURE!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/15/2021 21:08:08'!
PASSED!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 5/15/2021 21:08:22' prior: 50880924!
processACommand: aCommand

	aCommand = $f ifTrue: [ ^ position _ position + (head moveForwardFor: self) ].
	aCommand = $b ifTrue: [ ^ position _ position + (head moveBackwardFor: self) ].
	aCommand = $r ifTrue: [ ^ head _ head turnRight ].
	aCommand = $l ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/15/2021 21:08:25'!
PASSED!

----QUIT----(15 May 2021 21:59:37) CuisUniversity-4532.image priorSource: 17522690!

----STARTUP---- (16 May 2021 18:39:57) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/16/2021 18:48:16'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 18:55:01'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/16/2021 18:55:01'!
PASSED!
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 19:07:47'!
moveForward

	^ position _ position + (head moveForwardFor: self)! !
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 19:07:47' prior: 50880966!
processACommand: aCommand

	aCommand = $f ifTrue: [ ^ self moveForward ].
	aCommand = $b ifTrue: [ ^ position _ position + (head moveBackwardFor: self) ].
	aCommand = $r ifTrue: [ ^ head _ head turnRight ].
	aCommand = $l ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 19:08:00'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/16/2021 19:08:00'!
PASSED!
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 19:08:32'!
moveBackward

	^ position _ position + (head moveBackwardFor: self)! !
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 19:08:32' prior: 50881073!
processACommand: aCommand

	aCommand = $f ifTrue: [ ^ self moveForward ].
	aCommand = $b ifTrue: [ ^ self moveBackward ].
	aCommand = $r ifTrue: [ ^ head _ head turnRight ].
	aCommand = $l ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 19:09:01'!
turnRight

	^ head _ head turnRight! !
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 19:09:01' prior: 50881118!
processACommand: aCommand

	aCommand = $f ifTrue: [ ^ self moveForward ].
	aCommand = $b ifTrue: [ ^ self moveBackward ].
	aCommand = $r ifTrue: [ ^ self turnRight ].
	aCommand = $l ifTrue: [ ^ head _ head turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 19:09:10'!
turnLeft

	^ head _ head turnLeft! !
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 19:09:10' prior: 50881134!
processACommand: aCommand

	aCommand = $f ifTrue: [ ^ self moveForward ].
	aCommand = $b ifTrue: [ ^ self moveBackward ].
	aCommand = $r ifTrue: [ ^ self turnRight ].
	aCommand = $l ifTrue: [ ^ self turnLeft ].
	
	self error: self invalidCommandErrorDescription.
	

	! !

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/16/2021 19:17:07'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/16/2021 19:19:29'!
PASSED!

!testRun: #MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test03MoveForward stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test04MoveBackward stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test05TurnRight stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test06TurnLeft stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 19:19:56'!
PASSED!

!testRun: #MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/16/2021 19:19:56'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 5/16/2021 19:22:08' prior: 50879497!
test01CorrectInitialPosition

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:33:56'!
test01MarsRoverStartCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).! !

!methodRemoval: MarsRoverTest #test01CorrectInitialPosition stamp: 'ja 5/16/2021 19:33:56'!
test01CorrectInitialPosition

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:43:52'!
test02MarsRoverDoesNotStartHeadingToAnInvalidCardinalPoint

	self should: [ MarsRover inPosition: 1@3 heading: #A] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: MarsRover invalidCardinalPointErrorDescription].
	! !

!methodRemoval: MarsRoverTest #test10InvalidCardinalPoint stamp: 'ja 5/16/2021 19:43:52'!
test10InvalidCardinalPoint

	self should: [ MarsRover inPosition: 1@3 heading: #A] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: MarsRover invalidCardinalPointErrorDescription].
	!

!methodRemoval: MarsRoverTest #test02 stamp: 'ja 5/16/2021 19:44:31'!
test02

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	self deny: (mars isInPosition: 1@3 heading: #South).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:45:41'!
test10

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'ffff'. 
	
	self assert: (mars isInPosition: 1@7 heading: #North).! !

!testRun: #MarsRoverTest #test10 stamp: 'ja 5/16/2021 19:45:45'!
PASSED!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:48:53'!
test03MoveForwardCorrectly

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'f'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).! !

!methodRemoval: MarsRoverTest #test03MoveForward stamp: 'ja 5/16/2021 19:48:53'!
test03MoveForward

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'f'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:49:15'!
test03MarsRoverMoveForwardCorrectly

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'f'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).! !

!methodRemoval: MarsRoverTest #test03MoveForwardCorrectly stamp: 'ja 5/16/2021 19:49:15'!
test03MoveForwardCorrectly

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'f'. 
	
	self assert: (mars isInPosition: 1@4 heading: #North).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:49:36'!
test04MarsRoverMoveBackwardCorrectly

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'b'. 
	
	self assert: (mars isInPosition: 1@2 heading: #North).! !

!methodRemoval: MarsRoverTest #test04MoveBackward stamp: 'ja 5/16/2021 19:49:36'!
test04MoveBackward

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'b'. 
	
	self assert: (mars isInPosition: 1@2 heading: #North).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:50:04'!
test05MarsRoverTurnRightCorrectly

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'r'. 
	
	self assert: (mars isInPosition: 1@3 heading: #East).! !

!methodRemoval: MarsRoverTest #test05TurnRight stamp: 'ja 5/16/2021 19:50:04'!
test05TurnRight

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'r'. 
	
	self assert: (mars isInPosition: 1@3 heading: #East).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:50:16'!
test06MarsRoverTurnLeftCorrectly

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'l'. 
	
	self assert: (mars isInPosition: 1@3 heading: #West).! !

!methodRemoval: MarsRoverTest #test06TurnLeft stamp: 'ja 5/16/2021 19:50:16'!
test06TurnLeft

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	mars process: 'l'. 
	
	self assert: (mars isInPosition: 1@3 heading: #West).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:52:23' prior: 50881321!
test03MarsRoverMoveForwardCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	marsRover process: 'f'. 
	
	self assert: (marsRover isInPosition: 1@4 heading: #North).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:52:46' prior: 50881338!
test04MarsRoverMoveBackwardCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	marsRover process: 'b'. 
	
	self assert: (marsRover isInPosition: 1@2 heading: #North).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:53:03' prior: 50881354!
test05MarsRoverTurnRightCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	marsRover process: 'r'. 
	
	self assert: (marsRover isInPosition: 1@3 heading: #East).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:53:14' prior: 50881370!
test06MarsRoverTurnLeftCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	marsRover process: 'l'. 
	
	self assert: (marsRover isInPosition: 1@3 heading: #West).! !

!testRun: #MarsRoverTest #test01MarsRoverStartCorrectly stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test02MarsRoverDoesNotStartHeadingToAnInvalidCardinalPoint stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test03MarsRoverMoveForwardCorrectly stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test04MarsRoverMoveBackwardCorrectly stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test05MarsRoverTurnRightCorrectly stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test06MarsRoverTurnLeftCorrectly stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test07InvalidCommand stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 19:53:24'!
PASSED!

!testRun: #MarsRoverTest #test10 stamp: 'ja 5/16/2021 19:53:24'!
PASSED!
!MarsRover methodsFor: 'processing' stamp: 'ja 5/16/2021 20:00:22' prior: 50880202!
process: aCommandsList
	
	aCommandsList do: [ :aCommand | self processACommand: aCommand ].
	
	
	
	

	! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:05:23' prior: 50880461!
test07InvalidCommand

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [ marsRover process: 'a' ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.
			self assert: (marsRover isInPosition: 1@3 heading: #North)].! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:06:05'!
test07MarsRoverCanNotProcessInvalidCommand

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [ marsRover process: 'a' ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.
			self assert: (marsRover isInPosition: 1@3 heading: #North)].! !

!methodRemoval: MarsRoverTest #test07InvalidCommand stamp: 'ja 5/16/2021 20:06:05'!
test07InvalidCommand

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	self should: [ marsRover process: 'a' ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.
			self assert: (marsRover isInPosition: 1@3 heading: #North)].!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:07:50'!
test08MarsRoverProcessCommandList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	mars process: 'flbrbr'.
	
	self assert: (mars isInPosition: 2@3 heading: #East).! !

!methodRemoval: MarsRoverTest #test08ProcessCommandsList stamp: 'ja 5/16/2021 20:07:50'!
test08ProcessCommandsList

	| mars |
	
	mars _ MarsRover inPosition: 1@3 heading: #North.
	
	mars process: 'flbrbr'.
	
	self assert: (mars isInPosition: 2@3 heading: #East).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:08:29' prior: 50881499!
test08MarsRoverProcessCommandList

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	marsRover process: 'flbrbr'.
	
	self assert: (marsRover isInPosition: 2@3 heading: #East).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:08:42' prior: 50880411!
test09ProcessIncorrectCommandsList

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.

	self should: [ 	marsRover process: 'flbrbxr'. ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.
			self assert: (marsRover isInPosition: 2@3 heading: #North)].
	! !

!testRun: #MarsRoverTest #test01MarsRoverStartCorrectly stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test02MarsRoverDoesNotStartHeadingToAnInvalidCardinalPoint stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test03MarsRoverMoveForwardCorrectly stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test04MarsRoverMoveBackwardCorrectly stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test05MarsRoverTurnRightCorrectly stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test06MarsRoverTurnLeftCorrectly stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test07MarsRoverCanNotProcessInvalidCommand stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test08MarsRoverProcessCommandList stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 20:08:49'!
PASSED!

!testRun: #MarsRoverTest #test10 stamp: 'ja 5/16/2021 20:08:49'!
PASSED!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:09:36'!
test08MarsRoverProcessCommandListCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	marsRover process: 'flbrbr'.
	
	self assert: (marsRover isInPosition: 2@3 heading: #East).! !

!methodRemoval: MarsRoverTest #test08MarsRoverProcessCommandList stamp: 'ja 5/16/2021 20:09:36'!
test08MarsRoverProcessCommandList

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	marsRover process: 'flbrbr'.
	
	self assert: (marsRover isInPosition: 2@3 heading: #East).!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:12:09'!
test09MarsRoverProcessCommandsListCorrectlyBeforeProcessingInvalidCommand

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.

	self should: [ 	marsRover process: 'flbrbxr'. ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.
			self assert: (marsRover isInPosition: 2@3 heading: #North)].
	! !

!methodRemoval: MarsRoverTest #test09ProcessIncorrectCommandsList stamp: 'ja 5/16/2021 20:12:09'!
test09ProcessIncorrectCommandsList

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.

	self should: [ 	marsRover process: 'flbrbxr'. ] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.
			self assert: (marsRover isInPosition: 2@3 heading: #North)].
	!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:15:21' prior: 50881295!
test10

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	marsRover process: 'ffff'. 
	
	self assert: (marsRover isInPosition: 1@7 heading: #North).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:15:37' prior: 50881621!
test10

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	marsRover process: ''. 
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).! !

!testRun: #MarsRoverTest #test10 stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test01MarsRoverStartCorrectly stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test02MarsRoverDoesNotStartHeadingToAnInvalidCardinalPoint stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test03MarsRoverMoveForwardCorrectly stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test04MarsRoverMoveBackwardCorrectly stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test05MarsRoverTurnRightCorrectly stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test06MarsRoverTurnLeftCorrectly stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test07MarsRoverCanNotProcessInvalidCommand stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test08MarsRoverProcessCommandListCorrectly stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test09MarsRoverProcessCommandsListCorrectlyBeforeProcessingInvalidCommand stamp: 'ja 5/16/2021 20:15:39'!
PASSED!

!testRun: #MarsRoverTest #test10 stamp: 'ja 5/16/2021 20:15:39'!
PASSED!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:18:15'!
test10MarsRoverDoesNothingIfItNotReceiveCommands

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	marsRover process: ''. 
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).! !

!methodRemoval: MarsRoverTest #test10 stamp: 'ja 5/16/2021 20:18:15'!
test10

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	marsRover process: ''. 
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).!

!testRun: #MarsRoverTest #test01MarsRoverStartCorrectly stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test02MarsRoverDoesNotStartHeadingToAnInvalidCardinalPoint stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test03MarsRoverMoveForwardCorrectly stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test04MarsRoverMoveBackwardCorrectly stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test05MarsRoverTurnRightCorrectly stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test06MarsRoverTurnLeftCorrectly stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test07MarsRoverCanNotProcessInvalidCommand stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test08MarsRoverProcessCommandListCorrectly stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test09MarsRoverProcessCommandsListCorrectlyBeforeProcessingInvalidCommand stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test10MarsRoverDoesNothingIfItNotReceiveCommands stamp: 'ja 5/16/2021 20:19:35'!
PASSED!

!testRun: #MarsRoverTest #test01MarsRoverStartCorrectly stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test02MarsRoverDoesNotStartHeadingToAnInvalidCardinalPoint stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test03MarsRoverMoveForwardCorrectly stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test04MarsRoverMoveBackwardCorrectly stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test05MarsRoverTurnRightCorrectly stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test06MarsRoverTurnLeftCorrectly stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test07MarsRoverCanNotProcessInvalidCommand stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test08MarsRoverProcessCommandListCorrectly stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test09MarsRoverProcessCommandsListCorrectlyBeforeProcessingInvalidCommand stamp: 'ja 5/16/2021 20:20:39'!
PASSED!

!testRun: #MarsRoverTest #test10MarsRoverDoesNothingIfItNotReceiveCommands stamp: 'ja 5/16/2021 20:20:39'!
PASSED!
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:21:50' prior: 50881386!
test03MarsRoverMoveForwardCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	marsRover process: 'f'. 
	
	self assert: (marsRover isInPosition: 1@4 heading: #North).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:21:54' prior: 50881395!
test04MarsRoverMoveBackwardCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	marsRover process: 'b'. 
	
	self assert: (marsRover isInPosition: 1@2 heading: #North).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:21:58' prior: 50881404!
test05MarsRoverTurnRightCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	marsRover process: 'r'. 
	
	self assert: (marsRover isInPosition: 1@3 heading: #East).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:22:02' prior: 50881413!
test06MarsRoverTurnLeftCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	marsRover process: 'l'. 
	
	self assert: (marsRover isInPosition: 1@3 heading: #West).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 20:22:12' prior: 50881674!
test10MarsRoverDoesNothingIfItNotReceiveCommands

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	marsRover process: ''. 
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).! !

!testRun: #MarsRoverTest #test01MarsRoverStartCorrectly stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test02MarsRoverDoesNotStartHeadingToAnInvalidCardinalPoint stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test03MarsRoverMoveForwardCorrectly stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test04MarsRoverMoveBackwardCorrectly stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test05MarsRoverTurnRightCorrectly stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test06MarsRoverTurnLeftCorrectly stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test07MarsRoverCanNotProcessInvalidCommand stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test08MarsRoverProcessCommandListCorrectly stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test09MarsRoverProcessCommandsListCorrectlyBeforeProcessingInvalidCommand stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

!testRun: #MarsRoverTest #test10MarsRoverDoesNothingIfItNotReceiveCommands stamp: 'ja 5/16/2021 20:22:16'!
PASSED!

----QUIT----(16 May 2021 20:22:26) CuisUniversity-4532.image priorSource: 17579409!

----STARTUP---- (17 May 2021 15:01:05) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #MarsRoverTest #test01MarsRoverStartCorrectly stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test02MarsRoverDoesNotStartHeadingToAnInvalidCardinalPoint stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test03MarsRoverMoveForwardCorrectly stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test04MarsRoverMoveBackwardCorrectly stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test05MarsRoverTurnRightCorrectly stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test06MarsRoverTurnLeftCorrectly stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test07MarsRoverCanNotProcessInvalidCommand stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test08MarsRoverProcessCommandListCorrectly stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test09MarsRoverProcessCommandsListCorrectlyBeforeProcessingInvalidCommand stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

!testRun: #MarsRoverTest #test10MarsRoverDoesNothingIfItNotReceiveCommands stamp: 'ja 5/17/2021 15:01:22'!
PASSED!

----QUIT----(17 May 2021 15:28:52) CuisUniversity-4532.image priorSource: 17606155!

----STARTUP---- (22 May 2021 23:35:47) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/22/2021 23:36:08'!
m2

	^ #North! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/22/2021 23:36:08' prior: 50881252!
test01MarsRoverStartCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: self m2.
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).! !
!MarsRoverTest methodsFor: 'testing' stamp: 'ja 5/16/2021 19:33:56' prior: 50881894!
test01MarsRoverStartCorrectly

	| marsRover |
	
	marsRover _ MarsRover inPosition: 1@3 heading: #North.
	
	self assert: (marsRover isInPosition: 1@3 heading: #North).! !

!methodRemoval: MarsRoverTest #m2 stamp: 'ja 5/22/2021 23:36:42'!
m2

	^ #North!

----QUIT----(22 May 2021 23:39:17) CuisUniversity-4532.image priorSource: 17607458!

----STARTUP---- (26 May 2021 18:39:02) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(26 May 2021 18:44:42) CuisUniversity-4532.image priorSource: 17608379!

----STARTUP---- (28 May 2021 17:29:39) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(28 May 2021 18:19:25) CuisUniversity-4532.image priorSource: 17608574!

----STARTUP---- (31 May 2021 22:28:53) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(31 May 2021 22:31:44) CuisUniversity-4532.image priorSource: 17608769!

----STARTUP---- (3 June 2021 19:59:21) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #West stamp: 'ja 6/3/2021 19:59:52'!
MarsRoverHeading subclass: #West
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classRemoval: #South stamp: 'ja 6/3/2021 19:59:53'!
MarsRoverHeading subclass: #South
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classRemoval: #North stamp: 'ja 6/3/2021 19:59:54'!
MarsRoverHeading subclass: #North
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classRemoval: #East stamp: 'ja 6/3/2021 19:59:54'!
MarsRoverHeading subclass: #East
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classRemoval: #MarsRoverHeading stamp: 'ja 6/3/2021 19:59:55'!
Object subclass: #MarsRoverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classRemoval: #MarsRover stamp: 'ja 6/3/2021 19:59:56'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

!classRemoval: #MarsRoverTest stamp: 'ja 6/3/2021 19:59:57'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-Exercise'!

----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/19-MarsRover-El regreso/MarsRover-WithHeading.st----!

TestCase subclass: #TestZZZ
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #TestZZZ category: 'MarsRover-WithHeading' stamp: 'ja 6/3/2021 20:02:03'!
TestCase subclass: #TestZZZ
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #Log category: 'MarsRover-WithHeading' stamp: 'ja 6/3/2021 20:19:06'!
Object subclass: #Log
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!TestZZZ methodsFor: 'no messages' stamp: 'ja 6/3/2021 20:18:57'!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log  new.
	
	marsRover addLogToPositoin: log.   
	
	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:23:11' prior: 50882534!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	
	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:23:31' prior: 50882545!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
       marsRover addLogToHeading: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:25:55' prior: 50882556!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
       marsRover addLogToHeading: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:44:04' prior: 50882568!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.
	
	! !

!testRun: #TestZZZ #test01 stamp: 'ja 6/3/2021 20:44:04'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:44:13'!
addLogToPositoin: aLog 
	self shouldBeImplemented.! !

!classDefinition: #MarsRover category: 'MarsRover-WithHeading' stamp: 'ja 6/3/2021 20:44:45'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head log'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:44:42' prior: 50882592!
addLogToPositoin: aLog 
	
	log _ aLog.! !
!Log methodsFor: 'no messages' stamp: 'ja 6/3/2021 20:45:06' overrides: 16880927!
size

	^ 1! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:45:18'!
first

	^ '1@2'! !

!testRun: #TestZZZ #test01 stamp: 'ja 6/3/2021 20:45:29'!
PASSED!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:46:04' prior: 50882580!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.
	
	! !

!testRun: #TestZZZ #test01 stamp: 'ja 6/3/2021 20:46:05'!
PASSED!

!testRun: #TestZZZ #test01 stamp: 'ja 6/3/2021 20:46:05'!
PASSED!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:46:17' prior: 50882618!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:46:36' prior: 50882633!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@3' equals: log second.	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:47:09'!
test02

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@3' equals: log second.	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:44:04' prior: 50882644!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.
	
	! !

!testRun: #TestZZZ #test01 stamp: 'ja 6/3/2021 20:47:21'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/3/2021 20:47:24'!
FAILURE!

!testRun: #TestZZZ #test02 stamp: 'ja 6/3/2021 20:47:24'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:48:05' prior: 50882605!
addLogToPositoin: aLog 
	
	log _ aLog.! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/3/2021 20:51:01' prior: 50882219!
processCommand: aCommand

	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].
	
	self signalInvalidCommand.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 20:52:30' prior: 50882201!
moveNorth
	
	position := position + (0@1).
	
	log add: position.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 20:53:04' prior: 50882703!
moveNorth
	
	position := position + (0@1).
	
	log ttt: position.! !

!classDefinition: #Log category: 'MarsRover-WithHeading' stamp: 'ja 6/3/2021 20:54:57'!
Object subclass: #Log
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:54:55'!
ttt: aPosition

	records add: aPosition.! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:55:14' overrides: 16896425!
initialize

	records _ OrderedCollection new.! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:55:27' prior: 50882609 overrides: 16880927!
size

	^ records size ! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:55:43' prior: 50882612!
first

	^ records first asString ! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:57:09'!
second

	^ records at: 2 ! !

!testRun: #TestZZZ #test02 stamp: 'ja 6/3/2021 20:57:36'!
FAILURE!

!testRun: #TestZZZ #test02 stamp: 'ja 6/3/2021 20:57:36'!
FAILURE!
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:57:59' prior: 50882738!
second

	^ records at: 2 ! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:58:03' prior: 50882734!
first

	^ records first ! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 20:58:15' prior: 50882708!
moveNorth
	
	position := position + (0@1).
	
	log ttt: position.! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:58:22' prior: 50882720!
ttt: aPosition

	records add: aPosition asString .! !

!testRun: #TestZZZ #test02 stamp: 'ja 6/3/2021 20:58:28'!
PASSED!

!testRun: #TestZZZ #test01 stamp: 'ja 6/3/2021 20:58:31'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/3/2021 20:58:34'!
PASSED!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:59:36' prior: 50882656!
test02

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'b'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@3' equals: log second.	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 20:59:41' prior: 50882770!
test02

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@3' equals: log second.	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 21:01:20'!
test03

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@3' equals: log second.	
	! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:01:59' prior: 50882205!
moveSouth
	
	position := position + (0@-1)
	
	log ttt: position.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:02:03' prior: 50882209!
moveWest
	
	position := position + (-1@0)
	
	log ttt: position.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:02:07' prior: 50882193!
moveEast
	
	position := position + (1@0)
	
	log ttt: position.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:02:20' prior: 50882816!
moveEast
	
	position := position + (1@0).
	self halt.
	log ttt: position.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:02:25' prior: 50882811!
moveWest
	
	position := position + (-1@0)
	self halt.
	log ttt: position.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:02:27' prior: 50882826!
moveWest
	
	position := position + (-1@0).
	self halt.
	log ttt: position.! !

!testRun: #TestZZZ #test03 stamp: 'ja 6/3/2021 21:02:34'!
ERROR!

!testRun: #TestZZZ #test03 stamp: 'ja 6/3/2021 21:02:34'!
ERROR!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:02:51' prior: 50882806!
moveSouth
	
	position := position + (0@-1).
	
	log ttt: position.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:03:04' prior: 50882831!
moveWest
	
	position := position + (-1@0).
	
	log ttt: position.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/3/2021 21:03:18' prior: 50882821!
moveEast
	
	position := position + (1@0).
	
	log ttt: position.! !

!testRun: #TestZZZ #test03 stamp: 'ja 6/3/2021 21:03:25'!
FAILURE!

!testRun: #TestZZZ #test03 stamp: 'ja 6/3/2021 21:03:25'!
FAILURE!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 21:03:58' prior: 50882794!
test03

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@3' equals: log second.	
	self assert: '1@3' equals: log third.	
	self assert: '1@3' equals: log second.		
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 21:04:34' prior: 50882861!
test03

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@1' equals: log second.	
	self assert: '2@1' equals: log third.	
	self assert: '1@1' equals: log fourth.		
	
	! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 21:04:48'!
third

	^ records at: 3 ! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/3/2021 21:04:54'!
fourth

	^ records at: 4! !

!testRun: #TestZZZ #test03 stamp: 'ja 6/3/2021 21:04:57'!
PASSED!

----QUIT----(3 June 2021 21:14:09) CuisUniversity-4532.image priorSource: 17608964!

----STARTUP---- (5 June 2021 15:25:31) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #TestZZZ #test01 stamp: 'ja 6/5/2021 15:42:16'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/5/2021 15:42:18'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 15:42:19'!
PASSED!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 15:46:56'!
test04

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: 'North' equals: log first.
	
	! !

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 15:47:05'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 15:47:17'!
addLogToHeading: aLog 
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 15:47:29' prior: 50882925!
addLogToHeading: aLog 
	
	log add: aLog ! !

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 15:47:31'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 15:48:08' prior: 50882930!
addLogToHeading: aLog 
	
	log _ aLog ! !

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 15:48:21'!
FAILURE!

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 15:48:21'!
FAILURE!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 15:48:41' prior: 50882912!
test04

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'North' equals: log first.
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 15:48:47' prior: 50882946!
test04

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log first.
	
	! !

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 15:48:48'!
FAILURE!
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:49:45' prior: 50882143!
headEast
	
	head := MarsRoverHeadingEast new.
	
	log zzz: head.! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:49:53' prior: 50882147!
headNorth
	
	head := MarsRoverHeadingNorth new.
	
		log zzz: head.! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:49:59' prior: 50882151!
headSouth
	
	head := MarsRoverHeadingSouth new.
	
		log zzz: head.! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:50:04' prior: 50882980!
headSouth
	
	head := MarsRoverHeadingSouth new.
	
	log zzz: head.! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:50:12' prior: 50882155!
headWest
	
	head := MarsRoverHeadingWest new.
	
	log zzz: head.	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:50:31' prior: 50882990!
headWest
	
	head := MarsRoverHeadingWest new.
	
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:50:36' prior: 50882985!
headSouth
	
	head := MarsRoverHeadingSouth new.
	
	! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 15:51:20'!
zzz: aHeading

	records add: aHeading asString .! !

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 15:51:37'!
FAILURE!
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:52:14' prior: 50882970!
headEast
	
	head := MarsRoverHeadingEast new.
	
	log zzz: 'East'.! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 15:52:27' prior: 50882975!
headNorth
	
	head := MarsRoverHeadingNorth new.
	
	log zzz: 'North'.! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 15:52:39' prior: 50883004!
zzz: aHeading

	records add: aHeading .! !

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 15:52:42'!
PASSED!

!testRun: #TestZZZ #test01 stamp: 'ja 6/5/2021 15:52:42'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/5/2021 15:52:42'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 15:52:42'!
FAILURE!

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 15:52:42'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 15:52:42'!
FAILURE!

Object subclass: #MarsRover
	instanceVariableNames: 'position head log'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #MarsRover category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 15:54:41'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head log'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #MarsRover
	instanceVariableNames: 'position head log logPosition logHeading'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #MarsRover category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 16:05:04'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head log logPosition logHeading'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:10:39' prior: 50882937!
addLogToHeading: aLog 
	
	log _ aLog .
	logPosition  _ true.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:10:49' prior: 50883065!
addLogToHeading: aLog 
	
	log _ aLog .
	logHeading  _ true.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:11:05' prior: 50882685!
addLogToPositoin: aLog 
	
	log _ aLog.
	logPosition _ true ! !
!MarsRover methodsFor: 'initialization' stamp: 'ja 6/5/2021 16:11:39' prior: 50882138!
initializeAt: aPosition heading: aHeading

	position := aPosition.
	head := aHeading.
	logPosition _ false.
	logHeading _ false.
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:11:58' prior: 50883011!
headEast
	
	head := MarsRoverHeadingEast new.
	logHeading ifTrue: [ log zzz: 'East'. ]! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:11:59' prior: 50883087!
headEast
	
	head := MarsRoverHeadingEast new.
	logHeading ifTrue: [ log zzz: 'East' ]! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:12:10' prior: 50883016!
headNorth
	
	head := MarsRoverHeadingNorth new.
	
	! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/5/2021 16:12:25' prior: 50882851!
moveEast
	
	position := position + (1@0).
	logPosition ifTrue: [
	log ttt: position ]! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/5/2021 16:12:34' prior: 50882754!
moveNorth
	
	position := position + (0@1).
	
	logPosition ifTrue: [
	log ttt: position ]! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/5/2021 16:12:39' prior: 50882841!
moveSouth
	
	position := position + (0@-1).
	
	logPosition ifTrue: [
	log ttt: position ]! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/5/2021 16:12:42' prior: 50882846!
moveWest
	
	position := position + (-1@0).
	
	logPosition ifTrue: [
	log ttt: position ]! !

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 16:13:22'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 16:13:25'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/5/2021 16:13:26'!
PASSED!

!testRun: #TestZZZ #test01 stamp: 'ja 6/5/2021 16:13:31'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/5/2021 16:13:31'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 16:13:31'!
PASSED!

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 16:13:31'!
PASSED!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:14:22'!
test05

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log first.
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:15:11' prior: 50883142!
test05

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log first.
	self assert: 'South' equals: log first.
	self assert: 'West' equals: log first.
	self assert: 'North' equals: log first.			
	self assert: 'West' equals: log first.	
	
	! !

!testRun: #TestZZZ #test05 stamp: 'ja 6/5/2021 16:17:06'!
FAILURE!
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:17:29' prior: 50883099!
headNorth
	
	head := MarsRoverHeadingNorth new.
	logHeading ifTrue: [ log zzz: 'East' ]
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:17:37' prior: 50883171!
headNorth
	
	head := MarsRoverHeadingNorth new.
	logHeading ifTrue: [ log zzz: 'North' ]
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:17:52' prior: 50883000!
headSouth
	
	head := MarsRoverHeadingSouth new.
	logHeading ifTrue: [ log zzz: 'North' ]
	
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:17:58' prior: 50882995!
headWest
	
	head := MarsRoverHeadingWest new.
	logHeading ifTrue: [ log zzz: 'North' ]
	
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:18:07' prior: 50883189!
headWest
	
	head := MarsRoverHeadingWest new.
	logHeading ifTrue: [ log zzz: 'West' ]
	
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 16:18:13' prior: 50883183!
headSouth
	
	head := MarsRoverHeadingSouth new.
	logHeading ifTrue: [ log zzz: 'South' ]
	
	! !

!testRun: #TestZZZ #test01 stamp: 'ja 6/5/2021 16:18:18'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/5/2021 16:18:18'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 16:18:18'!
PASSED!

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 16:18:18'!
PASSED!

!testRun: #TestZZZ #test05 stamp: 'ja 6/5/2021 16:18:18'!
FAILURE!

!testRun: #TestZZZ #test05 stamp: 'ja 6/5/2021 16:18:18'!
FAILURE!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:19:27' prior: 50883153!
test05

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log first.
	self assert: 'South' equals: log second .
	self assert: 'West' equals: log third .
	self assert: 'North' equals: log fourth .			
	self assert: 'West' equals: log fifth.	
	
	! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:19:44'!
fifth

	^ records at: 5! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:19:53'!
sixth

	^ records at: 4! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:20:05' prior: 50883240!
sixth

	^ records at: 6! !

!testRun: #TestZZZ #test01 stamp: 'ja 6/5/2021 16:20:09'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/5/2021 16:20:09'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 16:20:09'!
PASSED!

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 16:20:09'!
PASSED!

!testRun: #TestZZZ #test05 stamp: 'ja 6/5/2021 16:20:09'!
PASSED!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:20:34'!
test06

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log first.
	self assert: 'South' equals: log second .
	self assert: 'West' equals: log third .
	self assert: 'North' equals: log fourth .			
	self assert: 'West' equals: log fifth.	
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:21:27' prior: 50883258!
test06

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log first.
	self assert: 'South' equals: log second .
	self assert: 'West' equals: log third .
	self assert: '0@1' equals: log fourth.
	self assert: 'North' equals: log fifth .			
	self assert: 'West' equals: log sixth .	
	
	! !

!testRun: #TestZZZ #test06 stamp: 'ja 6/5/2021 16:21:28'!
FAILURE!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 16:21:34' prior: 50883275!
test06

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 6 equals: log size.
	self assert: 'East' equals: log first.
	self assert: 'South' equals: log second .
	self assert: 'West' equals: log third .
	self assert: '0@1' equals: log fourth.
	self assert: 'North' equals: log fifth .			
	self assert: 'West' equals: log sixth .	
	
	! !

!testRun: #TestZZZ #test06 stamp: 'ja 6/5/2021 16:21:35'!
PASSED!

!testRun: #TestZZZ #test01 stamp: 'ja 6/5/2021 16:21:35'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/5/2021 16:21:35'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 16:21:35'!
PASSED!

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 16:21:35'!
PASSED!

!testRun: #TestZZZ #test05 stamp: 'ja 6/5/2021 16:21:35'!
PASSED!

!testRun: #TestZZZ #test06 stamp: 'ja 6/5/2021 16:21:35'!
PASSED!

!testRun: #TestZZZ #test06 stamp: 'ja 6/5/2021 16:21:40'!
PASSED!

!testRun: #TestZZZ #test01 stamp: 'ja 6/5/2021 16:21:40'!
PASSED!

!testRun: #TestZZZ #test02 stamp: 'ja 6/5/2021 16:21:40'!
PASSED!

!testRun: #TestZZZ #test03 stamp: 'ja 6/5/2021 16:21:40'!
PASSED!

!testRun: #TestZZZ #test04 stamp: 'ja 6/5/2021 16:21:40'!
PASSED!

!testRun: #TestZZZ #test05 stamp: 'ja 6/5/2021 16:21:40'!
PASSED!

!testRun: #TestZZZ #test06 stamp: 'ja 6/5/2021 16:21:40'!
PASSED!

Log subclass: #EmptyLog
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #EmptyLog category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 16:46:00'!
Log subclass: #EmptyLog
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #LogState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #LogState category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 16:46:58'!
Object subclass: #LogState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #EmptyLog stamp: 'ja 6/5/2021 16:47:32'!
Log subclass: #EmptyLog
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #LogState stamp: 'ja 6/5/2021 17:24:38'!
Object subclass: #LogState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #LogObserver
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #LogObserver category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 17:24:49'!
Object subclass: #LogObserver
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #LogObserver stamp: 'ja 6/5/2021 17:25:02'!
Object subclass: #LogObserver
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRenamed: #Log as: #LogObserver stamp: 'ja 6/5/2021 17:25:09'!
Smalltalk renameClassNamed: #Log as: #LogObserver!
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:25:09' prior: 50883296!
test06

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 6 equals: log size.
	self assert: 'East' equals: log first.
	self assert: 'South' equals: log second .
	self assert: 'West' equals: log third .
	self assert: '0@1' equals: log fourth.
	self assert: 'North' equals: log fifth .			
	self assert: 'West' equals: log sixth .	
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:25:09' prior: 50882668!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log first.
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:25:09' prior: 50882782!
test02

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@3' equals: log second.	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:25:09' prior: 50882957!
test04

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log first.
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:25:09' prior: 50882876!
test03

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log first.
	self assert: '1@1' equals: log second.	
	self assert: '2@1' equals: log third.	
	self assert: '1@1' equals: log fourth.		
	
	! !
!TestZZZ methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:25:09' prior: 50883220!
test05

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log first.
	self assert: 'South' equals: log second .
	self assert: 'West' equals: log third .
	self assert: 'North' equals: log fourth .			
	self assert: 'West' equals: log fifth.	
	
	! !

LogObserver subclass: #LogObserverPosition
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #LogObserverPosition category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 17:25:33'!
LogObserver subclass: #LogObserverPosition
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

LogObserver subclass: #LogObserverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #LogObserverHeading category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 17:25:38'!
LogObserver subclass: #LogObserverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!LogObserverPosition methodsFor: 'no messages' stamp: 'ja 6/5/2021 17:26:23'!
updatePositon: aPosition

	records add: aPosition asString .! !
!LogObserverPosition methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:27:07'!
updateHeading: aHeading
! !
!LogObserverHeading methodsFor: 'no messages' stamp: 'ja 6/5/2021 17:27:15'!
updatePositon: aPosition

	records add: aPosition asString .! !
!LogObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:27:24'!
updateHeading: aHeading
! !
!LogObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:27:37' prior: 50883525!
updateHeading: aHeading

	records add: aHeading .! !
!LogObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:27:40' prior: 50883520!
updatePositon: aPosition

	! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:23'!
updateHeading: aHeading

	records add: aHeading .! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:23' prior: 50883201!
headSouth
	
	head := MarsRoverHeadingSouth new.
	logHeading ifTrue: [ log updateHeading: 'South' ]
	
	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:23' prior: 50883195!
headWest
	
	head := MarsRoverHeadingWest new.
	logHeading ifTrue: [ log updateHeading: 'West' ]
	
	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:23' prior: 50883093!
headEast
	
	head := MarsRoverHeadingEast new.
	logHeading ifTrue: [ log updateHeading: 'East' ]! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:23' prior: 50883177!
headNorth
	
	head := MarsRoverHeadingNorth new.
	logHeading ifTrue: [ log updateHeading: 'North' ]
	! !

!methodRemoval: LogObserver #zzz: stamp: 'ja 6/5/2021 17:28:23'!
zzz: aHeading

	records add: aHeading .!
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:44'!
updatePosition: aPosition

	records add: aPosition asString .! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:44' prior: 50883122!
moveWest
	
	position := position + (-1@0).
	
	logPosition ifTrue: [
	log updatePosition: position ]! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:44' prior: 50883116!
moveSouth
	
	position := position + (0@-1).
	
	logPosition ifTrue: [
	log updatePosition: position ]! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:44' prior: 50883104!
moveEast
	
	position := position + (1@0).
	logPosition ifTrue: [
	log updatePosition: position ]! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:44' prior: 50883110!
moveNorth
	
	position := position + (0@1).
	
	logPosition ifTrue: [
	log updatePosition: position ]! !

!methodRemoval: LogObserver #ttt: stamp: 'ja 6/5/2021 17:28:44'!
ttt: aPosition

	records add: aPosition asString .!
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:52' prior: 50883539!
updateHeading: aHeading

	self subclassResponsibility ! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:28:59' prior: 50883574!
updatePosition: aPosition

	self subclassResponsibility ! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:29:46'!
returnInfo

	^ records ! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:29:51' prior: 50883619!
returnInfo

	^ records copy! !

!classRenamed: #TestZZZ as: #TestObservers stamp: 'ja 6/5/2021 17:30:25'!
Smalltalk renameClassNamed: #TestZZZ as: #TestObservers!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:30:43' prior: 50883420!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log returnInfo first.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:31:18' prior: 50883431!
test02

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log returnInfo first.
	self assert: '1@3' equals: log returnInfo second.	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:31:37' prior: 50883454!
test03

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log returnInfo first.
	self assert: '1@1' equals: log returnInfo second.	
	self assert: '2@1' equals: log returnInfo third.	
	self assert: '1@1' equals: log returnInfo fourth.		
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:31:45' prior: 50883443!
test04

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log returnInfo first.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:31:58' prior: 50883469!
test05

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log returnInfo first.
	self assert: 'South' equals: log returnInfo second .
	self assert: 'West' equals: log returnInfo third .
	self assert: 'North' equals: log returnInfo fourth .			
	self assert: 'West' equals: log returnInfo fifth.	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:32:12' prior: 50883401!
test06

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ LogObserver new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 6 equals: log size.
	self assert: 'East' equals: log returnInfo first.
	self assert: 'South' equals: log returnInfo second .
	self assert: 'West' equals: log returnInfo third .
	self assert: '0@1' equals: log returnInfo fourth.
	self assert: 'North' equals: log returnInfo fifth .			
	self assert: 'West' equals: log returnInfo sixth .	
	
	! !

!testRun: #TestObservers #test06 stamp: 'ja 6/5/2021 17:32:15'!
ERROR!

!classDefinition: #MarsRover category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 17:32:52'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head log logPosition logHeading observers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!MarsRover methodsFor: 'initialization' stamp: 'ja 6/5/2021 17:32:50' prior: 50883080!
initializeAt: aPosition heading: aHeading

	position := aPosition.
	head := aHeading.
	observers _ OrderedCollection new.
	! !

Object subclass: #MarsRover
	instanceVariableNames: 'position head observers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #MarsRover category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 17:33:03'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head observers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 17:33:35' prior: 50883558!
headEast
	
	head := MarsRoverHeadingEast new.
	self notify.! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 17:34:02' prior: 50883564!
headNorth
	
	head := MarsRoverHeadingNorth new.
	self notify.! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 17:34:06' prior: 50883544!
headSouth
	
	head := MarsRoverHeadingSouth new.
	self notify.
	
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 17:34:10' prior: 50883551!
headWest
	
	head := MarsRoverHeadingWest new.
	self notify.
	! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/5/2021 17:34:17' prior: 50883593!
moveEast
	
	position := position + (1@0).
	self notify.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/5/2021 17:34:26' prior: 50883599!
moveNorth
	
	position := position + (0@1).
	self notify.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/5/2021 17:34:32' prior: 50883586!
moveSouth
	
	position := position + (0@-1).
	self notify.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/5/2021 17:34:36' prior: 50883579!
moveWest
	
	position := position + (-1@0).
	self notify.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:40'!
notify

	observers do: [:anObserver | anObserver updatePosition: self]! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58'!
notifyPosition

	observers do: [:anObserver | anObserver updatePosition: self]! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58' prior: 50883762!
headNorth
	
	head := MarsRoverHeadingNorth new.
	self notifyPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58' prior: 50883777!
moveEast
	
	position := position + (1@0).
	self notifyPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58' prior: 50883787!
moveSouth
	
	position := position + (0@-1).
	self notifyPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58' prior: 50883767!
headSouth
	
	head := MarsRoverHeadingSouth new.
	self notifyPosition.
	
	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58' prior: 50883782!
moveNorth
	
	position := position + (0@1).
	self notifyPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58' prior: 50883792!
moveWest
	
	position := position + (-1@0).
	self notifyPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58' prior: 50883757!
headEast
	
	head := MarsRoverHeadingEast new.
	self notifyPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:35:58' prior: 50883772!
headWest
	
	head := MarsRoverHeadingWest new.
	self notifyPosition.
	! !

!methodRemoval: MarsRover #notify stamp: 'ja 6/5/2021 17:35:58'!
notify

	observers do: [:anObserver | anObserver updatePosition: self]!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:36:15'!
notifyHeading

	observers do: [:anObserver | anObserver updateHeading: self]! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 17:36:29' prior: 50883841!
headEast
	
	head := MarsRoverHeadingEast new.
	self notifyHeading .! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 17:36:36' prior: 50883808!
headNorth
	
	head := MarsRoverHeadingNorth new.
	self notifyHeading .! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 17:36:41' prior: 50883825!
headSouth
	
	head := MarsRoverHeadingSouth new.
	self notifyHeading .
	
	! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/5/2021 17:36:46' prior: 50883847!
headWest
	
	head := MarsRoverHeadingWest new.
	self notifyHeading .
	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:37:30' prior: 50883070!
addLogToHeading: aLog 
	
	observers add: aLog logObserverHeading.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:37:48' prior: 50883075!
addLogToPositoin: aLog 
	
	observers add: aLog logObserverPosition.! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:38:06'!
logObserverHeading! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:38:11' prior: 50883888!
addLogToPositoin: aLog 
	
	observers add: aLog logObserverPosition.! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:38:15'!
logObserverPosition! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:38:51' prior: 50883902!
logObserverPosition

	^ LogObserverPosition new.! !

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 17:44:47'!
ERROR!

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 17:44:47'!
ERROR!

!classDefinition: #LogObserver category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 17:47:34'!
Object subclass: #LogObserver
	instanceVariableNames: 'records logObserverPosition'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #LogObserver category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 17:47:36'!
Object subclass: #LogObserver
	instanceVariableNames: 'records logObserverPosition logObserverHeading'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:47:33' prior: 50882725 overrides: 16896425!
initialize
	
	logObserverPosition _ LogObserverPosition new.
	logObserverHeading _ LogObserverHeading new.
	records _ OrderedCollection new.! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:47:46' prior: 50883893!
logObserverHeading

	^ logObserverHeading ! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:47:53' prior: 50883906!
logObserverPosition

	^ logObserverPosition ! !

!methodRemoval: LogObserver #fifth stamp: 'ja 6/5/2021 17:48:08'!
fifth

	^ records at: 5!

!methodRemoval: LogObserver #first stamp: 'ja 6/5/2021 17:48:10'!
first

	^ records first !

!methodRemoval: LogObserver #fourth stamp: 'ja 6/5/2021 17:48:12'!
fourth

	^ records at: 4!

!methodRemoval: LogObserver #second stamp: 'ja 6/5/2021 17:48:15'!
second

	^ records at: 2 !

!methodRemoval: LogObserver #sixth stamp: 'ja 6/5/2021 17:48:17'!
sixth

	^ records at: 6!

!methodRemoval: LogObserver #third stamp: 'ja 6/5/2021 17:48:20'!
third

	^ records at: 3 !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:50:28' prior: 50883933 overrides: 16896425!
initialize
	
	self halt.
	logObserverPosition _ LogObserverPosition new.
	logObserverHeading _ LogObserverHeading new.
	records _ OrderedCollection new.! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:52:24' prior: 50883969 overrides: 16896425!
initialize
	
	self halt.
	
	records _ OrderedCollection new.
	logObserverPosition _ LogObserverPosition new.
	logObserverHeading _ LogObserverHeading new.! !
!LogObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:56:49' overrides: 50883978!
initialize! !
!LogObserverPosition methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:56:59' overrides: 50883978!
initialize! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 17:57:22' prior: 50883978 overrides: 16896425!
initialize
	
	records _ OrderedCollection new.
	logObserverPosition _ LogObserverPosition new.
	logObserverHeading _ LogObserverHeading new.! !

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 17:57:30'!
ERROR!

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 17:57:30'!
ERROR!
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:00:18' prior: 50883995 overrides: 16896425!
initialize
	
	records _ OrderedCollection new.! !

!methodRemoval: LogObserverHeading #initialize stamp: 'ja 6/5/2021 18:00:28'!
initialize!

!methodRemoval: LogObserverPosition #initialize stamp: 'ja 6/5/2021 18:00:33'!
initialize!

Object subclass: #ObserverPosition
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #ObserverPosition category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 18:32:29'!
Object subclass: #ObserverPosition
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #ObserverHeading
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #ObserverHeading category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 18:32:41'!
Object subclass: #ObserverHeading
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #LogObserver
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #LogObserver category: 'MarsRover-WithHeading' stamp: 'ja 6/5/2021 18:33:12'!
Object subclass: #LogObserver
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:33:20' prior: 50883941!
logObserverHeading

	! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:33:37' prior: 50883946!
logObserverPosition

	^ ObserverPosition with: self! !
!ObserverPosition class methodsFor: 'no messages' stamp: 'ja 6/5/2021 18:37:54'!
with: anObserver
	
	^ self new initializeWith: anObserver ! !
!ObserverPosition class methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:38:53' prior: 50884065!
with: aFunctionality
	
	^ self new initializeWith: aFunctionality ! !
!ObserverPosition methodsFor: 'no messages' stamp: 'ja 6/5/2021 18:39:20'!
initializeWith: aFunctionality 

	type _ aFunctionality ! !
!ObserverPosition methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:41:53'!
updatePosition: aPosition

	type update: aPosition ! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:42:04' prior: 50883802!
notifyPosition

	observers do: [:anObserver | anObserver updatePosition: position]! !
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:43:07' overrides: 16881312!
update: anUpdate

	records add: anUpdate 

	! !

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 18:43:56'!
FAILURE!

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 18:43:59'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 18:44:02'!
FAILURE!

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 18:44:02'!
FAILURE!
!ObserverPosition methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:46:46' prior: 50884081!
updatePosition: aPosition

	type update: aPosition asString ! !

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 18:46:53'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/5/2021 18:46:55'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/5/2021 18:46:56'!
ERROR!

!testRun: #TestObservers #test03 stamp: 'ja 6/5/2021 18:46:56'!
ERROR!

!methodRemoval: LogObserver #updatePosition: stamp: 'ja 6/5/2021 18:47:38'!
updatePosition: aPosition

	self subclassResponsibility !

!methodRemoval: LogObserver #updateHeading: stamp: 'ja 6/5/2021 18:47:40'!
updateHeading: aHeading

	self subclassResponsibility !

!testRun: #TestObservers #test03 stamp: 'ja 6/5/2021 18:48:51'!
ERROR!

!testRun: #TestObservers #test03 stamp: 'ja 6/5/2021 18:48:51'!
ERROR!
!ObserverPosition methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:49:29'!
updateHeading: aHeading
! !

!testRun: #TestObservers #test03 stamp: 'ja 6/5/2021 18:49:37'!
PASSED!
!ObserverHeading methodsFor: 'no messages' stamp: 'ja 6/5/2021 18:50:08'!
initializeWith: aFunctionality 

	type _ aFunctionality ! !
!ObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:50:43'!
updatePosition: aPosition

	type update: aPosition asString ! !
!ObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:51:25'!
updateHeading: aHeading
! !
!ObserverHeading class methodsFor: 'no messages' stamp: 'ja 6/5/2021 18:51:39'!
with: aFunctionality
	
	^ self new initializeWith: aFunctionality ! !
!ObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:51:51' prior: 50884144!
updatePosition: aPosition

	! !
!ObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:52:04' prior: 50884149!
updateHeading: aHeading

	type update: aHeading! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:52:34' prior: 50883856!
notifyHeading

	observers do: [:anObserver | anObserver updateHeading: head]! !

!testRun: #TestObservers #test03 stamp: 'ja 6/5/2021 18:52:56'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/5/2021 18:52:57'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/5/2021 18:52:59'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/5/2021 18:53:01'!
ERROR!

!testRun: #TestObservers #test04 stamp: 'ja 6/5/2021 18:53:01'!
ERROR!
!LogObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/5/2021 18:53:27' prior: 50884056!
logObserverHeading

	^ ObserverHeading with: self! !

!testRun: #TestObservers #test03 stamp: 'ja 6/5/2021 18:53:34'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/5/2021 18:53:37'!
FAILURE!

!testRun: #TestObservers #test04 stamp: 'ja 6/5/2021 18:53:37'!
FAILURE!

!testRun: #TestObservers #test05 stamp: 'ja 6/5/2021 18:53:44'!
FAILURE!

!testRun: #TestObservers #test05 stamp: 'ja 6/5/2021 18:53:44'!
FAILURE!

----QUIT----(5 June 2021 19:11:31) CuisUniversity-4532.image priorSource: 17639966!

----STARTUP---- (5 June 2021 19:11:34) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(5 June 2021 19:11:38) CuisUniversity-4532.image priorSource: 17681637!

----STARTUP---- (6 June 2021 15:34:04) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #LogObserverHeading stamp: 'ja 6/6/2021 15:35:43'!
LogObserver subclass: #LogObserverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #LogObserverPosition stamp: 'ja 6/6/2021 15:35:47'!
LogObserver subclass: #LogObserverPosition
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 15:36:05'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 15:36:07'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 15:36:07'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 15:36:07'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 15:36:07'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 15:36:07'!
FAILURE!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 15:36:07'!
FAILURE!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 15:36:07'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:40:21' prior: 50884169!
notifyHeading

	observers do: [:anObserver | anObserver updateHeading: head]! !
!MarsRoverHeadingEast methodsFor: 'heading' stamp: 'ja 6/6/2021 15:46:05'!
heading
	
	^'East'! !
!MarsRoverHeadingNorth methodsFor: 'heading' stamp: 'ja 6/6/2021 15:46:13'!
heading
	
	^'East'! !
!MarsRoverHeadingSouth methodsFor: 'heading' stamp: 'ja 6/6/2021 15:46:18'!
heading
	
	^'East'! !
!MarsRoverHeadingWest methodsFor: 'heading' stamp: 'ja 6/6/2021 15:46:22'!
heading
	
	^'East'! !
!MarsRoverHeadingWest methodsFor: 'heading' stamp: 'ja 6/6/2021 15:46:27' prior: 50884264!
heading
	
	^'West'! !
!MarsRoverHeadingSouth methodsFor: 'heading' stamp: 'ja 6/6/2021 15:46:36' prior: 50884260!
heading
	
	^'South'! !
!MarsRoverHeadingNorth methodsFor: 'heading' stamp: 'ja 6/6/2021 15:46:45' prior: 50884256!
heading
	
	^'North'! !
!MarsRoverHeading methodsFor: 'heading' stamp: 'ja 6/6/2021 15:46:56'!
heading
	
	self subclassResponsibility ! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:47:11' prior: 50884247!
notifyHeading

	observers do: [:anObserver | anObserver updateHeading: head]! !
!ObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:47:35' prior: 50884164!
updateHeading: aHeading

	type update: aHeading heading ! !

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 15:47:40'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 15:47:40'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 15:47:40'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 15:47:40'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 15:47:40'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 15:47:40'!
PASSED!

!classDefinition: #Window category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 15:51:10'!
Object subclass: #Window
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:50:58'!
test07

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addLogToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 15:51:15'!
ERROR!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 15:51:15'!
ERROR!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:51:30'!
logObserverPosition
	self shouldBeImplemented.! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:51:56' prior: 50884330!
logObserverPosition
	
	^ ObserverPosition with: self! !

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 15:51:57'!
ERROR!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:52:05'!
returnInfo
	self shouldBeImplemented.! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:52:17' prior: 50884342!
returnInfo
	
	^'1@2'! !

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 15:52:19'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 15:52:23'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:52:47' prior: 50884316!
test07

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window returnInfo.	
	
	
	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:53:33'!
addWindowToPositoin: aWindow
	
	observers add: aWindow logObserverPosition.! !

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 15:54:21'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:54:34'!
test08

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window returnInfo.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:54:39' prior: 50884374!
test08

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@2' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 15:54:58'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 15:55:29' prior: 50884385!
test08

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'b'.
	
	self assert: '1@0' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 15:58:22'!
FAILURE!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 15:58:22'!
FAILURE!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 15:59:25'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:00:10' prior: 50884398!
test08

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@3' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:00:11'!
FAILURE!

!classDefinition: #Window category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:02:34'!
Object subclass: #Window
	instanceVariableNames: 'view'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:02:32' overrides: 16881312!
update: unUpdate

	view _ unUpdate ! !

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:02:42'!
FAILURE!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:02:42'!
FAILURE!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:03:01' prior: 50884347!
returnInfo
	
	^view ! !

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:03:05'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:03:05'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:03:05'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:03:05'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:03:05'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:03:05'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:03:05'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:03:05'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:03:33'!
test09

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffr'.
	
	self assert: '1@3' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:03:35'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:04:08'!
test10

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'r'.
	
	self assert: 'East' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:04:12'!
ERROR!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:04:19'!
addWindowToHeading: aWindow 
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:04:31' prior: 50884492!
addWindowToHeading: aWindow 
	
	^ ObserverHeading with: self! !

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:04:32'!
FAILURE!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:05:46'!
logObserverHeading

	^ ObserverHeading with: self! !

	^ ObserverHeading with: self!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:05:50'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:05:50'!
FAILURE!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:05:50'!
FAILURE!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:07:39' prior: 50884497!
addWindowToHeading: aWindow 
	
	observers add: aWindow logObserverPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:07:58' prior: 50884535!
addWindowToHeading: aWindow 
	
	observers add: aWindow logObserverHeading ! !

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:08:01'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:08:18'!
test11

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rr'.
	
	self assert: 'South' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:08:20'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:08:30'!
test12

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrf'.
	
	self assert: 'South' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:08:32'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:10:34'!
test13

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:10:40'!
FAILURE!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:14:16' prior: 50884436 overrides: 16881312!
update: unUpdate
	
	| aux |
	
	aux _ view.
	view _ ''.
	view _ aux, unUpdate ! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:19:20' prior: 50884610 overrides: 16881312!
update: unUpdate
	
	! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:19:42'!
updatePosition: unUpdateToPosition
	
	! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:20:15'!
updateHeading: aHeadingUpdate
	
	! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:20:27' prior: 50884620!
updatePosition: aPositionUpdate
	
	! !

!methodRemoval: Window #update: stamp: 'ja 6/6/2021 16:20:35'!
update: unUpdate
	
	!

Object subclass: #Log
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #Log category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:21:10'!
Object subclass: #Log
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRenamed: #Log as: #Logsdfs stamp: 'ja 6/6/2021 16:21:32'!
Smalltalk renameClassNamed: #Log as: #Logsdfs!

!classRenamed: #LogObserver as: #Log stamp: 'ja 6/6/2021 16:21:39'!
Smalltalk renameClassNamed: #LogObserver as: #Log!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:21:39' prior: 50883705!
test06

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 6 equals: log size.
	self assert: 'East' equals: log returnInfo first.
	self assert: 'South' equals: log returnInfo second .
	self assert: 'West' equals: log returnInfo third .
	self assert: '0@1' equals: log returnInfo fourth.
	self assert: 'North' equals: log returnInfo fifth .			
	self assert: 'West' equals: log returnInfo sixth .	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:21:39' prior: 50883674!
test04

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log returnInfo first.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:21:39' prior: 50883657!
test03

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log returnInfo first.
	self assert: '1@1' equals: log returnInfo second.	
	self assert: '2@1' equals: log returnInfo third.	
	self assert: '1@1' equals: log returnInfo fourth.		
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:21:39' prior: 50883686!
test05

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log returnInfo first.
	self assert: 'South' equals: log returnInfo second .
	self assert: 'West' equals: log returnInfo third .
	self assert: 'North' equals: log returnInfo fourth .			
	self assert: 'West' equals: log returnInfo fifth.	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:21:39' prior: 50883632!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log returnInfo first.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:21:39' prior: 50883644!
test02

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log returnInfo first.
	self assert: '1@3' equals: log returnInfo second.	
	! !

!classRemoval: #Logsdfs stamp: 'ja 6/6/2021 16:21:59'!
Object subclass: #Logsdfs
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:22:16'!
updatePosition: anUpdate

	records add: anUpdate 

	! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:22:43' prior: 50884749!
updatePosition: aPositonUpdate

	self update: aPositonUpdate 

	! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:23:00'!
updateHeading: aHeadingUpdate

	self update: aHeadingUpdate 

	! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:24:53'!
createObserverHeading

	^ ObserverHeading with: self! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:24:53'!
createObserverHeading

	^ ObserverHeading with: self! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:24:53' prior: 50883882!
addLogToHeading: aLog 
	
	observers add: aLog createObserverHeading.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:24:53' prior: 50884541!
addWindowToHeading: aWindow 
	
	observers add: aWindow createObserverHeading ! !

!methodRemoval: Log #logObserverHeading stamp: 'ja 6/6/2021 16:24:53'!
logObserverHeading

	^ ObserverHeading with: self!

!methodRemoval: Window #logObserverHeading stamp: 'ja 6/6/2021 16:24:53'!
logObserverHeading

	^ ObserverHeading with: self!
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:25:09'!
createObserverPosition

	^ ObserverPosition with: self! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:25:09'!
createObserverPosition
	
	^ ObserverPosition with: self! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:25:09' prior: 50883897!
addLogToPositoin: aLog 
	
	observers add: aLog createObserverPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:25:09' prior: 50884366!
addWindowToPositoin: aWindow
	
	observers add: aWindow createObserverPosition.! !

!methodRemoval: Log #logObserverPosition stamp: 'ja 6/6/2021 16:25:09'!
logObserverPosition

	^ ObserverPosition with: self!

!methodRemoval: Window #logObserverPosition stamp: 'ja 6/6/2021 16:25:09'!
logObserverPosition
	
	^ ObserverPosition with: self!
!ObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:25:38' prior: 50884290!
updateHeading: aHeading

	type updateHeading: aHeading heading ! !
!ObserverPosition methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:25:45' prior: 50884106!
updatePosition: aPosition

	type updatePosition: aPosition asString ! !

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:25:48'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:25:48'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:25:48'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:25:48'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:25:48'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:25:48'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:25:48'!
FAILURE!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:25:48'!
FAILURE!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:25:48'!
FAILURE!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:25:48'!
FAILURE!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:25:48'!
FAILURE!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:25:48'!
FAILURE!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:25:48'!
FAILURE!

!classDefinition: #Window category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:26:33'!
Object subclass: #Window
	instanceVariableNames: 'view headingView'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:26:31' prior: 50884624!
updateHeading: aHeadingUpdate
	
	headingView _ aHeadingUpdate 
	! !

!classDefinition: #Window category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:26:43'!
Object subclass: #Window
	instanceVariableNames: 'view headingView positionView'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:26:40' prior: 50884628!
updatePosition: aPositionUpdate
	
	positionView _ aPositionUpdate ! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:27:17' prior: 50884445!
returnInfo
	
	^ positionView , headingView ! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:27:53' prior: 50884595!
test13

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0East' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:27:59'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:27:59'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:27:59'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:27:59'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:27:59'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:27:59'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:27:59'!
ERROR!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:27:59'!
ERROR!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:27:59'!
ERROR!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:27:59'!
ERROR!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:27:59'!
ERROR!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:27:59'!
ERROR!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:27:59'!
PASSED!
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:28:42' overrides: 16896425!
initialize

	positionView _ ''.
	headingView _ ''! !

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:28:49'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:30:14' prior: 50884356!
test07

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window returnInfo.	
	
	
	! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:32:36' prior: 50884890!
returnInfo
	
	headingView ifEmpty: [^ positionView].
	
	^ positionView , headingView ! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:33:03' prior: 50884982!
returnInfo
	
	positionView  ifEmpty: [^ headingView].
	headingView ifEmpty: [^ positionView].
	^ positionView ,' ', headingView ! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:37:35' prior: 50884895!
test13

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:37:38'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:37:55'!
test14

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	
	self assert: '' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 16:37:59'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:38:45' prior: 50885037!
test14

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	
	self assert: '' equals: window returnInfo.	
	
	
	! !

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 16:38:46'!
PASSED!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:39:29'!
test00

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	marsRover addLogToHeading: log.
	
	self assert: 0 equals: log size.
	
	! !

!testRun: #TestObservers #test00 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test00 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 16:39:30'!
PASSED!

!testRun: #TestObservers #test00 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test00 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 16:39:39'!
PASSED!

Object subclass: #MarsRoverObserver
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #MarsRoverObserver category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:41:35'!
Object subclass: #MarsRoverObserver
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRenamed: #MarsRoverObserver as: #MarsRoversObserver stamp: 'ja 6/6/2021 16:42:20'!
Smalltalk renameClassNamed: #MarsRoverObserver as: #MarsRoversObserver!

MarsRoversObserver subclass: #ObserverHeading
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #ObserverHeading category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:42:29'!
MarsRoversObserver subclass: #ObserverHeading
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

MarsRoversObserver subclass: #ObserverPosition
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #ObserverPosition category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:42:33'!
MarsRoversObserver subclass: #ObserverPosition
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #MarsRoversObserver
	instanceVariableNames: 'typea'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #MarsRoversObserver category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:42:45'!
Object subclass: #MarsRoversObserver
	instanceVariableNames: 'typea'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

MarsRoversObserver subclass: #ObserverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #ObserverHeading category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:42:50'!
MarsRoversObserver subclass: #ObserverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

MarsRoversObserver subclass: #ObserverPosition
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #ObserverPosition category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:42:53'!
MarsRoversObserver subclass: #ObserverPosition
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #MarsRoversObserver
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #MarsRoversObserver category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:42:57'!
Object subclass: #MarsRoversObserver
	instanceVariableNames: 'type'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!MarsRoversObserver methodsFor: 'no messages' stamp: 'ja 6/6/2021 16:43:17'!
initializeWith: aFunctionality 

	type _ aFunctionality ! !

!methodRemoval: ObserverHeading #initializeWith: stamp: 'ja 6/6/2021 16:43:38'!
initializeWith: aFunctionality 

	type _ aFunctionality !

!methodRemoval: ObserverPosition #initializeWith: stamp: 'ja 6/6/2021 16:43:40'!
initializeWith: aFunctionality 

	type _ aFunctionality !
!MarsRoversObserver class methodsFor: 'no messages' stamp: 'ja 6/6/2021 16:44:04'!
with: aFunctionality
	
	^ self new initializeWith: aFunctionality ! !

!methodRemoval: ObserverHeading class #with: stamp: 'ja 6/6/2021 16:44:20'!
with: aFunctionality
	
	^ self new initializeWith: aFunctionality !

!methodRemoval: ObserverPosition class #with: stamp: 'ja 6/6/2021 16:44:23'!
with: aFunctionality
	
	^ self new initializeWith: aFunctionality !
!MarsRoversObserver methodsFor: 'initialization' stamp: 'ja 6/6/2021 16:44:42'!
updatePosition: aPosition

	self subclassResponsibility ! !
!MarsRoversObserver methodsFor: 'initialization' stamp: 'ja 6/6/2021 16:45:01'!
updateHeading: aHeading

	self subclassResponsibility ! !

Object subclass: #Window
	instanceVariableNames: 'headingView positionView'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #Window category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:46:20'!
Object subclass: #Window
	instanceVariableNames: 'headingView positionView'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #MarsRoverTracing
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #MarsRoverTracing category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:51:44'!
Object subclass: #MarsRoverTracing
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

MarsRoverTracing subclass: #Window
	instanceVariableNames: 'headingView positionView'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #Window category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:51:54'!
MarsRoverTracing subclass: #Window
	instanceVariableNames: 'headingView positionView'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

MarsRoverTracing subclass: #Log
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classDefinition: #Log category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 16:51:59'!
MarsRoverTracing subclass: #Log
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!MarsRoverTracing methodsFor: 'no messages' stamp: 'ja 6/6/2021 16:52:49'!
createObserverHeading

	^ ObserverHeading with: self! !
!MarsRoverTracing methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:52:58'!
createObserverPosition

	^ ObserverPosition with: self! !
!MarsRoverTracing methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:53:25' overrides: 16896425!
initialize

	self subclassResponsibility ! !
!MarsRoverTracing methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:53:37'!
returnInfo

	self subclassResponsibility ! !
!MarsRoverTracing methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:53:47'!
updateHeading: aHeadingUpdate


	self subclassResponsibility ! !
!MarsRoverTracing methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:53:50' prior: 50885410!
updateHeading: aHeadingUpdate

	self subclassResponsibility ! !
!MarsRoverTracing methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:54:00'!
updatePosition: aPositonUpdate

	self subclassResponsibility ! !

!classRenamed: #MarsRoverTracing as: #MarsRoverTracking stamp: 'ja 6/6/2021 16:57:58'!
Smalltalk renameClassNamed: #MarsRoverTracing as: #MarsRoverTracking!
!MarsRoverTracking methodsFor: 'accesing' stamp: 'ja 6/6/2021 16:59:20' overrides: 16881508!
value

	self subclassResponsibility ! !
!Log methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:59:37' overrides: 50885431!
value

	^ records copy! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 16:59:46' overrides: 50885431!
value
	
	positionView  ifEmpty: [^ headingView].
	headingView ifEmpty: [^ positionView].
	^ positionView ,' ', headingView ! !

!methodRemoval: Window #returnInfo stamp: 'ja 6/6/2021 16:59:58'!
returnInfo
	
	positionView  ifEmpty: [^ headingView].
	headingView ifEmpty: [^ positionView].
	^ positionView ,' ', headingView !

!methodRemoval: Log #returnInfo stamp: 'ja 6/6/2021 17:00:02'!
returnInfo

	^ records copy!

!methodRemoval: MarsRoverTracking #returnInfo stamp: 'ja 6/6/2021 17:00:05'!
returnInfo

	self subclassResponsibility !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:01:36' prior: 50885440 overrides: 50885431!
value
	
	self zzz! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:01:48'!
zzz

	positionView  ifEmpty: [^ headingView].
	headingView ifEmpty: [^ positionView].
	^ positionView ,' ', headingView ! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:02:22'!
buildValue

	positionView  ifEmpty: [^ headingView].
	headingView ifEmpty: [^ positionView].
	^ positionView ,' ', headingView ! !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:02:22' prior: 50885461 overrides: 50885431!
value
	
	self buildValue! !

!methodRemoval: Window #zzz stamp: 'ja 6/6/2021 17:02:22'!
zzz

	positionView  ifEmpty: [^ headingView].
	headingView ifEmpty: [^ positionView].
	^ positionView ,' ', headingView !
!Window methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:02:32' prior: 50885479 overrides: 50885431!
value
	
	^self buildValue! !

!methodRemoval: Log #createObserverPosition stamp: 'ja 6/6/2021 17:02:46'!
createObserverPosition

	^ ObserverPosition with: self!

!methodRemoval: Log #createObserverHeading stamp: 'ja 6/6/2021 17:02:48'!
createObserverHeading

	^ ObserverHeading with: self!

!methodRemoval: Window #createObserverHeading stamp: 'ja 6/6/2021 17:03:33'!
createObserverHeading

	^ ObserverHeading with: self!

!methodRemoval: Window #createObserverPosition stamp: 'ja 6/6/2021 17:03:35'!
createObserverPosition
	
	^ ObserverPosition with: self!

!testRun: #TestObservers #test00 stamp: 'ja 6/6/2021 17:04:07'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 17:04:07'!
ERROR!
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:04:24' prior: 50884720!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:04:33' prior: 50884731!
test02

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: log value second.	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:04:40' prior: 50884686!
test03

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@1' equals: log value second.	
	self assert: '2@1' equals: log value third.	
	self assert: '1@1' equals: log value fourth.		
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:04:43' prior: 50884675!
test04

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:04:50' prior: 50884702!
test05

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'South' equals: log value second .
	self assert: 'West' equals: log value third .
	self assert: 'North' equals: log value fourth .			
	self assert: 'West' equals: log value fifth.	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:04:59' prior: 50884654!
test06

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 6 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'South' equals: log value second .
	self assert: 'West' equals: log value third .
	self assert: '0@1' equals: log value fourth.
	self assert: 'North' equals: log value fifth .			
	self assert: 'West' equals: log value sixth .	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:05:03' prior: 50884972!
test07

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:05:05' prior: 50884416!
test08

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:05:07' prior: 50884467!
test09

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffr'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:05:10' prior: 50884480!
test10

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'r'.
	
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:05:14' prior: 50884569!
test11

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rr'.
	
	self assert: 'South' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:05:23' prior: 50884582!
test12

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrf'.
	
	self assert: 'South' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:05:26' prior: 50884996!
test13

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:05:28' prior: 50885081!
test14

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	
	self assert: '' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test00 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test01 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test02 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test03 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test04 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test05 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test06 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 17:05:41'!
PASSED!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:08:55'!
test01LogWhitoutProcessCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	marsRover addLogToHeading: log.
	
	self assert: 0 equals: log size.
	
	! !

!methodRemoval: TestObservers #test00 stamp: 'ja 6/6/2021 17:08:55'!
test00

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	marsRover addLogToHeading: log.
	
	self assert: 0 equals: log size.
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:09:05'!
test01LogWhitoutProcessCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	marsRover addLogToHeading: log.
	
	self assert: 0 equals: log size.
	
	! !

!methodRemoval: TestObservers #test01LogWhitoutProcessCommand stamp: 'ja 6/6/2021 17:09:05'!
test01LogWhitoutProcessCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	marsRover addLogToHeading: log.
	
	self assert: 0 equals: log size.
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:09:36'!
test01LogWhitoutProcessingAnyCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	marsRover addLogToHeading: log.
	
	self assert: 0 equals: log size.
	
	! !

!methodRemoval: TestObservers #test01LogWhitoutProcessCommands stamp: 'ja 6/6/2021 17:09:36'!
test01LogWhitoutProcessCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	marsRover addLogToHeading: log.
	
	self assert: 0 equals: log size.
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:10:10'!
test02LogProcessingAPositionCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	
	! !

!methodRemoval: TestObservers #test01 stamp: 'ja 6/6/2021 17:10:10'!
test01

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:10:49'!
test03LogProcessingOnlyPositionCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: log value second.	
	! !

!methodRemoval: TestObservers #test02 stamp: 'ja 6/6/2021 17:10:49'!
test02

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: log value second.	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:10:56'!
test02LogProcessingOnePositionCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	
	! !

!methodRemoval: TestObservers #test02LogProcessingAPositionCommand stamp: 'ja 6/6/2021 17:10:57'!
test02LogProcessingAPositionCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:12:26'!
test04LogForPositionProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@1' equals: log value second.	
	self assert: '2@1' equals: log value third.	
	self assert: '1@1' equals: log value fourth.		
	
	! !

!methodRemoval: TestObservers #test03 stamp: 'ja 6/6/2021 17:12:26'!
test03

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@1' equals: log value second.	
	self assert: '2@1' equals: log value third.	
	self assert: '1@1' equals: log value fourth.		
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:12:40'!
test03LogForPositionProcessingOnlyPositionCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: log value second.	
	! !

!methodRemoval: TestObservers #test03LogProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:12:40'!
test03LogProcessingOnlyPositionCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: log value second.	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:12:50'!
test02LogForPositionProcessingOnePositionCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	
	! !

!methodRemoval: TestObservers #test02LogProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:12:50'!
test02LogProcessingOnePositionCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:13:42'!
test05LogForHeadingProcessingOneHeadingCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	
	! !

!methodRemoval: TestObservers #test04 stamp: 'ja 6/6/2021 17:13:42'!
test04

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:14:24'!
test06LogForHeadingProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'South' equals: log value second .
	self assert: 'West' equals: log value third .
	self assert: 'North' equals: log value fourth .			
	self assert: 'West' equals: log value fifth.	
	
	! !

!methodRemoval: TestObservers #test05 stamp: 'ja 6/6/2021 17:14:24'!
test05

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'South' equals: log value second .
	self assert: 'West' equals: log value third .
	self assert: 'North' equals: log value fourth .			
	self assert: 'West' equals: log value fifth.	
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:15:08'!
test07LogForPositionAndHeadingProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 6 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'South' equals: log value second .
	self assert: 'West' equals: log value third .
	self assert: '0@1' equals: log value fourth.
	self assert: 'North' equals: log value fifth .			
	self assert: 'West' equals: log value sixth .	
	
	! !

!methodRemoval: TestObservers #test06 stamp: 'ja 6/6/2021 17:15:08'!
test06

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 6 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'South' equals: log value second .
	self assert: 'West' equals: log value third .
	self assert: '0@1' equals: log value fourth.
	self assert: 'North' equals: log value fifth .			
	self assert: 'West' equals: log value sixth .	
	
	!
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:16:23' prior: 50886018!
test07LogForPositionAndHeadingProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'frbrbrfl'.
	
	self assert: 6 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'South' equals: log value second .
	self assert: 'West' equals: log value third .
	self assert: '0@1' equals: log value fourth.
	self assert: 'North' equals: log value fifth .			
	self assert: 'West' equals: log value sixth .	
	
	! !
!TestObservers methodsFor: 'tests log' stamp: 'ja 6/6/2021 17:18:53' prior: 50886058!
test07LogForPositionAndHeadingProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.   

	marsRover process: 'frbrbrfrl'.
	
	self assert: 9 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second.
	self assert: '0@2' equals: log value third.
	self assert: 'South' equals: log value fourth.
	self assert: '0@3' equals: log value fifth.			
	self assert: 'West' equals: log value sixth.	
	self assert: '-1@3' equals: log value seventh.	
	self assert: 'North' equals: log value eighth.	
	self assert: 'West' equals: log value ninth.		
	! !

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test07 stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test08 stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test09 stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test10 stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test11 stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test12 stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test13 stamp: 'ja 6/6/2021 17:18:54'!
PASSED!

!testRun: #TestObservers #test14 stamp: 'ja 6/6/2021 17:18:54'!
PASSED!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:21:09'!
test08WindowWithoutProcessingAnyCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	
	self assert: '' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test14 stamp: 'ja 6/6/2021 17:21:09'!
test14

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	
	self assert: '' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:21:42'!
test09WindowForPositionProcessingOneCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test07 stamp: 'ja 6/6/2021 17:21:42'!
test07

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:21:59'!
test09WindowForPositionProcessingOnePositionCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test09WindowForPositionProcessingOneCommand stamp: 'ja 6/6/2021 17:21:59'!
test09WindowForPositionProcessingOneCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:22:26' prior: 50885643!
test08

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:22:27'!
test10WindowForPositionProcessingOnlyPositionCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test08 stamp: 'ja 6/6/2021 17:22:27'!
test08

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@3' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:22:56'!
test11WindowForPositionProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffr'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test09 stamp: 'ja 6/6/2021 17:22:56'!
test09

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffr'.
	
	self assert: '1@3' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:23:26'!
test12WindowForHeadingProcessingOneHeadingCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'r'.
	
	self assert: 'East' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test10 stamp: 'ja 6/6/2021 17:23:26'!
test10

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'r'.
	
	self assert: 'East' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:23:43'!
test13WindowForHeadingProcessingOnlyHeadingCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rr'.
	
	self assert: 'South' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test11 stamp: 'ja 6/6/2021 17:23:43'!
test11

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rr'.
	
	self assert: 'South' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:24:00'!
test14WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrf'.
	
	self assert: 'South' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test12 stamp: 'ja 6/6/2021 17:24:00'!
test12

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrf'.
	
	self assert: 'South' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:24:50'!
test15WindowForPositionAndHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test13 stamp: 'ja 6/6/2021 17:24:50'!
test13

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:25:31' prior: 50886246!
test11WindowForPositionProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'frb'.
	
	self assert: '0@2' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test11WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:25:34'!
PASSED!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:26:04' prior: 50886307!
test14WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrfl'.
	
	self assert: 'East' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test14WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:26:09'!
PASSED!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:28:47'!
test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test10WindowForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:28:47'!
test10WindowForPositionProcessingOnlyPositionCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@3' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:28:59'!
test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ff'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:29:11' prior: 50886405!
test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #East.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffb'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:29:17' prior: 50886381!
test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffb'.
	
	self assert: '1@3' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:29:19' prior: 50886429!
test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffb'.
	
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:29:31' prior: 50886417!
test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #East.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffb'.
	
	self assert: '2@1' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:30:25'!
test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #South.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffb'.
	
	self assert: '1@0' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:30:30'!
PASSED!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:30:49'!
test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #West.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'ffb'.
	
	self assert: '0@1' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test12WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test13WindowForHeadingProcessingOnlyHeadingCommands stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test14WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:30:53'!
PASSED!

!testRun: #TestObservers #test15WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:30:53'!
PASSED!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:31:08'!
test14WindowForPositionProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'frb'.
	
	self assert: '0@2' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test11WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:31:08'!
test11WindowForPositionProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover process: 'frb'.
	
	self assert: '0@2' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:31:16'!
test15WindowForHeadingProcessingOneHeadingCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'r'.
	
	self assert: 'East' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test12WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:31:16'!
test12WindowForHeadingProcessingOneHeadingCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'r'.
	
	self assert: 'East' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:31:24'!
test16WindowForHeadingProcessingOnlyHeadingCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rr'.
	
	self assert: 'South' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test13WindowForHeadingProcessingOnlyHeadingCommands stamp: 'ja 6/6/2021 17:31:24'!
test13WindowForHeadingProcessingOnlyHeadingCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rr'.
	
	self assert: 'South' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:31:37'!
test17WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrfl'.
	
	self assert: 'East' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test14WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:31:37'!
test14WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrfl'.
	
	self assert: 'East' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:31:51'!
test18WindowForPositionAndHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test15WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:31:51'!
test15WindowForPositionAndHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:32:36'!
test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rr'.
	
	self assert: 'South' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommands stamp: 'ja 6/6/2021 17:32:36'!
test16WindowForHeadingProcessingOnlyHeadingCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rr'.
	
	self assert: 'South' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:32:48' prior: 50886653!
test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rl'.
	
	self assert: 'North' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:33:10'!
test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #East.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rl'.
	
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:33:26'!
test120WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrfl'.
	
	self assert: 'East' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test17WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:33:26'!
test17WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrfl'.
	
	self assert: 'East' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:33:34'!
test20WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrfl'.
	
	self assert: 'East' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test120WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:33:34'!
test120WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rrfl'.
	
	self assert: 'East' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:33:42'!
test21WindowForPositionAndHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	! !

!methodRemoval: TestObservers #test18WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:33:42'!
test18WindowForPositionAndHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:34:01'!
test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #Soth.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rl'.
	
	self assert: 'Soth' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:34:14'!
test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #West.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rl'.
	
	self assert: 'West' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:34:17'!
ERROR!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:34:17'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:34:17'!
ERROR!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:34:29' prior: 50886774!
test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #South.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rl'.
	
	self assert: 'Soth' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:34:30'!
FAILURE!
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:34:38' prior: 50886884!
test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #South.
	
	window _ Window new.
	
	marsRover addWindowToHeading: window .
	marsRover process: 'rl'.
	
	self assert: 'South' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:34:39'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:34:39'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:35:25'!
test22LogAndWindowWithoutProcessingAnyCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addWindowToPositoin: window .
	marsRover addWindowToHeading: window .
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:35:41' prior: 50886994!
test22LogAndWindowWithoutProcessingAnyCommand

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addWindowToPositoin: window.
	marsRover addWindowToHeading: window.
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:36:42' prior: 50887007!
test22LogAndWindowWithoutProcessingAnyCommand

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.
	marsRover addWindowToPositoin: window.
	marsRover addWindowToHeading: window.
	
	self assert: 0 equals: log size.
	self assert: '' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:36:44'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:36:44'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:39:24'!
test23LogForPositionAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addWindowToPositoin: window.
	
	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: log value second.
	self assert: '1@3' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:39:27'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:39:27'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:40:33'!
test24LogForPositionAndWindowForHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:40:34'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:40:34'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:41:33'!
test25LogForHeadingAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToHeading: log.
	marsRover addLogToPositoin: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: '1@2' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:41:34'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:41:34'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:42:03'!
test26LogForHeadingAndWindowForHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToHeading: log.
	marsRover addLogToHeading: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'East' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:42:04'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:42:04'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:43:10'!
test27LogForPositionAndHeadingAndWindowForHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.
	marsRover addLogToHeading: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second .
	self assert: 'East' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:43:12'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:43:12'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:43:45'!
test28LogForPositionAndHeadingAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.
	marsRover addLogToPositoin: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second .
	self assert: '1@2' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:43:46'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:43:46'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:44:51'!
test29LogForPositionAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToPositoin: window.
	marsRover addLogToHeading: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@2 East' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:45:07'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:45:07'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:45:29'!
test30LogForHeadingAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToHeading: log.
	marsRover addLogToPositoin: window.
	marsRover addLogToHeading: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: '1@2 East' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:45:32'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:45:32'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:46:23'!
test31LogForPositionAndHeadingAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.
	marsRover addLogToPositoin: window.
	marsRover addLogToHeading: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second .
	self assert: '1@2 East' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:46:28'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:46:28'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:46:28'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:46:28'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:46:28'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:46:28'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:46:29'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:46:29'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:46:33' prior: 50888058!
test31LogForPositionAndHeadingAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToHeading: log.
	marsRover addLogToPositoin: window.
	marsRover addLogToHeading: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second.
	self assert: '1@2 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:46:46' prior: 50887122!
test23LogForPositionAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addWindowToPositoin: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: log value second.
	self assert: '1@3' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:46:58' prior: 50888216!
test23LogForPositionAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addWindowToPositoin: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:47:04' prior: 50888233!
test23LogForPositionAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addWindowToPositoin: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@2' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:47:08'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:47:10'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:47:11'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:47:11'!
PASSED!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54'!
addHeadingObserverFor: aLog 
	
	observers add: aLog createObserverHeading.! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50887334!
test25LogForHeadingAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addHeadingObserverFor: log.
	marsRover addLogToPositoin: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50887444!
test26LogForHeadingAndWindowForHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addHeadingObserverFor: log.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50887928!
test30LogForHeadingAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addHeadingObserverFor: log.
	marsRover addLogToPositoin: window.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: '1@2 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50888196!
test31LogForPositionAndHeadingAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addHeadingObserverFor: log.
	marsRover addLogToPositoin: window.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second.
	self assert: '1@2 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50887678!
test28LogForPositionAndHeadingAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addHeadingObserverFor: log.
	marsRover addLogToPositoin: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second .
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50885962!
test05LogForHeadingProcessingOneHeadingCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addHeadingObserverFor: log.   

	marsRover process: 'r'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50885793!
test01LogWhitoutProcessingAnyCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.   
	marsRover addHeadingObserverFor: log.
	
	self assert: 0 equals: log size.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50887802!
test29LogForPositionAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addLogToPositoin: window.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@2 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50887227!
test24LogForPositionAndWindowForHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50887558!
test27LogForPositionAndHeadingAndWindowForHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addHeadingObserverFor: log.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second .
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:54' prior: 50885984!
test06LogForHeadingProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addHeadingObserverFor: log.   

	marsRover process: 'rrrfrl'.
	
	self assert: 5 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: 'South' equals: log value second .
	self assert: 'West' equals: log value third .
	self assert: 'North' equals: log value fourth .			
	self assert: 'West' equals: log value fifth.	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:55' prior: 50886079!
test07LogForPositionAndHeadingProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addLogToPositoin: log.
	marsRover addHeadingObserverFor: log.   

	marsRover process: 'frbrbrfrl'.
	
	self assert: 9 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second.
	self assert: '0@2' equals: log value third.
	self assert: 'South' equals: log value fourth.
	self assert: '0@3' equals: log value fifth.			
	self assert: 'West' equals: log value sixth.	
	self assert: '-1@3' equals: log value seventh.	
	self assert: 'North' equals: log value eighth.	
	self assert: 'West' equals: log value ninth.		
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:48:55' prior: 50887021!
test22LogAndWindowWithoutProcessingAnyCommand

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addLogToPositoin: log.
	marsRover addHeadingObserverFor: log.
	marsRover addWindowToPositoin: window.
	marsRover addWindowToHeading: window.
	
	self assert: 0 equals: log size.
	self assert: '' equals: window value.	
	
	
	! !

!methodRemoval: MarsRover #addLogToHeading: stamp: 'ja 6/6/2021 17:48:55'!
addLogToHeading: aLog 
	
	observers add: aLog createObserverHeading.!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21'!
addPositionObserverFor: aLog 
	
	observers add: aLog createObserverPosition.! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50885881!
test04LogForPositionProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addPositionObserverFor: log.   

	marsRover process: 'fbrfb'.
	
	self assert: 4 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@1' equals: log value second.	
	self assert: '2@1' equals: log value third.	
	self assert: '1@1' equals: log value fourth.		
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50885938!
test02LogForPositionProcessingOnePositionCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addPositionObserverFor: log.   

	marsRover process: 'f'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888537!
test29LogForPositionAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addPositionObserverFor: window.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@2 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50885911!
test03LogForPositionProcessingOnlyPositionCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addPositionObserverFor: log.   

	marsRover process: 'ff'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@3' equals: log value second.	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888609!
test07LogForPositionAndHeadingProcessingManyCommands

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addPositionObserverFor: log.
	marsRover addHeadingObserverFor: log.   

	marsRover process: 'frbrbrfrl'.
	
	self assert: 9 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second.
	self assert: '0@2' equals: log value third.
	self assert: 'South' equals: log value fourth.
	self assert: '0@3' equals: log value fifth.			
	self assert: 'West' equals: log value sixth.	
	self assert: '-1@3' equals: log value seventh.	
	self assert: 'North' equals: log value eighth.	
	self assert: 'West' equals: log value ninth.		
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888494!
test28LogForPositionAndHeadingAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addHeadingObserverFor: log.
	marsRover addPositionObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second .
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888555!
test24LogForPositionAndWindowForHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888526!
test01LogWhitoutProcessingAnyCommand

	| marsRover log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	
	marsRover addPositionObserverFor: log.   
	marsRover addHeadingObserverFor: log.
	
	self assert: 0 equals: log size.
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888571!
test27LogForPositionAndHeadingAndWindowForHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addHeadingObserverFor: log.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second .
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888473!
test31LogForPositionAndHeadingAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addHeadingObserverFor: log.
	marsRover addPositionObserverFor: window.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 2 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: 'East' equals: log value second.
	self assert: '1@2 East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888635!
test22LogAndWindowWithoutProcessingAnyCommand

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addHeadingObserverFor: log.
	marsRover addWindowToPositoin: window.
	marsRover addWindowToHeading: window.
	
	self assert: 0 equals: log size.
	self assert: '' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888249!
test23LogForPositionAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addWindowToPositoin: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888423!
test25LogForHeadingAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addHeadingObserverFor: log.
	marsRover addPositionObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:49:21' prior: 50888455!
test30LogForHeadingAndWindowForPositionAndHeading

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addHeadingObserverFor: log.
	marsRover addPositionObserverFor: window.
	marsRover addHeadingObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: 'East' equals: log value first.
	self assert: '1@2 East' equals: window value.	
	
	
	! !

!methodRemoval: MarsRover #addLogToPositoin: stamp: 'ja 6/6/2021 17:49:21'!
addLogToPositoin: aLog 
	
	observers add: aLog createObserverPosition.!

!methodRemoval: MarsRover #addWindowToPositoin: stamp: 'ja 6/6/2021 17:49:28'!
addWindowToPositoin: aWindow
	
	observers add: aWindow createObserverPosition.!

!methodRemoval: MarsRover #addWindowToHeading: stamp: 'ja 6/6/2021 17:49:30'!
addWindowToHeading: aWindow 
	
	observers add: aWindow createObserverHeading !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:50:05' prior: 50888655!
addPositionObserverFor: aMarsRoverTracking 
	
	observers add: aMarsRoverTracking createObserverPosition.! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:50:13' prior: 50888417!
addHeadingObserverFor: aMarsRoverTracking 
	
	observers add: aMarsRoverTracking createObserverHeading.! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:51:32' prior: 50886151!
test08WindowWithoutProcessingAnyCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window .
	marsRover addHeadingObserverFor: window .
	
	self assert: '' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:51:42' prior: 50888929!
test08WindowWithoutProcessingAnyCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window.
	marsRover addHeadingObserverFor: window.
	
	self assert: '' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:51:54' prior: 50886192!
test09WindowForPositionProcessingOnePositionCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window .
	marsRover process: 'f'.
	
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:08' prior: 50886441!
test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window .
	marsRover process: 'ffb'.
	
	self assert: '1@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:14' prior: 50886453!
test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #East.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window .
	marsRover process: 'ffb'.
	
	self assert: '2@1' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:19' prior: 50886465!
test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #South.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window .
	marsRover process: 'ffb'.
	
	self assert: '1@0' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:24' prior: 50886481!
test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #West.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window .
	marsRover process: 'ffb'.
	
	self assert: '0@1' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:30' prior: 50886534!
test14WindowForPositionProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window .
	marsRover process: 'frb'.
	
	self assert: '0@2' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:38' prior: 50886557!
test15WindowForHeadingProcessingOneHeadingCommand

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addHeadingObserverFor: window .
	marsRover process: 'r'.
	
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:43' prior: 50886677!
test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addHeadingObserverFor: window .
	marsRover process: 'rl'.
	
	self assert: 'North' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:51' prior: 50886689!
test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #East.
	
	window _ Window new.
	
	marsRover addHeadingObserverFor: window .
	marsRover process: 'rl'.
	
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:55' prior: 50886900!
test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #South.
	
	window _ Window new.
	
	marsRover addHeadingObserverFor: window .
	marsRover process: 'rl'.
	
	self assert: 'South' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:52:58' prior: 50886786!
test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #West.
	
	window _ Window new.
	
	marsRover addHeadingObserverFor: window .
	marsRover process: 'rl'.
	
	self assert: 'West' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:53:03' prior: 50886724!
test20WindowForHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addHeadingObserverFor: window .
	marsRover process: 'rrfl'.
	
	self assert: 'East' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests window' stamp: 'ja 6/6/2021 17:53:08' prior: 50886747!
test21WindowForPositionAndHeadingProcessingManyCommands

	| marsRover window |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	window _ Window new.
	
	marsRover addPositionObserverFor: window.
	marsRover addHeadingObserverFor: window.
	marsRover process: 'rrflb'.
	
	self assert: '0@0 East' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:53:11'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:53:11'!
PASSED!
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:53:26' prior: 50888835!
test22LogAndWindowWithoutProcessingAnyCommand

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addHeadingObserverFor: log.
	marsRover addPositionObserverFor: window.
	marsRover addHeadingObserverFor: window.
	
	self assert: 0 equals: log size.
	self assert: '' equals: window value.	
	
	
	! !
!TestObservers methodsFor: 'tests log-window' stamp: 'ja 6/6/2021 17:53:38' prior: 50888851!
test23LogForPositionAndWindowForPosition

	| marsRover window log |
	
	marsRover _ MarsRover at: 1@1 heading: #North.
	
	log _ Log new.
	window _ Window new.
	
	marsRover addPositionObserverFor: log.
	marsRover addPositionObserverFor: window.
	
	marsRover process: 'fr'.
	
	self assert: 1 equals: log size.
	self assert: '1@2' equals: log value first.
	self assert: '1@2' equals: window value.	
	
	
	! !

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:54:03'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:54:41'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:54:41'!
PASSED!
!MarsRoversObserver class methodsFor: 'instance creation' stamp: 'ja 6/6/2021 17:55:18' prior: 50885317!
with: aTracker
	
	^ self new initializeWith: aTracker ! !
!MarsRoversObserver methodsFor: 'initialization' stamp: 'ja 6/6/2021 17:55:26' prior: 50885303!
initializeWith: aTracker 

	type _ aTracker ! !

!classDefinition: #MarsRoversObserver category: 'MarsRover-WithHeading' stamp: 'ja 6/6/2021 17:55:34'!
Object subclass: #MarsRoversObserver
	instanceVariableNames: 'tracker'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!
!MarsRoversObserver methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:55:34' prior: 50889430!
initializeWith: aTracker 

	tracker _ aTracker ! !
!ObserverHeading methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:55:34' prior: 50884823 overrides: 50885336!
updateHeading: aHeading

	tracker updateHeading: aHeading heading ! !
!ObserverPosition methodsFor: 'as yet unclassified' stamp: 'ja 6/6/2021 17:55:34' prior: 50884829 overrides: 50885331!
updatePosition: aPosition

	tracker updatePosition: aPosition asString ! !

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:55:43'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:55:44'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 17:56:25'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 17:56:26'!
PASSED!

----QUIT----(6 June 2021 17:58:40) CuisUniversity-4532.image priorSource: 17681832!

----STARTUP---- (6 June 2021 18:15:57) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #MarsRoverTest #test01 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test05 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test06 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test07 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test08 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test09 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test10 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test11 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test12 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test13 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test14 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test15 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #MarsRoverTest #test16 stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:17:17'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:17:24'!
PASSED!

!testRun: #TestObservers #test01LogWhitoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test02LogForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test03LogForPositionProcessingOnlyPositionCommands stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test04LogForPositionProcessingManyCommands stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test05LogForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test06LogForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test07LogForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test08WindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test09WindowForPositionProcessingOnePositionCommand stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test10WindowForPositionProcessingOnlyPositionCommandsHeadingNorth stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test11WindowForPositionProcessingOnlyPositionCommandsHeadingEast stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test12WindowForPositionProcessingOnlyPositionCommandsHeadingSouth stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test13WindowForPositionProcessingOnlyPositionCommandsHeadingWest stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test14WindowForPositionProcessingManyCommands stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test15WindowForHeadingProcessingOneHeadingCommand stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test16WindowForHeadingProcessingOnlyHeadingCommandsEndingNorth stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test17WindowForHeadingProcessingOnlyHeadingCommandsEndingEast stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test18WindowForHeadingProcessingOnlyHeadingCommandsEndingSouth stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test19WindowForHeadingProcessingOnlyHeadingCommandsEndingWest stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test20WindowForHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test21WindowForPositionAndHeadingProcessingManyCommands stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test22LogAndWindowWithoutProcessingAnyCommand stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test23LogForPositionAndWindowForPosition stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test24LogForPositionAndWindowForHeading stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test25LogForHeadingAndWindowForPosition stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test26LogForHeadingAndWindowForHeading stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test27LogForPositionAndHeadingAndWindowForHeading stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test28LogForPositionAndHeadingAndWindowForPosition stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test29LogForPositionAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test30LogForHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

!testRun: #TestObservers #test31LogForPositionAndHeadingAndWindowForPositionAndHeading stamp: 'ja 6/6/2021 18:18:41'!
PASSED!

----QUIT----(6 June 2021 18:24:07) CuisUniversity-4532.image priorSource: 17857174!

----STARTUP---- (7 June 2021 20:37:29) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(7 June 2021 20:37:38) CuisUniversity-4532.image priorSource: 17869451!

----STARTUP---- (8 June 2021 15:40:26) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


Object subclass: #Carts
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Carts category: 'TusLibros' stamp: 'ja 6/8/2021 15:52:28'!
Object subclass: #Carts
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'ja 6/8/2021 15:52:42'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRenamed: #Carts as: #Cart stamp: 'ja 6/8/2021 15:53:40'!
Smalltalk renameClassNamed: #Carts as: #Cart!
!CartTest methodsFor: 'no messages' stamp: 'ja 6/8/2021 15:53:55'!
test01! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:06:14' prior: 50890107!
test01

	| cart |
	
	cart _ Cart new.
	
	self assert: cart isEmpty.! !

!testRun: #CartTest #test01 stamp: 'ja 6/8/2021 16:06:19'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:06:27'!
isEmpty
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:06:31' prior: 50890118!
isEmpty
	
	^ true! !

!testRun: #CartTest #test01 stamp: 'ja 6/8/2021 16:06:33'!
PASSED!

!testRun: #CartTest #test01 stamp: 'ja 6/8/2021 16:06:33'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:06:55'!
test01CreateEmptyCart

	| cart |
	
	cart _ Cart new.
	
	self assert: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:12:14'!
test02ANewItemCanBeAddedToTheCart

	| cart |
	
	cart _ Cart new.
	
	self assert: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:13:11' prior: 50890136!
test02ANewItemCanBeAddedToTheCart

	| cart |
	
	cart _ Cart new.
	
	cart add: 'anItemValid'.
		
	self deny: cart isEmpty.! !

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:13:13'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:13:27'!
add: aString 
	self shouldBeImplemented.! !

!classDefinition: #Cart category: 'TusLibros' stamp: 'ja 6/8/2021 16:14:26'!
Object subclass: #Cart
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:14:24' prior: 50890152!
add: anItem 
	
	items add: anItem.! !

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:14:54'!
ERROR!
!UndefinedObject methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:15:00'!
add: aString 
	self shouldBeImplemented.! !

!methodRemoval: UndefinedObject #add: stamp: 'ja 6/8/2021 16:15:14'!
add: aString 
	self shouldBeImplemented.!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:15:28' overrides: 16896425!
initialize
	
	items _ OrderedCollection new.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:15:52' prior: 50890122!
isEmpty
	
	^ items isEmpty ! !

!methodRemoval: CartTest #test01 stamp: 'ja 6/8/2021 16:16:08'!
test01

	| cart |
	
	cart _ Cart new.
	
	self assert: cart isEmpty.!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 16:16:10'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:16:10'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:22:03' prior: 50890142!
test02ANewItemCanBeAddedToTheCart

	| cart |
	
	cart _ Cart new.
	
	cart add: 'aValidItem' times: 1.
		
	self deny: cart isEmpty.! !

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:22:25'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:22:33'!
add: aString times: aSmallInteger 
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:26:55' prior: 50890207!
add: anItem times: aQuantity 
	
	1 to: aQuantity do:[:aNumber | items add: anItem ].! !

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:26:59'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 16:26:59'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:26:59'!
PASSED!

!methodRemoval: Cart #add: stamp: 'ja 6/8/2021 16:27:06'!
add: anItem 
	
	items add: anItem.!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:32:10'!
test03CanNotAddANumberOfItemsLessThanOne

	| cart |
	
	cart _ Cart new.
	
	cart add: 'aValidItem' times: 0.
		
	self deny: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:35:12' prior: 50890229!
test03CanNotAddANumberOfItemsLessThanOne

	| cart |
	
	cart _ Cart new.
	
	self 
		should:  [	cart add: 'aValidItem' times: 0.]
		raise: Error
	  	withExceptionDo: [:anError | 
			self assert: anError messageText equals: cart invalidQuantityOfItemsErrorDescription.
			self assert: cart isEmpty. ]
		
! !

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 16:35:15'!
FAILURE!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:35:50'!
invalidQuantityOfItemsErrorDescription

 	^'Invalid quantity of items'! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:36:28' prior: 50890212!
add: anItem times: aQuantity 

	aQuantity < 1 ifTrue: [self error: self invalidQuantityOfItemsErrorDescription].
	
	1 to: aQuantity do:[:aNumber | items add: anItem ].! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 16:36:34'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:36:34'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 16:36:34'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:37:24'!
assertQuantity: aQuantity

	^ aQuantity < 1 ifTrue: [self error: self invalidQuantityOfItemsErrorDescription]! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:37:24' prior: 50890258!
add: anItem times: aQuantity 

	self assertQuantity: aQuantity.
	
	1 to: aQuantity do:[:aNumber | items add: anItem ].! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:38:19'!
test04

	| cart |
	
	cart _ Cart new.
	
	cart add: 'aValidItem' times: 1.1.
		
	self deny:  cart isEmpty.
! !

!testRun: #CartTest #test04 stamp: 'ja 6/8/2021 16:38:24'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 16:38:24'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:38:24'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 16:38:24'!
PASSED!

!testRun: #CartTest #test04 stamp: 'ja 6/8/2021 16:38:24'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:39:45' prior: 50890289!
test04

	| cart |
	
	cart _ Cart new.
	
	cart add: 'aValidItem' times: 'ss'.
		
	self deny:  cart isEmpty.
! !

!testRun: #CartTest #test04 stamp: 'ja 6/8/2021 16:39:53'!
ERROR!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:43:00' prior: 50890309!
test04

	| cart |
	
	cart _ Cart new.
	
	cart add: 'aValidItem' times: 3.
		
	self deny:  cart isEmpty.
! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:45:33' prior: 50890318!
test04

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:45:42' prior: 50890325!
test04

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.! !

!testRun: #CartTest #test04 stamp: 'ja 6/8/2021 16:45:43'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:45:52'!
list
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:46:01' prior: 50890350!
list
	
	^ items ! !

!testRun: #CartTest #test04 stamp: 'ja 6/8/2021 16:46:03'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 16:46:03'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:46:03'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 16:46:03'!
PASSED!

!testRun: #CartTest #test04 stamp: 'ja 6/8/2021 16:46:03'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:47:16'!
test04CanListAllItemsAdded

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.! !

!methodRemoval: CartTest #test04 stamp: 'ja 6/8/2021 16:47:16'!
test04

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:48:59'!
test04AllAddedItemsCanBeListed

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.! !

!methodRemoval: CartTest #test04CanListAllItemsAdded stamp: 'ja 6/8/2021 16:48:59'!
test04CanListAllItemsAdded

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:49:18'!
test05

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:52:46'!
test05CartDoesNotKnowNotAddedItems

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.! !

!methodRemoval: CartTest #test05 stamp: 'ja 6/8/2021 16:52:46'!
test05

	| cart item list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:54:21' prior: 50890426!
test05CartDoesNotKnowNotAddedItems

	| cart item notAddedItem list |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	notAddedItem _ 'aNotAddedItem'.
	cart add: item times: 1.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self deny: (cart includes: notAddedItem). ! !

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 16:54:22'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:54:30'!
includes: aString 
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:54:47' prior: 50890464!
includes: anItem 
	
	^ items includes: anItem .
	! !

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 16:54:48'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 16:54:48'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 16:54:48'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 16:54:48'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 16:54:48'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 16:54:48'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 16:59:12'!
test06CartKnowNumberOfOccurrencesOfAnItem

	| cart item |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	
	self assert: (cart occurrencesOf: item) equals: 3
	! !

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 16:59:14'!
ERROR!
!Cart methodsFor: '*Aconcagua-Extensions' stamp: 'ja 6/8/2021 16:59:20'!
occurrencesOf: aString 
	self shouldBeImplemented.! !
!Cart methodsFor: '*Aconcagua-Extensions' stamp: 'ja 6/8/2021 17:00:19' prior: 50890503!
occurrencesOf: anItem 
	
	^ items occurrencesOf: anItem .! !

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:00:21'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:00:21'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:00:21'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:00:21'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:00:21'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:00:21'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:00:21'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:00:47'!
test07

	| cart item |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	
	self assert: (cart occurrencesOf: item) equals: 3
	! !

!methodRemoval: CartTest #test07 stamp: 'ja 6/8/2021 17:02:41'!
test07

	| cart item |
	
	cart _ Cart new.
	item _ 'aValidItem'.
	cart add: item times: 3.
	
	self assert: (cart occurrencesOf: item) equals: 3
	!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:03:19' prior: 50890130!
test01CreateEmptyCart

	| cart |
	
	cart _ Cart with: self.
	
	self assert: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:03:27' prior: 50890549!
test01CreateEmptyCart

	| cart |
	
	cart _ Cart with: self catalogue.
	
	self assert: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:04:09'!
catalogue

	^ OrderedCollection with: 'aValidItem'.! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:04:22'!
ERROR!
!Cart class methodsFor: 'instance creation' stamp: 'ja 6/8/2021 17:04:29'!
with: anOrderedCollection 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: anOrderedCollection ! !
!Cart class methodsFor: 'instance creation' stamp: 'ja 6/8/2021 17:04:44' prior: 50890568!
with: aCatalogue 
	
	^self new initializeWith: aCatalogue ! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:05:11'!
ERROR!

!classDefinition: #Cart category: 'TusLibros' stamp: 'ja 6/8/2021 17:05:51'!
Object subclass: #Cart
	instanceVariableNames: 'items catalogue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:05:49'!
initializeWith: aCatalogue
	
	items _ OrderedCollection new.
	catalogue _ aCatalogue ! !

!methodRemoval: Cart #initialize stamp: 'ja 6/8/2021 17:06:05'!
initialize
	
	items _ OrderedCollection new.!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:06:13'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:06:44' prior: 50890197!
test02ANewItemCanBeAddedToTheCart

	| cart |
	
	cart _ Cart with: self catalogue.
	
	cart add: 'aValidItem' times: 1.
		
	self deny: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:06:48' prior: 50890237!
test03CanNotAddANumberOfItemsLessThanOne

	| cart |
	
	cart _ Cart with: self catalogue.
	
	self 
		should:  [	cart add: 'aValidItem' times: 0.]
		raise: Error
	  	withExceptionDo: [:anError | 
			self assert: anError messageText equals: cart invalidQuantityOfItemsErrorDescription.
			self assert: cart isEmpty. ]
		
! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:06:51' prior: 50890392!
test04AllAddedItemsCanBeListed

	| cart item list |
	
	cart _ Cart with: self catalogue.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:07:24' prior: 50890449!
test05CartDoesNotKnowNotAddedItems

	| cart item notAddedItem list |
	
	cart _ Cart with: self catalogue.
	item _ 'aValidItem'.
	notAddedItem _ 'aNotAddedItem'.
	cart add: item times: 1.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: item equals: list first.
	self deny: (cart includes: notAddedItem). ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:07:27' prior: 50890491!
test06CartKnowNumberOfOccurrencesOfAnItem

	| cart item |
	
	cart _ Cart with: self catalogue.
	item _ 'aValidItem'.
	cart add: item times: 3.
	
	self assert: (cart occurrencesOf: item) equals: 3
	! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:07:30'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:07:30'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:07:30'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:07:30'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:07:30'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:07:30'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:08:43'!
test07CanNotAddAnItemThatDoNotBelongToTheCatalogue

	| cart item |
	
	cart _ Cart with: self catalogue.
	item _ 'anInvalidItem'.
	cart add: item times: 3.
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:09:45' prior: 50890677!
test07CanNotAddAnItemThatDoNotBelongToTheCatalogue

	| cart item |
	
	cart _ Cart with: self catalogue.
	item _ 'anInvalidItem'.
	
	self 
		should:  [	cart add: item times: 1.]
		raise: Error
	  	withExceptionDo: [:anError | 
			self assert: anError messageText equals: cart invalidItemErrorDescription.
			self assert: cart isEmpty. 
			self deny: (cart includes: item)]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:10:00' prior: 50890685!
test07CanNotAddAnItemThatDoNotBelongToTheCatalogue

	| cart item |
	
	cart _ Cart with: self catalogue.
	item _ 'anInvalidItem'.
	
	self 
		should:  [	cart add: item times: 1.]
		raise: Error
	  	withExceptionDo: [:anError | 
			self assert: anError messageText equals: cart invalidItemErrorDescription.
			self assert: cart isEmpty. 
			self deny: (cart includes: item)]! !

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/8/2021 17:10:03'!
FAILURE!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:10:52' prior: 50890282!
add: anItem times: aQuantity 

	self assertQuantity: aQuantity.
	(catalogue includes: anItem) ifFalse: [self error: self invalidItemErrorDescription].
	
	1 to: aQuantity do:[:aNumber | items add: anItem ].! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:11:14'!
invalidItemErrorDescription

	^'Invalid item.'! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:11:34'!
assertItem: anItem

	^ (catalogue includes: anItem) ifFalse: [self error: self invalidItemErrorDescription]! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:11:34' prior: 50890718!
add: anItem times: aQuantity 

	self assertQuantity: aQuantity.
	self assertItem: anItem.
	
	1 to: aQuantity do:[:aNumber | items add: anItem ].! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:11:38'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:11:38'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:11:38'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:11:38'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:11:38'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:11:38'!
PASSED!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/8/2021 17:11:38'!
PASSED!
!Behavior method!
with: aCatalogue
	^ [
	([
	(self coverAll:
		{23 to: 26}) new ] valueCoveringAll:
		{28 to: 30}) initializeWith:
		(aCatalogue
			cover: (48 to: 57)
			declaredAt: (7 to: 16)) ] valueCoveringAll:
		{32 to: 46}.! !
!Behavior method!
initializeWith: aCatalogue
	(items _ [
	(OrderedCollection
		cover: (39 to: 55)
		declaredAt: (39 to: 55)) new ] valueCoveringAll:
		{57 to: 59})
		cover: (31 to: 35)
		declaredAt: (31 to: 35).
	(catalogue _ aCatalogue
		cover: (75 to: 84)
		declaredAt: (17 to: 26))
		cover: (63 to: 71)
		declaredAt: (63 to: 71).! !
!Behavior method!
isEmpty
	^ [
	(items
		cover: (14 to: 18)
		declaredAt: (14 to: 18)) isEmpty ] valueCoveringAll:
		{20 to: 26}.! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:12:21'!
PASSED!
!Behavior method!
add: anItem times: aQuantity
	[
	(self coverAll:
		{33 to: 36}) assertQuantity:
		(aQuantity
			cover: (54 to: 62)
			declaredAt: (20 to: 28)) ] valueCoveringAll:
		{38 to: 52}.
	[
	(self coverAll:
		{66 to: 69}) assertItem:
		(anItem
			cover: (83 to: 88)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{71 to: 81}.
	[
	(1 coverAll:
		{94 to: 94})
		to:
			(aQuantity
				cover: (100 to: 108)
				declaredAt: (20 to: 28))
		do: [ :aNumber |
			[
			(items
				cover: (125 to: 129)
				declaredAt: (125 to: 129)) add:
				(anItem
					cover: (136 to: 141)
					declaredAt: (6 to: 11)) ] valueCoveringAll:
				{131 to: 134} ]] valueCoveringAll:
		{96 to: 98. 110 to: 112}.! !
!Behavior method!
assertQuantity: aQuantity
	^ [
	([
	(aQuantity
		cover: (31 to: 39)
		declaredAt: (17 to: 25)) <
		(1 coverAll:
			{43 to: 43}) ] valueCoveringAll:
		{41 to: 41}) ifTrue: [
		[
		(self coverAll:
			{54 to: 57}) error:
			([
			(self coverAll:
				{66 to: 69}) invalidQuantityOfItemsErrorDescription ] valueCoveringAll:
				{71 to: 108}) ] valueCoveringAll:
			{59 to: 64} ]] valueCoveringAll:
		{45 to: 51}.! !
!Behavior method!
assertItem: anItem
	^ [
	([
	(catalogue
		cover: (25 to: 33)
		declaredAt: (25 to: 33)) includes:
		(anItem
			cover: (45 to: 50)
			declaredAt: (13 to: 18)) ] valueCoveringAll:
		{35 to: 43}) ifFalse: [
		[
		(self coverAll:
			{63 to: 66}) error:
			([
			(self coverAll:
				{75 to: 78}) invalidItemErrorDescription ] valueCoveringAll:
				{80 to: 106}) ] valueCoveringAll:
			{68 to: 73} ]] valueCoveringAll:
		{53 to: 60}.! !

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:12:21'!
PASSED!
!Behavior method!
invalidQuantityOfItemsErrorDescription
	^ 'Invalid quantity of items' coverAll:
		{44 to: 70}.! !

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:12:21'!
PASSED!
!Behavior method!
list
	^ items
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:12:21'!
PASSED!
!Behavior method!
includes: anItem
	^ [
	(items
		cover: (24 to: 28)
		declaredAt: (24 to: 28)) includes:
		(anItem
			cover: (40 to: 45)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{30 to: 38}.! !

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:12:21'!
PASSED!
!Behavior method!
occurrencesOf: anItem
	^ [
	(items
		cover: (29 to: 33)
		declaredAt: (29 to: 33)) occurrencesOf:
		(anItem
			cover: (50 to: 55)
			declaredAt: (16 to: 21)) ] valueCoveringAll:
		{35 to: 48}.! !

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:12:21'!
PASSED!
!Behavior method!
invalidItemErrorDescription
	^ 'Invalid item.' coverAll:
		{32 to: 46}.! !

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/8/2021 17:12:21'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:13:27'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:13:27'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:13:27'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:13:27'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:13:27'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:13:27'!
PASSED!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/8/2021 17:13:27'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:14:35' prior: 50890624!
test04AllAddedItemsCanBeListed

	| cart item list |
	
	cart _ Cart with: self catalogue.
	item _ 'aValidItem'.
	cart add: item times: 3.
	list _ cart list.
	
	self deny: cart isEmpty.
	self assert: cart includes: item.
	self assert: item equals: list first.
	self assert: item equals: list second.
	self assert: item equals: list third.! !

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:14:36'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:14:36'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:14:36'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:14:36'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:14:36'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:14:36'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:14:36'!
PASSED!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/8/2021 17:14:36'!
PASSED!
!Behavior method!
with: aCatalogue
	^ [
	([
	(self coverAll:
		{23 to: 26}) new ] valueCoveringAll:
		{28 to: 30}) initializeWith:
		(aCatalogue
			cover: (48 to: 57)
			declaredAt: (7 to: 16)) ] valueCoveringAll:
		{32 to: 46}.! !
!Behavior method!
initializeWith: aCatalogue
	(items _ [
	(OrderedCollection
		cover: (39 to: 55)
		declaredAt: (39 to: 55)) new ] valueCoveringAll:
		{57 to: 59})
		cover: (31 to: 35)
		declaredAt: (31 to: 35).
	(catalogue _ aCatalogue
		cover: (75 to: 84)
		declaredAt: (17 to: 26))
		cover: (63 to: 71)
		declaredAt: (63 to: 71).! !
!Behavior method!
isEmpty
	^ [
	(items
		cover: (14 to: 18)
		declaredAt: (14 to: 18)) isEmpty ] valueCoveringAll:
		{20 to: 26}.! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:14:41'!
PASSED!
!Behavior method!
add: anItem times: aQuantity
	[
	(self coverAll:
		{33 to: 36}) assertQuantity:
		(aQuantity
			cover: (54 to: 62)
			declaredAt: (20 to: 28)) ] valueCoveringAll:
		{38 to: 52}.
	[
	(self coverAll:
		{66 to: 69}) assertItem:
		(anItem
			cover: (83 to: 88)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{71 to: 81}.
	[
	(1 coverAll:
		{94 to: 94})
		to:
			(aQuantity
				cover: (100 to: 108)
				declaredAt: (20 to: 28))
		do: [ :aNumber |
			[
			(items
				cover: (125 to: 129)
				declaredAt: (125 to: 129)) add:
				(anItem
					cover: (136 to: 141)
					declaredAt: (6 to: 11)) ] valueCoveringAll:
				{131 to: 134} ]] valueCoveringAll:
		{96 to: 98. 110 to: 112}.! !
!Behavior method!
assertQuantity: aQuantity
	^ [
	([
	(aQuantity
		cover: (31 to: 39)
		declaredAt: (17 to: 25)) <
		(1 coverAll:
			{43 to: 43}) ] valueCoveringAll:
		{41 to: 41}) ifTrue: [
		[
		(self coverAll:
			{54 to: 57}) error:
			([
			(self coverAll:
				{66 to: 69}) invalidQuantityOfItemsErrorDescription ] valueCoveringAll:
				{71 to: 108}) ] valueCoveringAll:
			{59 to: 64} ]] valueCoveringAll:
		{45 to: 51}.! !
!Behavior method!
assertItem: anItem
	^ [
	([
	(catalogue
		cover: (25 to: 33)
		declaredAt: (25 to: 33)) includes:
		(anItem
			cover: (45 to: 50)
			declaredAt: (13 to: 18)) ] valueCoveringAll:
		{35 to: 43}) ifFalse: [
		[
		(self coverAll:
			{63 to: 66}) error:
			([
			(self coverAll:
				{75 to: 78}) invalidItemErrorDescription ] valueCoveringAll:
				{80 to: 106}) ] valueCoveringAll:
			{68 to: 73} ]] valueCoveringAll:
		{53 to: 60}.! !

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:14:41'!
PASSED!
!Behavior method!
invalidQuantityOfItemsErrorDescription
	^ 'Invalid quantity of items' coverAll:
		{44 to: 70}.! !

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:14:41'!
PASSED!
!Behavior method!
list
	^ items
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !
!Behavior method!
includes: anItem
	^ [
	(items
		cover: (24 to: 28)
		declaredAt: (24 to: 28)) includes:
		(anItem
			cover: (40 to: 45)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{30 to: 38}.! !

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:14:41'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:14:41'!
PASSED!
!Behavior method!
occurrencesOf: anItem
	^ [
	(items
		cover: (29 to: 33)
		declaredAt: (29 to: 33)) occurrencesOf:
		(anItem
			cover: (50 to: 55)
			declaredAt: (16 to: 21)) ] valueCoveringAll:
		{35 to: 48}.! !

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:14:41'!
PASSED!
!Behavior method!
invalidItemErrorDescription
	^ 'Invalid item.' coverAll:
		{32 to: 46}.! !

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/8/2021 17:14:41'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:15:22' prior: 50890738!
add: anItem times: aQuantity 

	self assertQuantity: aQuantity.
	self assertItem: anItem.
	
	1 to: aQuantity do:[ items add: anItem ].! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:15:24'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:15:24'!
ERROR!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:15:24'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:15:24'!
ERROR!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:15:24'!
ERROR!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:15:24'!
ERROR!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/8/2021 17:15:24'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:11:34' prior: 50891065!
add: anItem times: aQuantity 

	self assertQuantity: aQuantity.
	self assertItem: anItem.
	
	1 to: aQuantity do:[:aNumber | items add: anItem ].! !
!Cart methodsFor: 'as yet unclassified' stamp: 'ja 6/8/2021 17:15:40' prior: 50891094!
add: anItem times: aQuantity 

	self assertQuantity: aQuantity.
	self assertItem: anItem.
	
	1 to: aQuantity do: [:aNumber | items add: anItem ].! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/8/2021 17:15:42'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/8/2021 17:15:42'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/8/2021 17:15:42'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/8/2021 17:15:42'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/8/2021 17:15:42'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/8/2021 17:15:42'!
PASSED!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/8/2021 17:15:42'!
PASSED!
!Cart class methodsFor: 'instance creation' stamp: 'ja 6/8/2021 17:15:50' prior: 50890577!
with: aCatalogue 
	
	^ self new initializeWith: aCatalogue ! !

----QUIT----(8 June 2021 17:18:12) CuisUniversity-4532.image priorSource: 17869646!

----STARTUP---- (9 June 2021 19:26:38) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/9/2021 19:46:03'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/9/2021 19:46:04'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/9/2021 19:46:04'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/9/2021 19:46:04'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/9/2021 19:46:04'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/9/2021 19:46:04'!
PASSED!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/9/2021 19:46:04'!
PASSED!
!Cart methodsFor: 'accessing' stamp: 'ja 6/9/2021 19:46:15' prior: 50890354!
list
	
	^ items copy! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/9/2021 19:46:16'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/9/2021 19:46:16'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/9/2021 19:46:16'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/9/2021 19:46:16'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/9/2021 19:46:16'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/9/2021 19:46:16'!
PASSED!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/9/2021 19:46:16'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/9/2021 19:46:21'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/9/2021 19:46:21'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/9/2021 19:46:21'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/9/2021 19:46:21'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/9/2021 19:46:21'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/9/2021 19:46:21'!
PASSED!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/9/2021 19:46:21'!
PASSED!

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/9/2021 19:49:59'!
PASSED!

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/9/2021 19:49:59'!
PASSED!

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/9/2021 19:49:59'!
PASSED!

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/9/2021 19:49:59'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/9/2021 19:49:59'!
PASSED!

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/9/2021 19:49:59'!
PASSED!

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/9/2021 19:49:59'!
PASSED!
!Behavior method!
with: aCatalogue
	^ [
	([
	(self coverAll:
		{24 to: 27}) new ] valueCoveringAll:
		{29 to: 31}) initializeWith:
		(aCatalogue
			cover: (49 to: 58)
			declaredAt: (7 to: 16)) ] valueCoveringAll:
		{33 to: 47}.! !
!Behavior method!
initializeWith: aCatalogue
	(items _ [
	(OrderedCollection
		cover: (39 to: 55)
		declaredAt: (39 to: 55)) new ] valueCoveringAll:
		{57 to: 59})
		cover: (31 to: 35)
		declaredAt: (31 to: 35).
	(catalogue _ aCatalogue
		cover: (75 to: 84)
		declaredAt: (17 to: 26))
		cover: (63 to: 71)
		declaredAt: (63 to: 71).! !
!Behavior method!
isEmpty
	^ [
	(items
		cover: (14 to: 18)
		declaredAt: (14 to: 18)) isEmpty ] valueCoveringAll:
		{20 to: 26}.! !

!testRun: #CartTest #test01CreateEmptyCart stamp: 'ja 6/9/2021 19:50:03'!
PASSED!
!Behavior method!
add: anItem times: aQuantity
	[
	(self coverAll:
		{33 to: 36}) assertQuantity:
		(aQuantity
			cover: (54 to: 62)
			declaredAt: (20 to: 28)) ] valueCoveringAll:
		{38 to: 52}.
	[
	(self coverAll:
		{66 to: 69}) assertItem:
		(anItem
			cover: (83 to: 88)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{71 to: 81}.
	[
	(1 coverAll:
		{94 to: 94})
		to:
			(aQuantity
				cover: (100 to: 108)
				declaredAt: (20 to: 28))
		do: [ :aNumber |
			[
			(items
				cover: (126 to: 130)
				declaredAt: (126 to: 130)) add:
				(anItem
					cover: (137 to: 142)
					declaredAt: (6 to: 11)) ] valueCoveringAll:
				{132 to: 135} ]] valueCoveringAll:
		{96 to: 98. 110 to: 112}.! !
!Behavior method!
assertQuantity: aQuantity
	^ [
	([
	(aQuantity
		cover: (31 to: 39)
		declaredAt: (17 to: 25)) <
		(1 coverAll:
			{43 to: 43}) ] valueCoveringAll:
		{41 to: 41}) ifTrue: [
		[
		(self coverAll:
			{54 to: 57}) error:
			([
			(self coverAll:
				{66 to: 69}) invalidQuantityOfItemsErrorDescription ] valueCoveringAll:
				{71 to: 108}) ] valueCoveringAll:
			{59 to: 64} ]] valueCoveringAll:
		{45 to: 51}.! !
!Behavior method!
assertItem: anItem
	^ [
	([
	(catalogue
		cover: (25 to: 33)
		declaredAt: (25 to: 33)) includes:
		(anItem
			cover: (45 to: 50)
			declaredAt: (13 to: 18)) ] valueCoveringAll:
		{35 to: 43}) ifFalse: [
		[
		(self coverAll:
			{63 to: 66}) error:
			([
			(self coverAll:
				{75 to: 78}) invalidItemErrorDescription ] valueCoveringAll:
				{80 to: 106}) ] valueCoveringAll:
			{68 to: 73} ]] valueCoveringAll:
		{53 to: 60}.! !

!testRun: #CartTest #test02ANewItemCanBeAddedToTheCart stamp: 'ja 6/9/2021 19:50:03'!
PASSED!
!Behavior method!
invalidQuantityOfItemsErrorDescription
	^ 'Invalid quantity of items' coverAll:
		{44 to: 70}.! !

!testRun: #CartTest #test03CanNotAddANumberOfItemsLessThanOne stamp: 'ja 6/9/2021 19:50:03'!
PASSED!
!Behavior method!
list
	^ [
	(items
		cover: (11 to: 15)
		declaredAt: (11 to: 15)) copy ] valueCoveringAll:
		{17 to: 20}.! !
!Behavior method!
includes: anItem
	^ [
	(items
		cover: (24 to: 28)
		declaredAt: (24 to: 28)) includes:
		(anItem
			cover: (40 to: 45)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{30 to: 38}.! !

!testRun: #CartTest #test04AllAddedItemsCanBeListed stamp: 'ja 6/9/2021 19:50:03'!
PASSED!

!testRun: #CartTest #test05CartDoesNotKnowNotAddedItems stamp: 'ja 6/9/2021 19:50:03'!
PASSED!
!Behavior method!
occurrencesOf: anItem
	^ [
	(items
		cover: (29 to: 33)
		declaredAt: (29 to: 33)) occurrencesOf:
		(anItem
			cover: (50 to: 55)
			declaredAt: (16 to: 21)) ] valueCoveringAll:
		{35 to: 48}.! !

!testRun: #CartTest #test06CartKnowNumberOfOccurrencesOfAnItem stamp: 'ja 6/9/2021 19:50:03'!
PASSED!
!Behavior method!
invalidItemErrorDescription
	^ 'Invalid item.' coverAll:
		{32 to: 46}.! !

!testRun: #CartTest #test07CanNotAddAnItemThatDoNotBelongToTheCatalogue stamp: 'ja 6/9/2021 19:50:03'!
PASSED!

----QUIT----(9 June 2021 19:54:10) CuisUniversity-4532.image priorSource: 17903518!

----STARTUP---- (17 June 2021 15:11:47) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #Cart stamp: 'ja 6/17/2021 15:12:21'!
Object subclass: #Cart
	instanceVariableNames: 'items catalogue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'ja 6/17/2021 15:12:21'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of /home/jampuero/Documentos/isw1/tps/isw1/21-TusLibros2/TusLibros.st----!

----QUIT----(17 June 2021 15:16:32) CuisUniversity-4532.image priorSource: 17910394!

----STARTUP---- (21 June 2021 11:27:52) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #StoreTestSimulator stamp: 'ja 6/21/2021 11:28:13'!
Object subclass: #StoreTestSimulator
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCard stamp: 'ja 6/21/2021 11:28:14'!
Object subclass: #CreditCard
	instanceVariableNames: 'date expiredDate number owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cashier stamp: 'ja 6/21/2021 11:28:14'!
Object subclass: #Cashier
	instanceVariableNames: 'cart creditCard salesCollection total date merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cart stamp: 'ja 6/21/2021 11:28:15'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CheckOutTest stamp: 'ja 6/21/2021 11:28:15'!
TestCase subclass: #CheckOutTest
	instanceVariableNames: 'storeTestSimulator isAStolenCreditCard creditCardCanDebitTheAmount debitedAmount debitedCreditCard isAnInvalidCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'ja 6/21/2021 11:28:16'!
TestCase subclass: #CartTest
	instanceVariableNames: 'storeTestSimulator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/20-TusLibros/TusLibros-33.st----!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/21/2021 11:31:16'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/21/2021 11:31:20'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/21/2021 11:31:20'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/21/2021 11:31:20'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/21/2021 11:31:20'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/21/2021 11:31:20'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/21/2021 11:31:20'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/21/2021 11:31:24'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/21/2021 11:31:24'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/21/2021 11:31:24'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/21/2021 11:31:24'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/21/2021 11:31:24'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/21/2021 11:31:24'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/21/2021 11:31:26'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/21/2021 11:31:26'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/21/2021 11:31:26'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/21/2021 11:31:26'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/21/2021 11:31:26'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/21/2021 11:31:26'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/21/2021 11:31:26'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/21/2021 11:31:26'!
PASSED!

----End fileIn of /home/jampuero/Documentos/isw1/ExtractMehodCustom/vm test/VMTest2/4533-CuisCore-jose-2021May24-00h36m-ja.004.cs.st----!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/21/2021 11:35:37'!
PASSED!

----QUIT----(21 June 2021 11:38:29) CuisUniversity-4532.image priorSource: 17932749!

----STARTUP---- (21 June 2021 15:03:56) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


TestCase subclass: #TusLibrosTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TusLibrosTest category: 'TusLibros' stamp: 'ja 6/21/2021 15:28:13'!
TestCase subclass: #TusLibrosTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosTest methodsFor: 'no messages' stamp: 'ja 6/21/2021 15:28:33'!
test01! !

!classRenamed: #TusLibrosTest as: #TusLibrosFacadeTest stamp: 'ja 6/21/2021 15:39:33'!
Smalltalk renameClassNamed: #TusLibrosTest as: #TusLibrosFacadeTest!

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/21/2021 15:48:18'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:46:49' prior: 50893685!
test01

	self should:[ TusLibrosFacade createCartFor: 'invalidUser' withPassword: 'validPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !

!testRun: #TusLibrosFacadeTest #test01 stamp: 'ja 6/21/2021 15:48:25'!
ERROR!
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:48:37'!
invalidUserOrPasswordErrorDescription
	self shouldBeImplemented.! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:49:15' prior: 50893715!
invalidUserOrPasswordErrorDescription
	
	^'Invalid user or password' ! !

!testRun: #TusLibrosFacadeTest #test01 stamp: 'ja 6/21/2021 15:49:17'!
FAILURE!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:49:32' prior: 50893701!
test01

	self should:[ TusLibrosFacade createCartFor: 'invalidUser' withPassword: 'validPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !

!classDefinition: #TusLibrosFacadeTest category: 'TusLibros' stamp: 'ja 6/21/2021 15:49:46'!
TestCase subclass: #TusLibrosFacadeTest
	instanceVariableNames: 'facade'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:49:45' overrides: 16927572!
setUp

	facade _ TusLibrosFacade new.! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:49:56' prior: 50893730!
test01

	self should:[ facade createCartFor: 'invalidUser' withPassword: 'validPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !

!testRun: #TusLibrosFacadeTest #test01 stamp: 'ja 6/21/2021 15:49:57'!
FAILURE!
!TusLibrosFacade methodsFor: 'no messages' stamp: 'ja 6/21/2021 15:50:33'!
createCartFor: anUser withPassword: aPassword! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:52:25' prior: 50893767!
createCartFor: anUser withPassword: aPassword


	self error: self class invalidUserOrPasswordErrorDescription ! !

!testRun: #TusLibrosFacadeTest #test01 stamp: 'ja 6/21/2021 15:52:31'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:53:12'!
test02

	self should:[ facade createCartFor: 'validUser' withPassword: 'invalidPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !

!testRun: #TusLibrosFacadeTest #test02 stamp: 'ja 6/21/2021 15:53:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01 stamp: 'ja 6/21/2021 15:53:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02 stamp: 'ja 6/21/2021 15:53:14'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:53:46'!
test01CanNotCreateCartWithAnInvalidUser

	self should:[ facade createCartFor: 'invalidUser' withPassword: 'validPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !

!methodRemoval: TusLibrosFacadeTest #test01 stamp: 'ja 6/21/2021 15:53:46'!
test01

	self should:[ facade createCartFor: 'invalidUser' withPassword: 'validPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:54:09'!
test02CanNotCreateCartWithAnInvalidPassword

	self should:[ facade createCartFor: 'validUser' withPassword: 'invalidPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !

!methodRemoval: TusLibrosFacadeTest #test02 stamp: 'ja 6/21/2021 15:54:09'!
test02

	self should:[ facade createCartFor: 'validUser' withPassword: 'invalidPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 15:54:49'!
test03CanCreateCartWithAValidUserAndPassword

	self should:[ facade createCartFor: 'validUser' withPassword: 'invalidPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:01:56' prior: 50893843!
test03CanCreateCartWithAValidUserAndPassword

	| cartId |

	cartId _	 facade createCartFor: 'validUser' withPassword: 'validPassword' .
	self assert: (facade listCartById: cartId) isEmpty.
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:17:56' prior: 50893749 overrides: 16927572!
setUp
	
	facade _ TusLibrosFacade with: self validUsersAndPasswords.! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:18:48'!
validUsersAndPasswords

	^ Dictionary new at: self validUser put: self validPassword;
	yourself ! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:19:17'!
validUser

	^ 'validUser'! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:19:17' prior: 50893856!
test03CanCreateCartWithAValidUserAndPassword

	| cartId |

	cartId _	 facade createCartFor: self validUser withPassword: 'validPassword' .
	self assert: (facade listCartById: cartId) isEmpty.
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:19:17' prior: 50893821!
test02CanNotCreateCartWithAnInvalidPassword

	self should:[ facade createCartFor: self validUser withPassword: 'invalidPassword' ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:19:35'!
validPassword

	^ 'validPassword'! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:19:35' prior: 50893799!
test01CanNotCreateCartWithAnInvalidUser

	self should:[ facade createCartFor: 'invalidUser' withPassword: self validPassword ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:19:35' prior: 50893882!
test03CanCreateCartWithAValidUserAndPassword

	| cartId |

	cartId _	 facade createCartFor: self validUser withPassword: self validPassword .
	self assert: (facade listCartById: cartId) isEmpty.
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:19:51'!
invalidUser

	^ 'invalidUser'! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:19:51' prior: 50893909!
test01CanNotCreateCartWithAnInvalidUser

	self should:[ facade createCartFor: self invalidUser withPassword: self validPassword ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:20:09'!
invalidPassword

	^ 'invalidPassword'! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:20:09' prior: 50893892!
test02CanNotCreateCartWithAnInvalidPassword

	self should:[ facade createCartFor: self validUser withPassword: self invalidPassword ]  
		raise: Error
	       withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription ]! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:22:58'!
with: aValidAccounts! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:23:19' prior: 50893966!
with: aValidAccounts

	^ self new initializeWith: aValidAccounts ! !

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/21/2021 16:23:45'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:23:43'!
initializeWith: aValidAccounts 

	validAccounts _ aValidAccounts ! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 16:23:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 16:24:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:24:07'!
ERROR!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:24:07'!
ERROR!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:27:19' prior: 50893772!
createCartFor: anUser withPassword: aPassword

	self assertIf: anUser hasTheCorrect: aPassword.
	
	self error: self class invalidUserOrPasswordErrorDescription ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:28:51'!
assertIf: anUser hasTheCorrect: aPassword

	validAccounts at: anUser ifAbsent:[self error: self class invalidUserOrPasswordErrorDescription ].! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:30:04' prior: 50894012!
assertIf: anUser hasTheCorrect: aPassword
	
	| password |
	password _ validAccounts at: anUser ifAbsent:[self error: self class invalidUserOrPasswordErrorDescription].
	password = aPassword ifFalse: [self error: self class invalidUserOrPasswordErrorDescription]
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:30:13' prior: 50894004!
createCartFor: anUser withPassword: aPassword

	self assertIf: anUser hasTheCorrect: aPassword.
	
	! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:31:32'!
with: aValidAccounts withCatalog: aCatalog 

	^ self new initializeWith: aValidAccounts ! !

!methodRemoval: TusLibrosFacade class #with: stamp: 'ja 6/21/2021 16:31:32'!
with: aValidAccounts

	^ self new initializeWith: aValidAccounts !

!classDefinition: #TusLibrosFacadeTest category: 'TusLibros' stamp: 'ja 6/21/2021 16:32:43'!
TestCase subclass: #TusLibrosFacadeTest
	instanceVariableNames: 'facade testObjectFactory'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:33:10' prior: 50893866 overrides: 16927572!
setUp
	
	testObjectFactory _ StoreTestObjectsFactory new.
	facade _ TusLibrosFacade 
			with: self validUsersAndPasswords
			withCatalog: testObjectFactory defaultCatalog .! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:36:10'!
authenticatingOver: aValidAccounts withCatalog: aCatalog 

	^ self new initializeWith: aValidAccounts ! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:36:10' prior: 50894058 overrides: 16927572!
setUp
	
	testObjectFactory _ StoreTestObjectsFactory new.
	facade _ TusLibrosFacade 
			authenticatingOver: self validUsersAndPasswords
			withCatalog: testObjectFactory defaultCatalog .! !

!methodRemoval: TusLibrosFacade class #with:withCatalog: stamp: 'ja 6/21/2021 16:36:10'!
with: aValidAccounts withCatalog: aCatalog 

	^ self new initializeWith: aValidAccounts !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:36:34' prior: 50894067!
authenticatingOver: aValidAccounts withCatalog: aCatalog 

	^ self new initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog ! !

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/21/2021 16:36:56'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:36:55'!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog 
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts ! !

!methodRemoval: TusLibrosFacade #initializeWith: stamp: 'ja 6/21/2021 16:37:00'!
initializeWith: aValidAccounts 

	validAccounts _ aValidAccounts !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:37:30' prior: 50894032!
createCartFor: anUser withPassword: aPassword

	self assertIf: anUser hasTheCorrect: aPassword.
	
	Cart acceptingItemsOf: catalog.
	
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:37:38' prior: 50894117!
createCartFor: anUser withPassword: aPassword
	
	
	self assertIf: anUser hasTheCorrect: aPassword.
	
	Cart acceptingItemsOf: catalog.
	
	! !

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/21/2021 16:38:24'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts catalog carts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:38:22' prior: 50894125!
createCartFor: anUser withPassword: aPassword
	
	self assertIf: anUser hasTheCorrect: aPassword.
	carts add: (Cart acceptingItemsOf: catalog).
	
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:38:40' prior: 50894105!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog 
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	carts _ OrderedCollection new.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:39:31' prior: 50894149!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog 
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	carts _ Dictionary new.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:41:07' prior: 50894141!
createCartFor: anUser withPassword: aPassword
	
	| cartId |
	self assertIf: anUser hasTheCorrect: aPassword.
	cartId _ self generateNewId
	carts at: cartId put:(Cart acceptingItemsOf: catalog).
	
	^ cartId
	
	
	
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:41:24' prior: 50894166!
createCartFor: anUser withPassword: aPassword
	
	| cartId |
	self assertIf: anUser hasTheCorrect: aPassword.
	cartId _ self generateNewId.
	carts at: cartId put:(Cart acceptingItemsOf: catalog).
	
	^ cartId
	
	
	
	! !

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/21/2021 16:42:05'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts catalog carts lastId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:42:03'!
generateNewId

	^ lastId _ lastId + 1 ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:42:16' prior: 50894158!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog 
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	carts _ Dictionary new.
	lastId  _ 0 ! !

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:42:33'!
ERROR!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:42:42'!
ERROR!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:42:48'!
listCartById: aSmallInteger 
	self shouldBeImplemented.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:43:11' prior: 50894215!
listCartById: aCartId

	^ carts at: aCartId 
	
	! !

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:45:43'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 16:45:43'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 16:45:43'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:45:43'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:46:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 16:46:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 16:46:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:46:14'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:51:29'!
test04CanAddAnItemToACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword .
	
	facade add: 1 of: self validBook to: cartId.
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:53:13' prior: 50894254!
test04CanAddAnItemToACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword .
	
	facade add: 1 of: self validBook to: cartId.
	self assert: ((facade listCartById: cartId) occurrencesOf: self validBook) = 1 .
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:54:12'!
validBook

	^ testObjectFactory itemNotSellByTheStore ! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:54:18' prior: 50894274!
validBook

	^ testObjectFactory itemSellByTheStore ! !

!testRun: #TusLibrosFacadeTest #test04CanAddAnItemToACart stamp: 'ja 6/21/2021 16:54:24'!
ERROR!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:54:33'!
add: aSmallInteger of: aString to: aSmallInteger3 
	self shouldBeImplemented.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:57:25' prior: 50894288!
add: anAmount of: aBook to: aCartId
	
	| currentCart |
	
	currentCart _ carts at: aCartId.
	currentCart add: anAmount of: aBook.
	
	! !

!testRun: #TusLibrosFacadeTest #test04CanAddAnItemToACart stamp: 'ja 6/21/2021 16:57:28'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 16:57:28'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 16:57:28'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 16:57:28'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddAnItemToACart stamp: 'ja 6/21/2021 16:57:28'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 16:57:48'!
test04CanAddABookToACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword .
	
	facade add: 1 of: self validBook to: cartId.
	self assert: ((facade listCartById: cartId) occurrencesOf: self validBook) = 1 .
		! !

!methodRemoval: TusLibrosFacadeTest #test04CanAddAnItemToACart stamp: 'ja 6/21/2021 16:57:48'!
test04CanAddAnItemToACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword .
	
	facade add: 1 of: self validBook to: cartId.
	self assert: ((facade listCartById: cartId) occurrencesOf: self validBook) = 1 .
		!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:01:57'!
test05CanNotAddABookNotSellByTheStore

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword .
	
	self should: [facade add: 1 of: self invalidBook to: cartId.] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotAddABookNotSellByTheStoreErrorDescription.
			self assert: (facade listCartById: cartId) isEmpty ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:02:15'!
invalidBook

	^ testObjectFactory itemNotSellByTheStore ! !

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:02:25'!
ERROR!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:08:44'!
canNotAddABookNotSellByTheStoreErrorDescription

	^ Cart invalidItemErrorMessage ! !
!Cart class methodsFor: 'instance creation' stamp: 'ja 6/21/2021 17:09:23'!
invalidItemErrorMessage
	
	^'Item is not in catalog'! !

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:10:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:10:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 17:10:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 17:10:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 17:10:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/21/2021 17:10:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:10:03'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:14:14'!
test06CanNotAddABookToAnInvalidCartId

	facade createCartFor: self validUser withPassword: 	self validPassword .
	
	self should: [facade add: 1 of: self validBook to: self invalidCartId.] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotAddABookToAnInvalidCartIdErrorDescription]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:14:39' prior: 50894400!
test06CanNotAddABookToAnInvalidCartId

	facade createCartFor: self validUser withPassword: 	self validPassword .
	
	self should: [facade add: 1 of: self validBook to: self invalidCartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotAddABookToAnInvalidCartIdErrorDescription]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:15:02'!
invalidCartId

	^ 'invalidCartId'! !

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:15:07'!
ERROR!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:15:29' prior: 50894414!
test06CanNotAddABookToAnInvalidCartId

	facade createCartFor: self validUser withPassword: 	self validPassword .
	
	self should: [facade add: 1 of: self validBook to: self invalidCartId] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotAddABookToAnInvalidCartIdErrorDescription]
	
		! !

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:15:30'!
ERROR!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:15:52'!
ERROR!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:16:00' prior: 50894436!
test06CanNotAddABookToAnInvalidCartId

	facade createCartFor: self validUser withPassword: 	self validPassword .
	
	self should: [facade add: 1 of: self validBook to: self invalidCartId] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotAddABookToAnInvalidCartIdErrorDescription]
	
		! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:16:31'!
canNotAddABookToAnInvalidCartIdErrorDescription

	^ 'Can Not Add A Book To An Invalid CartId'! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:24:57'!
cartsAt: aCartId

	^ carts at: aCartId! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:24:57' prior: 50894294!
add: anAmount of: aBook to: aCartId
	
	| currentCart |
	
	currentCart _ self cartsAt: aCartId.
	currentCart add: anAmount of: aBook.
	
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:24:57' prior: 50894220!
listCartById: aCartId

	^ self cartsAt: aCartId 
	
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:25:29' prior: 50894478!
cartsAt: aCartId

	^ carts at: aCartId ifAbsent: [self error: self canNotAddABookToAnInvalidCartIdErrorDescription ]! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:28:09'!
invalidCartIdErrorDescription

	^ 'Can Not Add A Book To An Invalid CartId'! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:28:09' prior: 50894458!
test06CanNotAddABookToAnInvalidCartId

	facade createCartFor: self validUser withPassword: 	self validPassword .
	
	self should: [facade add: 1 of: self validBook to: self invalidCartId] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription]
	
		! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:28:09' prior: 50894496!
cartsAt: aCartId

	^ carts at: aCartId ifAbsent: [self error: self invalidCartIdErrorDescription ]! !

!methodRemoval: TusLibrosFacade #canNotAddABookToAnInvalidCartIdErrorDescription stamp: 'ja 6/21/2021 17:28:09'!
canNotAddABookToAnInvalidCartIdErrorDescription

	^ 'Can Not Add A Book To An Invalid CartId'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:28:47' prior: 50894503!
invalidCartIdErrorDescription

	^ 'Cart was not found for the given CartId'! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 17:28:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 17:28:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 17:28:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/21/2021 17:28:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:28:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:28:50'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:33:21'!
test07CanNotAddAnInvalidQuantityOfABook

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword .
	
	self should: [facade add: 0 of: self validBook to: cartId.] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotAddAnInvalidQuantityOfABookErrorDescription.
			self assert: (facade listCartById: cartId) isEmpty ]
	
		! !

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 17:33:23'!
ERROR!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:33:45'!
canNotAddAnInvalidQuantityOfABookErrorDescription

	^ Cart ! !
!Cart class methodsFor: 'error description' stamp: 'ja 6/21/2021 17:33:54'!
invalidQuantityErrorMessage
	
	^'Invalid number of items'! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:34:06' prior: 50894583!
canNotAddAnInvalidQuantityOfABookErrorDescription

	^ Cart invalidQuantityErrorMessage ! !

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 17:34:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 17:34:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 17:34:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 17:34:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 17:34:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/21/2021 17:34:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:34:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:34:14'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 17:34:14'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:36:05'!
test08CanNotListCartOfAnInvalidCartId

	facade createCartFor: self validUser withPassword: 	self validPassword .
	
	self should: [facade listCartById: self invalidCartId .] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription]
	
		! !

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/21/2021 17:36:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 17:36:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 17:36:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 17:36:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/21/2021 17:36:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:36:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:36:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 17:36:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/21/2021 17:36:07'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:36:31' prior: 50894631!
test08CanNotListCartOfAnInvalidCartId

	facade createCartFor: self validUser withPassword: 	self validPassword.
	
	self should: [facade listCartById: self invalidCartId .] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:45:19'!
test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks

	| cartId books |
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	books _ facade listCartById: cartId 	.
	self assert: (books occurrencesOf: self validBook) = 1.
	self assert: (books occurrencesOf: self otherValidBook) = 2.	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:45:54'!
otherValidBook

	^ testObjectFactory otherItemSellByTheStore ! !
!StoreTestObjectsFactory methodsFor: 'items' stamp: 'ja 6/21/2021 17:46:43'!
otherItemSellByTheStore

	^ 'otherValidItem'! !
!StoreTestObjectsFactory methodsFor: 'items' stamp: 'ja 6/21/2021 17:47:05' prior: 50894710!
otherItemSellByTheStore

	^ 'otherValidBook'! !
!StoreTestObjectsFactory methodsFor: 'items' stamp: 'ja 6/21/2021 17:47:22'!
otherItemSellByTheStorePrice
	
	^23! !
!StoreTestObjectsFactory methodsFor: 'cart' stamp: 'ja 6/21/2021 17:47:56' prior: 50892621!
defaultCatalog
	
	^ Dictionary new
		at: self itemSellByTheStore put: self itemSellByTheStorePrice;
		at: self otherItemSellByTheStore put: self otherItemSellByTheStorePrice;
		yourself ! !

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/21/2021 17:48:04'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/21/2021 17:48:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 17:48:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 17:48:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 17:48:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/21/2021 17:48:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:48:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:48:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 17:48:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/21/2021 17:48:07'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/21/2021 17:48:07'!
PASSED!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:48:56' prior: 50894491!
listCartById: aCartId

	^ self cartsAt: aCartId 
	
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:49:16' prior: 50894805!
listCartById: aCartId

	^ self cartsAt: aCartId items
	
	! !
!Cart methodsFor: 'queries' stamp: 'ja 6/21/2021 17:50:03'!
items

	^items copy! !

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/21/2021 17:50:14'!
ERROR!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 17:50:33' prior: 50894810!
listCartById: aCartId

	^ (self cartsAt: aCartId) items
	
	! !

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/21/2021 17:50:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/21/2021 17:50:34'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:00:39'!
test10CanCheckOutACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner
	
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:01:25' prior: 50894863!
test10CanCheckOutACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
		
	
	
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:02:10' prior: 50894075 overrides: 16927572!
setUp
	
	testObjectFactory _ StoreTestObjectsFactory new.
	facade _ TusLibrosFacade 
			authenticatingOver: self validUsersAndPasswords
			withCatalog: testObjectFactory defaultCatalog 
			registiringOn: OrderedCollection new.! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:02:48'!
authenticatingOver: aValidAccounts withCatalog: aCatalog registiringOn: aSalesBook

	^ self new initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog registiringOn: aSalesBook! !

!methodRemoval: TusLibrosFacade class #authenticatingOver:withCatalog: stamp: 'ja 6/21/2021 18:02:57'!
authenticatingOver: aValidAccounts withCatalog: aCatalog 

	^ self new initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog !

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/21/2021 18:03:17'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts catalog carts lastId salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:03:15'!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog registiringOn: aSalesBook
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	salesBook _ aSalesBook .
	carts _ Dictionary new.
	lastId  _ 0 ! !

!methodRemoval: TusLibrosFacade #initializeAuthenticatingOver:withCatalog: stamp: 'ja 6/21/2021 18:03:20'!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog 
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	carts _ Dictionary new.
	lastId  _ 0 !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:09:28' prior: 50894881!
test10CanCheckOutACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	self deny: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty .
	
	
	
		! !

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/21/2021 18:09:36'!
ERROR!
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:09:44'!
notExpiredCreditCardNumber
	self shouldBeImplemented.! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:11:45' prior: 50894976!
notExpiredCreditCardNumber
	
	^'1234567891234567' ! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:12:10'!
notExpiredCreditCardExpiringDate

	! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:12:35' prior: 50894987!
notExpiredCreditCardExpiringDate

	^ Month month: today monthIndex year: today yearNumber + 1! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:12:54'!
notExpiredCreditCardOwner

	^ 'Jose'! !

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/21/2021 18:13:05'!
ERROR!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:13:12'!
checkout: aSmallInteger withCreditCardNumber: aString expiringOn: aMonth withOwner: aString4 
	self shouldBeImplemented.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:13:44' prior: 50895005!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	! !

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/21/2021 18:14:04'!
ERROR!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:14:11'!
listPurchasesOf: aString withPassword: aString2 
	self shouldBeImplemented.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:15:12' prior: 50895021!
listPurchasesOf: aUser withPassword: aPassword
	
	^ OrderedCollection new.! !

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/21/2021 18:15:13'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/21/2021 18:15:26'!
FAILURE!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:15:43' prior: 50895027!
listPurchasesOf: aUser withPassword: aPassword
	
	^ OrderedCollection with:'a' .! !

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/21/2021 18:15:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/21/2021 18:15:54'!
PASSED!

----QUIT----(21 June 2021 18:56:51) CuisUniversity-4532.image priorSource: 17984536!

----STARTUP---- (22 June 2021 19:18:26) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(22 June 2021 19:37:15) CuisUniversity-4532.image priorSource: 18029903!

----STARTUP---- (22 June 2021 19:39:32) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(22 June 2021 20:09:08) CuisUniversity-4532.image priorSource: 18030100!

----STARTUP---- (23 June 2021 15:23:01) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 15:40:58'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:45:15'!
test11CanNotCheckoutWithAnInvalidCartId

	self 
		should: [facade checkout: self invalidCartId 
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription ]
	
	.
	
	self deny: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty .
	
	
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:45:21' prior: 50895107!
test11CanNotCheckoutWithAnInvalidCartId

	self 
		should: [facade checkout: self invalidCartId 
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription ]
	
		! !

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 15:45:25'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 15:45:26'!
FAILURE!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:46:53' prior: 50895012!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentCart |
	currentCart _ self cartsAt: aCartId.! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 15:47:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 15:47:03'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:48:06'!
test12CanNotCheckoutWithAnEmptyCart

	self 
		should: [facade checkout: self invalidCartId 
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:49:42' prior: 50895198!
test12CanNotCheckoutWithAnEmptyCart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnEmptyCartErrorDescription ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:50:44' prior: 50895215!
test12CanNotCheckoutWithAnEmptyCart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnEmptyCartErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 15:50:50'!
FAILURE!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:51:20'!
canNotCheckoutWithAnEmptyCartErrorDescription

	^'Can Not Checkout With An Empty Cart'! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:53:15' prior: 50895259!
canNotCheckoutWithAnEmptyCartErrorDescription

	^ Cashier cartCanNotBeEmptyErrorMessage ! !

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 15:53:42'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 15:53:42'!
FAILURE!

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/23/2021 15:57:23'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts catalog carts lastId salesBook merchantProcesor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 15:57:20' prior: 50895152!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentCart |
	currentCart _ self cartsAt: aCartId.
	
	^ (Cashier 
		toCheckout: currentCart 
		charging: (CreditCard expiringOn: aDate )
		throught: merchantProcesor
		on: DateAndTime now
		registeringOn: salesBook) checkout. ! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:00:17'!
authenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook

	^ self new initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:00:42'!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	salesBook _ aSalesBook .
	merchantProcesor _ aMerchantProcessor .
	carts _ Dictionary new.
	lastId  _ 0 ! !

!methodRemoval: TusLibrosFacade #initializeAuthenticatingOver:withCatalog:registiringOn: stamp: 'ja 6/23/2021 16:00:48'!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog registiringOn: aSalesBook
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	salesBook _ aSalesBook .
	carts _ Dictionary new.
	lastId  _ 0 !

!methodRemoval: TusLibrosFacade class #authenticatingOver:withCatalog:registiringOn: stamp: 'ja 6/23/2021 16:00:55'!
authenticatingOver: aValidAccounts withCatalog: aCatalog registiringOn: aSalesBook

	^ self new initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog registiringOn: aSalesBook!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:01:38' prior: 50894899 overrides: 16927572!
setUp
	
	testObjectFactory _ StoreTestObjectsFactory new.
	facade _ TusLibrosFacade 
			authenticatingOver: self validUsersAndPasswords
			withCatalog: testObjectFactory defaultCatalog 
			trought: self
			registiringOn: OrderedCollection new.! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:02:10'!
debit: anAmount from: aCreditCard! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:02:49' prior: 50895287!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentCart |
	currentCart _ self cartsAt: aCartId.
	
	^ (Cashier 
		toCheckout: currentCart 
		charging: (CreditCard expiringOn: aDate )
		throught: merchantProcesor
		on: DateAndTime now
		registeringOn: salesBook) checkOut. ! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:03:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:03:00'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:03:56'!
test13CanNotCheckoutWithAnExpiredCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory expiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnEmptyCartErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:04:16'!
expiredCreditCardExpiringDate

	! !

!methodRemoval: TusLibrosFacadeTest #expiredCreditCardExpiringDate stamp: 'ja 6/23/2021 16:04:39'!
expiredCreditCardExpiringDate

	!
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:05:00'!
expiredCreditCardExpiringDate

	^ Month month: today monthIndex year: today yearNumber - 1! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:05:25' prior: 50895416!
test13CanNotCheckoutWithAnExpiredCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory expiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnExpiredCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:05:52'!
canNotCheckoutWithAnExpiredCreditCardErrorDescription

	^ Cashier canNotChargeAnExpiredCreditCardErrorMessage ! !

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:05:56'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:05:56'!
FAILURE!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:06:35' prior: 50895453!
test13CanNotCheckoutWithAnExpiredCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory expiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnExpiredCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:06:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:06:36'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:08:45'!
test14CanNotCheckoutWithAnInvalidCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory expiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnExpiredCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !

!classDefinition: #TusLibrosFacadeTest category: 'TusLibros' stamp: 'ja 6/23/2021 16:09:25'!
TestCase subclass: #TusLibrosFacadeTest
	instanceVariableNames: 'facade testObjectFactory debitBehavior'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:09:23' prior: 50895345 overrides: 16927572!
setUp
	
	testObjectFactory _ StoreTestObjectsFactory new.
	debitBehavior _ [:anAmount :aCreditCart | ].
	facade _ TusLibrosFacade 
			authenticatingOver: self validUsersAndPasswords
			withCatalog: testObjectFactory defaultCatalog 
			trought: self
			registiringOn: OrderedCollection new.! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:09:49' prior: 50895356!
debit: anAmount from: aCreditCard

	^ debitBehavior value: anAmount value: aCreditCard ! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:12:52' prior: 50895561!
test14CanNotCheckoutWithAnInvalidCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier invalidCreditCartErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory invalidCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory invalidCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCreditCartErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:13:34' prior: 50895613!
test14CanNotCheckoutWithAnInvalidCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier invalidCreditCartErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory invalidCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory invalidCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnInvalidCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:14:04'!
invalidCreditCardNumber

	^ 1! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:14:26' prior: 50895665!
invalidCreditCardNumber

	^ '1'! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:14:50'!
invalidCreditCardOwner

	^ 'invalidOwner'! !
!Cashier class methodsFor: 'error messages' stamp: 'ja 6/23/2021 16:16:13'!
invalidCreditCardErrorDescription

	^ 'Invalid Credit Card'! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:16:19' prior: 50895639!
test14CanNotCheckoutWithAnInvalidCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier invalidCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory invalidCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory invalidCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnInvalidCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:16:38'!
canNotCheckoutWithAnInvalidCreditCardErrorDescription

	^ Cashier invalidCreditCardErrorDescription ! !

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:16:43'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:16:46'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:16:46'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:17:41'!
test14CanNotCheckoutWithAStolenCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory invalidCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory invalidCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAStolenCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:18:11' prior: 50895773!
test14CanNotCheckoutWithAStolenCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory va] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAStolenCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:18:27'!
test15CanNotCheckoutWithAStolenCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory va] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAStolenCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !

!methodRemoval: TusLibrosFacadeTest #test14CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:18:27'!
test14CanNotCheckoutWithAStolenCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory va] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAStolenCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:18:37' prior: 50895824!
test15CanNotCheckoutWithAStolenCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAStolenCreditCardErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!Cashier class methodsFor: 'error messages' stamp: 'ja 6/23/2021 16:19:27'!
stolenCreditCardErrorDescription

	^ 'Stolen Credit Card'! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:20:04'!
canNotCheckoutWithAStolenCreditCardErrorDescription

	^ Cashier stolenCreditCardErrorDescription ! !

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:20:08'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:20:08'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:21:22'!
test16CanNotCheckoutWhenCreditCardHasNoCredit

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWhenCreditCardHasNoCreditErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:22:03' prior: 50895968!
test16CanNotCheckoutWhenCreditCardHasNoCredit

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier creditCardhasNoCreditErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWhenCreditCardHasNoCreditErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:22:12' prior: 50895994!
test16CanNotCheckoutWhenCreditCardHasNoCredit

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier creditCardHasNoCreditErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWhenCreditCardHasNoCreditErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!Cashier class methodsFor: 'error messages' stamp: 'ja 6/23/2021 16:22:41'!
creditCardHasNoCreditErrorDescription

	^ 'Credit Card Has No Credit'! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:23:16'!
canNotCheckoutWhenCreditCardHasNoCreditErrorDescription

	^ Cashier creditCardHasNoCreditErrorMessage ! !

!methodRemoval: Cashier class #creditCardHasNoCreditErrorDescription stamp: 'ja 6/23/2021 16:23:41'!
creditCardHasNoCreditErrorDescription

	^ 'Credit Card Has No Credit'!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:23:48' prior: 50896021!
test16CanNotCheckoutWhenCreditCardHasNoCredit

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier creditCardHasNoCreditErrorMessage].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWhenCreditCardHasNoCreditErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 16:23:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:23:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:23:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:23:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:23:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 16:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:23:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 16:23:56'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:25:44'!
test17CanNotListPurchasesWithAnInvalidUser

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier creditCardHasNoCreditErrorMessage].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWhenCreditCardHasNoCreditErrorDescription.
			"falta testear con listPuschasers" ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:27:36' prior: 50896210!
test17CanNotListPurchasesWithAnInvalidUser

	self should: [facade listPurchasesOf: self invalidUser withPassword: self validPassword ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotListPurchasesWithAnInvalidUserErrorDescription]
	
		! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:28:10'!
canNotListPurchasesWithAnInvalidUserErrorDescription

	^ 'Can Not List Purchases With An Invalid User'! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:28:39' prior: 50895039!
listPurchasesOf: anUser withPassword: aPassword
	
	self assertIf: anUser hasTheCorrect: aPassword.! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:29:01' prior: 50896236!
test17CanNotListPurchasesWithAnInvalidUser

	self should: [facade listPurchasesOf: self invalidUser withPassword: self validPassword ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidUserOrPasswordErrorDescription]
	
		! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/21/2021 18:15:43' prior: 50896255!
listPurchasesOf: aUser withPassword: aPassword
	
	^ OrderedCollection with:'a' .! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:29:48' prior: 50896274!
listPurchasesOf: anUser withPassword: aPassword
	self assertIf: anUser hasTheCorrect: aPassword.
	^ OrderedCollection with:'a' .! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:29:51' prior: 50896280!
listPurchasesOf: anUser withPassword: aPassword

	self assertIf: anUser hasTheCorrect: aPassword.
	^ OrderedCollection with:'a' .! !

!methodRemoval: TusLibrosFacade #canNotListPurchasesWithAnInvalidUserErrorDescription stamp: 'ja 6/23/2021 16:30:02'!
canNotListPurchasesWithAnInvalidUserErrorDescription

	^ 'Can Not List Purchases With An Invalid User'!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:30:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:30:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:30:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:30:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:30:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:30:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:30:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 16:30:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 16:30:06'!
ERROR!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 16:30:06'!
ERROR!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 16:31:40'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 16:31:40'!
ERROR!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 16:31:40'!
ERROR!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:31:57' prior: 50896262!
test17CanNotListPurchasesWithAnInvalidUser

	self should: [facade listPurchasesOf: self invalidUser withPassword: self validPassword ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription]
	
		! !

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 16:31:58'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 16:31:58'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:32:32'!
test18CanNotListPurchasesWithAnInvalidPassword

	self should: [facade listPurchasesOf: self validUser withPassword: self invalidPassword ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription]
	
		! !

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 16:32:34'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 16:32:34'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:33:02'!
test19CanListPurchases

	self should: [facade listPurchasesOf: self validUser withPassword: self invalidPassword ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:36:02'!
test19CanListPurchasesAndSalesAreSaved

	self should: [facade listPurchasesOf: self validUser withPassword: self invalidPassword ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription]
	
		! !

!methodRemoval: TusLibrosFacadeTest #test19CanListPurchases stamp: 'ja 6/23/2021 16:36:07'!
test19CanListPurchases

	self should: [facade listPurchasesOf: self validUser withPassword: self invalidPassword ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription]
	
		!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:36:38' prior: 50896598!
test19CanListPurchasesAndSalesAreSaved

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty .
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:37:20' prior: 50896622!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases isEmpty 
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:37:27' prior: 50896643!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases isEmpty.
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:39:14' prior: 50896666!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases isEmpty.
	self assert: listPurchases 
		! !
!Cashier class methodsFor: 'instance creation' stamp: 'ja 6/23/2021 16:58:46'!
toCheckout: aCart charging: aCreditCard throught: aMerchantProcessor on: aDate registeringOn: aSalesBook ownedBy: anOwner 
	
	self assertIsNotEmpty: aCart.
	self assertIsNotExpired: aCreditCard on: aDate.
	
	^self new initializeToCheckout: aCart charging: aCreditCard throught: aMerchantProcessor registeringOn: aSalesBook! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:58:46' prior: 50892476!
test01CanNotCheckoutAnEmptyCart

	| salesBook |
	
	salesBook := OrderedCollection new.
	self 
		should: [ Cashier 
			toCheckout: testObjectsFactory createCart 
			charging: testObjectsFactory notExpiredCreditCard 
			throught: self
			on: testObjectsFactory today
			registeringOn:  salesBook ownedBy: anOwner ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cartCanNotBeEmptyErrorMessage.
			self assert: salesBook isEmpty ]! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:58:46' prior: 50892452!
test05CashierChargesCreditCardUsingMerchantProcessor

	| cart cashier salesBook total creditCard debitedAmout debitedCreditCard  |

	cart := testObjectsFactory createCart.
	cart add: testObjectsFactory itemSellByTheStore.
	creditCard := testObjectsFactory notExpiredCreditCard.
	salesBook := OrderedCollection new.
 
	cashier:= Cashier 
		toCheckout: cart 
		charging: creditCard
		throught: self
		on: testObjectsFactory today
		registeringOn: salesBook ownedBy: anOwner.
		
	debitBehavior := [ :anAmount :aCreditCard | 
		debitedAmout := anAmount.
		debitedCreditCard := aCreditCard ].
	total := cashier checkOut.
					
	self assert: debitedCreditCard = creditCard.
	self assert: debitedAmout = total.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:58:46' prior: 50892387!
test03CanNotCheckoutWithAnExpiredCreditCart

	| cart salesBook |

	cart := testObjectsFactory createCart.
	cart add: testObjectsFactory itemSellByTheStore.
	salesBook := OrderedCollection new.
	
	self
		should: [ Cashier 
				toCheckout: cart 
				charging: testObjectsFactory expiredCreditCard 
				throught: self
				on: testObjectsFactory today
				registeringOn: salesBook ownedBy: anOwner ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError | 
			self assert: anError messageText = Cashier canNotChargeAnExpiredCreditCardErrorMessage.
			self assert: salesBook isEmpty ]! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:58:46' prior: 50895361!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentCart |
	currentCart _ self cartsAt: aCartId.
	
	^ (Cashier 
		toCheckout: currentCart 
		charging: (CreditCard expiringOn: aDate )
		throught: merchantProcesor
		on: DateAndTime now
		registeringOn: salesBook ownedBy: anOwner) checkOut. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:58:46' prior: 50892494!
test02CalculatedTotalIsCorrect

	| cart cashier |
	
	cart := testObjectsFactory createCart.
	cart add: 2 of: testObjectsFactory itemSellByTheStore.
	
	cashier :=  Cashier
		toCheckout: cart 
		charging: testObjectsFactory notExpiredCreditCard 
		throught: self
		on: testObjectsFactory today 
		registeringOn: OrderedCollection new ownedBy: anOwner.
		
	self assert: cashier checkOut = (testObjectsFactory itemSellByTheStorePrice * 2)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:58:46' prior: 50892408!
test04CheckoutRegistersASale

	| cart cashier salesBook total |

	cart := testObjectsFactory createCart.
	cart add: testObjectsFactory itemSellByTheStore.
	salesBook := OrderedCollection new.
 
	cashier:= Cashier 
		toCheckout: cart 
		charging: testObjectsFactory notExpiredCreditCard
		throught: self
		on: testObjectsFactory today
		registeringOn: salesBook ownedBy: anOwner.
		
	total := cashier checkOut.
					
	self assert: salesBook size = 1.
	self assert: salesBook first total = total.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:58:46' prior: 50892426!
test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit

	| cart cashier salesBook creditCard |

	cart := testObjectsFactory createCart.
	cart add: testObjectsFactory itemSellByTheStore.
	creditCard := testObjectsFactory notExpiredCreditCard.
	salesBook := OrderedCollection new.
 	debitBehavior := [ :anAmount :aCreditCard | self error: Cashier creditCardHasNoCreditErrorMessage].
	
	cashier:= Cashier 
		toCheckout: cart 
		charging: creditCard
		throught: self
		on: testObjectsFactory today
		registeringOn: salesBook ownedBy: anOwner.
		
	self 
		should: [cashier checkOut ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier creditCardHasNoCreditErrorMessage.
			self assert: salesBook isEmpty ]! !

!methodRemoval: Cashier class #toCheckout:charging:throught:on:registeringOn: stamp: 'ja 6/23/2021 16:58:46'!
toCheckout: aCart charging: aCreditCard throught: aMerchantProcessor on: aDate registeringOn: aSalesBook
	
	self assertIsNotEmpty: aCart.
	self assertIsNotExpired: aCreditCard on: aDate.
	
	^self new initializeToCheckout: aCart charging: aCreditCard throught: aMerchantProcessor registeringOn: aSalesBook!
!Cashier methodsFor: 'initialization' stamp: 'ja 6/23/2021 16:59:42'!
initializeToCheckout: aCart charging: aCreditCard throught: aMerchantProcessor registeringOn: aSalesBook ownedBy: anOwner 
	
	cart := aCart.
	creditCard := aCreditCard.
	merchantProcessor := aMerchantProcessor.
	salesBook := aSalesBook! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 16:59:42' prior: 50896712!
toCheckout: aCart charging: aCreditCard throught: aMerchantProcessor on: aDate registeringOn: aSalesBook ownedBy: anOwner 
	
	self assertIsNotEmpty: aCart.
	self assertIsNotExpired: aCreditCard on: aDate.
	
	^self new initializeToCheckout: aCart charging: aCreditCard throught: aMerchantProcessor registeringOn: aSalesBook ownedBy: anOwner! !

!methodRemoval: Cashier #initializeToCheckout:charging:throught:registeringOn: stamp: 'ja 6/23/2021 16:59:42'!
initializeToCheckout: aCart charging: aCreditCard throught: aMerchantProcessor registeringOn: aSalesBook
	
	cart := aCart.
	creditCard := aCreditCard.
	merchantProcessor := aMerchantProcessor.
	salesBook := aSalesBook!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'ja 6/23/2021 16:59:53'!
Object subclass: #Cashier
	instanceVariableNames: 'cart salesBook merchantProcessor creditCard total owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'ja 6/23/2021 16:59:51' prior: 50896883!
initializeToCheckout: aCart charging: aCreditCard throught: aMerchantProcessor registeringOn: aSalesBook ownedBy: anOwner 
	
	cart := aCart.
	creditCard := aCreditCard.
	merchantProcessor := aMerchantProcessor.
	salesBook := aSalesBook.
	owner _ anOwner ! !
!CashierTest methodsFor: 'tests' stamp: 'ja 6/23/2021 17:01:16' prior: 50896726!
test01CanNotCheckoutAnEmptyCart

	| salesBook |
	
	salesBook := OrderedCollection new.
	self 
		should: [ Cashier 
			toCheckout: testObjectsFactory createCart 
			charging: testObjectsFactory notExpiredCreditCard 
			throught: self
			on: testObjectsFactory today
			registeringOn:  salesBook 
			ownedBy: testObjectsFactory user]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cartCanNotBeEmptyErrorMessage.
			self assert: salesBook isEmpty ]! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 17:01:33'!
user

	^'user'! !
!CashierTest methodsFor: 'tests' stamp: 'ja 6/23/2021 17:01:47' prior: 50896807!
test02CalculatedTotalIsCorrect

	| cart cashier |
	
	cart := testObjectsFactory createCart.
	cart add: 2 of: testObjectsFactory itemSellByTheStore.
	
	cashier :=  Cashier
		toCheckout: cart 
		charging: testObjectsFactory notExpiredCreditCard 
		throught: self
		on: testObjectsFactory today 
		registeringOn: OrderedCollection new 
		ownedBy: testObjectsFactory user.
		
	self assert: cashier checkOut = (testObjectsFactory itemSellByTheStorePrice * 2)! !
!CashierTest methodsFor: 'tests' stamp: 'ja 6/23/2021 17:01:53' prior: 50896771!
test03CanNotCheckoutWithAnExpiredCreditCart

	| cart salesBook |

	cart := testObjectsFactory createCart.
	cart add: testObjectsFactory itemSellByTheStore.
	salesBook := OrderedCollection new.
	
	self
		should: [ Cashier 
				toCheckout: cart 
				charging: testObjectsFactory expiredCreditCard 
				throught: self
				on: testObjectsFactory today
				registeringOn: salesBook 
				ownedBy: testObjectsFactory user ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError | 
			self assert: anError messageText = Cashier canNotChargeAnExpiredCreditCardErrorMessage.
			self assert: salesBook isEmpty ]! !
!CashierTest methodsFor: 'tests' stamp: 'ja 6/23/2021 17:01:59' prior: 50896824!
test04CheckoutRegistersASale

	| cart cashier salesBook total |

	cart := testObjectsFactory createCart.
	cart add: testObjectsFactory itemSellByTheStore.
	salesBook := OrderedCollection new.
 
	cashier:= Cashier 
		toCheckout: cart 
		charging: testObjectsFactory notExpiredCreditCard
		throught: self
		on: testObjectsFactory today
		registeringOn: salesBook 
		ownedBy: testObjectsFactory user.
		
	total := cashier checkOut.
					
	self assert: salesBook size = 1.
	self assert: salesBook first total = total.! !
!CashierTest methodsFor: 'tests' stamp: 'ja 6/23/2021 17:02:04' prior: 50896745!
test05CashierChargesCreditCardUsingMerchantProcessor

	| cart cashier salesBook total creditCard debitedAmout debitedCreditCard  |

	cart := testObjectsFactory createCart.
	cart add: testObjectsFactory itemSellByTheStore.
	creditCard := testObjectsFactory notExpiredCreditCard.
	salesBook := OrderedCollection new.
 
	cashier:= Cashier 
		toCheckout: cart 
		charging: creditCard
		throught: self
		on: testObjectsFactory today
		registeringOn: salesBook 
		ownedBy: testObjectsFactory user.
		
	debitBehavior := [ :anAmount :aCreditCard | 
		debitedAmout := anAmount.
		debitedCreditCard := aCreditCard ].
	total := cashier checkOut.
					
	self assert: debitedCreditCard = creditCard.
	self assert: debitedAmout = total.! !
!CashierTest methodsFor: 'tests' stamp: 'ja 6/23/2021 17:02:10' prior: 50896843!
test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit

	| cart cashier salesBook creditCard |

	cart := testObjectsFactory createCart.
	cart add: testObjectsFactory itemSellByTheStore.
	creditCard := testObjectsFactory notExpiredCreditCard.
	salesBook := OrderedCollection new.
 	debitBehavior := [ :anAmount :aCreditCard | self error: Cashier creditCardHasNoCreditErrorMessage].
	
	cashier:= Cashier 
		toCheckout: cart 
		charging: creditCard
		throught: self
		on: testObjectsFactory today
		registeringOn: salesBook 
		ownedBy: testObjectsFactory user.
		
	self 
		should: [cashier checkOut ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier creditCardHasNoCreditErrorMessage.
			self assert: salesBook isEmpty ]! !

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 17:02:12'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 17:02:12'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 17:02:12'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 17:02:12'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 17:02:12'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 17:02:12'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 17:02:12'!
PASSED!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 17:02:31' prior: 50896793!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentCart |
	currentCart _ self cartsAt: aCartId.
	
	^ (Cashier 
		toCheckout: currentCart 
		charging: (CreditCard expiringOn: aDate )
		throught: merchantProcesor
		on: DateAndTime now
		registeringOn: salesBook 
		ownedBy: anOwner) checkOut. ! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 17:02:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 17:02:37'!
ERROR!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 17:02:37'!
ERROR!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 17:03:07' prior: 50896689!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases isEmpty.
	
		! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'ja 6/23/2021 17:11:17'!
Object subclass: #Cashier
	instanceVariableNames: 'cart salesBook merchantProcessor creditCard total owner purchase'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'checkout - private' stamp: 'ja 6/23/2021 17:11:15' prior: 50892296!
createSale

	^ Sale by: owner with: purchase
! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:12:47' prior: 50892309!
checkOut

	self createPurchase.
	self calculateTotal.
	self debitTotal.
	self registerSale.

	^ total! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:13:02'!
createPurchase

	! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:25:38' prior: 50897224!
createPurchase

	| zzz |
	zzz _ Dictionary new.
	cart do:[ :anItem | zzz at: anItem put: (zzz at: anItem ifAbsent:[1] + 1)]! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:26:34' prior: 50897228!
createPurchase

	| purchases |
	purchases _ Dictionary new.
	cart do:[ :anItem | purchases at: anItem put: (purchases at: anItem ifAbsent:[1] + 1)]! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:27:40' prior: 50897235!
createPurchase

	| purchases |
	purchases _ Dictionary new.
	cart items do:[ :anItem | purchases at: anItem put: (purchases at: anItem ifAbsent:[1] + 1)]! !

----QUIT----(23 June 2021 17:27:56) CuisUniversity-4532.image priorSource: 18030297!

----STARTUP---- (23 June 2021 17:28:01) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


pp _ OrderedCollection with: 'a' with: 'a' with: 'b'.!

zz _ pp asDictionary.!

pp _ OrderedCollection with: 'p' with: 'p' with: 'a'.!

pp _ OrderedCollection with: 'p' with: 'p' with: 'a'.
xx _ Bag new.
pp do: [:w | xx add: w].!

pp _ OrderedCollection with: 'p' with: 'p' with: 'a'.
xx _ Bag new.
pp do: [:w | xx add: w].
xx!

xx!

xx contents.!
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:39:40' prior: 50897243!
createPurchase

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:41:14' prior: 50897268!
createPurchase

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].
	
	purchase _ purchases contents.! !
!Cashier methodsFor: 'checkout - private' stamp: 'ja 6/23/2021 17:42:30' prior: 50897213!
createSale

	^ Sale by: owner with: purchase
	
! !

Object subclass: #Receipt
	instanceVariableNames: 'purchases total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Receipt category: 'TusLibros' stamp: 'ja 6/23/2021 17:45:05'!
Object subclass: #Receipt
	instanceVariableNames: 'purchases total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:45:34'!
createReceipt

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].
	
	purchase _ purchases contents.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 17:45:34' prior: 50897218!
checkOut

	self createReceipt.
	self calculateTotal.
	self debitTotal.
	self registerSale.

	^ total! !

!methodRemoval: Cashier #createPurchase stamp: 'ja 6/23/2021 17:45:34'!
createPurchase

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].
	
	purchase _ purchases contents.!
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:46:07' prior: 50897297!
createReceipt

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].
	
	purchase _ purchases contents.
	! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'ja 6/23/2021 17:46:24'!
Object subclass: #Cashier
	instanceVariableNames: 'cart salesBook merchantProcessor creditCard total owner purchase receipt'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:46:22' prior: 50897318!
createReceipt

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].
	
	receipt _ purchases contents.
	! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:47:45' prior: 50897334!
createReceipt

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].
	
	receipt _ Receipt with: purchases contents addingATotalOf: self total.
	! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:48:11' prior: 50897342!
createReceipt

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].
	
	receipt _ Receipt with: purchases contents addingATotalOf: total .
	! !
!Cashier methodsFor: 'checkout' stamp: 'ja 6/23/2021 17:48:57' prior: 50897305!
checkOut

	self 
		calculateTotal;
		createReceipt;
		debitTotal;
		registerSale.

	^ total! !
!Receipt class methodsFor: 'no messages' stamp: 'ja 6/23/2021 17:50:31'!
with: aPurchases addingATotalOf: anAmount 

	^ self new initiliazeWith: aPurchases addingATotalOf: anAmount ! !
!Receipt methodsFor: 'no messages' stamp: 'ja 6/23/2021 17:50:54'!
initiliazeWith: aPurchases addingATotalOf: anAmount 

	purchases _ aPurchases .
	total  _ anAmount ! !
!Cashier methodsFor: 'checkout - private' stamp: 'ja 6/23/2021 17:51:26' prior: 50897282!
createSale

	^ Sale by: owner with: receipt 
	
! !

Object subclass: #Sale
	instanceVariableNames: 'owner receipt total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'ja 6/23/2021 17:52:06'!
Object subclass: #Sale
	instanceVariableNames: 'owner receipt total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale class methodsFor: 'instance creation' stamp: 'ja 6/23/2021 17:52:53'!
by: anOwner with: aReceipt 

	^ self new initializeBy: anOwner with: aReceipt! !
!Sale methodsFor: 'initialization' stamp: 'ja 6/23/2021 17:53:16'!
initializeBy: anOwner with: aReceipt

	owner _ anOwner .
	receipt _ aReceipt ! !

!methodRemoval: Sale class #of: stamp: 'ja 6/23/2021 17:55:42'!
of: aTotal

	"should assert total is not negative or 0!!"
	^self new initializeTotal: aTotal !

!methodRemoval: Sale #initializeTotal: stamp: 'ja 6/23/2021 17:55:48'!
initializeTotal: aTotal

	total := aTotal !

Object subclass: #Sale
	instanceVariableNames: 'owner receipt'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'ja 6/23/2021 17:56:09'!
Object subclass: #Sale
	instanceVariableNames: 'owner receipt'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'total' stamp: 'ja 6/23/2021 17:56:15' prior: 50892569!
total
	
	^ receipt total! !
!Receipt methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 17:56:28'!
total 

	^ total! !

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 17:56:50'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 17:56:50'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 17:56:50'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 17:56:50'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 17:56:50'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 17:56:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 17:56:57'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 17:56:57'!
PASSED!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 17:58:02' prior: 50896288!
listPurchasesOf: anUser withPassword: aPassword

	self assertIf: anUser hasTheCorrect: aPassword.
	^ self salesOwnedBy: anUser.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 17:58:21'!
salesOwnedBy: anUser

	^ OrderedCollection new! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 17:59:44' prior: 50897527!
salesOwnedBy: anUser

	^ salesBook select:[ :aSale | aSale xxx: anUser ]! !
!Sale methodsFor: 'total' stamp: 'ja 6/23/2021 18:00:02'!
xxx: anUser

	! !
!Sale methodsFor: 'total' stamp: 'ja 6/23/2021 18:00:23' prior: 50897537!
xxx: anUser

	^ owner = anUser ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:03:11' prior: 50897532!
salesOwnedBy: anUser

	^ salesBook select:[ :aSale | aSale wasMadeBy: anUser ]! !
!Sale methodsFor: 'total' stamp: 'ja 6/23/2021 18:03:24'!
wasMadeBy: anUser

	^ owner = anUser ! !

!methodRemoval: Sale #xxx: stamp: 'ja 6/23/2021 18:03:26'!
xxx: anUser

	^ owner = anUser !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:17:00' prior: 50897545!
salesOwnedBy: anUser
	
	| allSales purchases |
	
	allSales _ salesBook select:[ :aSale | aSale wasMadeBy: anUser ].
	
	purchases _ Dictionary new.
	allSales do:[ :aSale | purchases addAll: aSale receipt ]! !
!Receipt methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:17:47'!
purchases
	
	^ purchases ! !
!Sale methodsFor: 'initialization' stamp: 'ja 6/23/2021 18:18:32'!
purchases 

	^ receipt purchases ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:18:45' prior: 50897558!
salesOwnedBy: anUser
	
	| allSales purchases |
	
	allSales _ salesBook select:[ :aSale | aSale wasMadeBy: anUser ].
	
	purchases _ Dictionary new.
	allSales do:[ :aSale | purchases addAll: aSale purchases ]! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:19:02' prior: 50897575!
salesOwnedBy: anUser
	
	| allSales purchases |
	
	allSales _ salesBook select:[ :aSale | aSale wasMadeBy: anUser ].
	
	purchases _ Dictionary new.
	allSales do:[ :aSale | purchases addAll: aSale purchases ].
	
	^ purchases ! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:19:15'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:19:15'!
FAILURE!
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:26:52' prior: 50894998!
notExpiredCreditCardOwner

	^ 'validUser'! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:26:56'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 18:27:05'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:27:05'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:27:36' prior: 50897182!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	self halt.
	self deny: listPurchases isEmpty.
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:27:56' prior: 50897750!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases isEmpty.
	
		! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:27:57'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:28:45' prior: 50897773!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases isEmpty.
	self assert: (listPurchases at: self validBook) = 1.
	self assert: (listPurchases at: self otherValidBook ) = 2.		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:30:21' prior: 50897799!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases isEmpty.
	self assert: (listPurchases at: self validBook) = 1.
	self assert: (listPurchases at: self otherValidBook ) = 2.! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 18:30:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:30:22'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:31:24' prior: 50896430!
test17CanNotListPurchasesWithAnInvalidUser

	self should: [facade listPurchasesOf: self invalidUser withPassword: self validPassword ] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: TusLibrosFacade invalidUserOrPasswordErrorDescription]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:31:46' prior: 50895235!
test12CanNotCheckoutWithAnEmptyCart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnEmptyCartErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty . ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:31:51' prior: 50897935!
test12CanNotCheckoutWithAnEmptyCart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnEmptyCartErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:31:57' prior: 50895489!
test13CanNotCheckoutWithAnExpiredCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory expiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnExpiredCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:32:02' prior: 50895684!
test14CanNotCheckoutWithAnInvalidCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier invalidCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory invalidCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory invalidCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnInvalidCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:32:09' prior: 50895875!
test15CanNotCheckoutWithAStolenCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAStolenCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:32:14' prior: 50896064!
test16CanNotCheckoutWhenCreditCardHasNoCredit

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier creditCardHasNoCreditErrorMessage].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWhenCreditCardHasNoCreditErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:32:24' prior: 50895128!
test11CanNotCheckoutWithAnInvalidCartId

	self 
		should: [facade checkout: self invalidCartId 
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) isEmpty ]
	
		! !

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 18:32:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:32:26'!
PASSED!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:41:56' prior: 50897585!
salesOwnedBy: anUser
	
	| allSales purchases total |
	
	allSales _ salesBook select:[ :aSale | aSale wasMadeBy: anUser ].
	
	total _ 0.
	purchases _ Dictionary new.
	allSales do:[ :aSale | purchases addAll: aSale purchases.
		total _ total + aSale total ].
	
	^ purchases ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:45:32' prior: 50898181!
salesOwnedBy: anUser
	
	| allSales purchases total |
	
	allSales _ salesBook select:[ :aSale | aSale wasMadeBy: anUser ].
	
	total _ 0.
	purchases _ Dictionary new.
	allSales do:[ :aSale | purchases addAll: aSale purchases.
		total _ total + aSale total ].
	
	^ OrderedCollection with: purchases with: total.! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:47:05' prior: 50897825!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases first isEmpty.
	self assert: (listPurchases first at: self validBook) = 1.
	self assert: (listPurchases first at: self otherValidBook ) = 2.
	self assert: listPurchases second = testObjectFactory itemSellByTheStorePrice + testObjectFactory otherItemSellByTheStorePrice * 2.! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:47:06'!
ERROR!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:47:32' prior: 50898206!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases first isEmpty.
	self assert: (listPurchases first at: self validBook) = 1.
	self assert: (listPurchases first at: self otherValidBook ) = 2.
	self assert: listPurchases second = testObjectFactory itemSellByTheStorePrice + (testObjectFactory otherItemSellByTheStorePrice * 2).! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:47:51' prior: 50894953!
test10CanCheckOutACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	self deny: (facade listPurchasesOf: self validUser withPassword: self validPassword) first isEmpty .
	
	
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:48:03' prior: 50898090!
test11CanNotCheckoutWithAnInvalidCartId

	self 
		should: [facade checkout: self invalidCartId 
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) first isEmpty ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:48:09' prior: 50897958!
test12CanNotCheckoutWithAnEmptyCart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnEmptyCartErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) first isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:48:15' prior: 50897981!
test13CanNotCheckoutWithAnExpiredCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory expiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnExpiredCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) first isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:48:20' prior: 50898006!
test14CanNotCheckoutWithAnInvalidCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier invalidCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory invalidCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory invalidCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnInvalidCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) first isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:48:26' prior: 50898034!
test15CanNotCheckoutWithAStolenCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAStolenCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) first isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:48:32' prior: 50898062!
test16CanNotCheckoutWhenCreditCardHasNoCredit

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier creditCardHasNoCreditErrorMessage].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWhenCreditCardHasNoCreditErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) first isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:48:45' prior: 50898240!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases first isEmpty.
	self assert: (listPurchases first at: self validBook) = 1.
	self assert: (listPurchases first at: self otherValidBook ) = 2.
	self assert: listPurchases second = testObjectFactory itemSellByTheStorePrice + (testObjectFactory otherItemSellByTheStorePrice * 2) .! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:48:45'!
ERROR!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 18:49:19' prior: 50898445!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases first isEmpty.
	self assert: (listPurchases first at: self validBook) = 1.
	self assert: (listPurchases first at: self otherValidBook ) = 2.
	self assert: listPurchases second = (testObjectFactory itemSellByTheStorePrice + (testObjectFactory otherItemSellByTheStorePrice * 2)) .! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 18:49:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 18:49:20'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:08:51'!
test20CanNotAddItemWhenSessionIsExpired

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases first isEmpty.
	self assert: (listPurchases first at: self validBook) = 1.
	self assert: (listPurchases first at: self otherValidBook ) = 2.
	self assert: listPurchases second = (testObjectFactory itemSellByTheStorePrice + (testObjectFactory otherItemSellByTheStorePrice * 2)) .! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:09:07' prior: 50898580!
test20CanNotAddItemWhenSessionIsExpired

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:12:12' prior: 50898611!
test20CanNotAddItemWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	self adjustTime: [:aTime | aTime + 30 ].
	
	self should: [facade add: 1 of: self validBook to: cartId.] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:12:20' prior: 50898621!
test20CanNotAddItemWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	self adjustTime: [:aTime | aTime + 30 ].
	
	self should: [facade add: 1 of: self validBook to: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:12:46' prior: 50898637!
test20CanNotAddItemWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	self adjustTime: [:aTime | aTime + 31 ].
	
	self should: [facade add: 1 of: self validBook to: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !

Object subclass: #CustomClock
	instanceVariableNames: 'now'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CustomClock category: 'TusLibros' stamp: 'ja 6/23/2021 19:13:29'!
Object subclass: #CustomClock
	instanceVariableNames: 'now'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TusLibrosFacadeTest category: 'TusLibros' stamp: 'ja 6/23/2021 19:14:20'!
TestCase subclass: #TusLibrosFacadeTest
	instanceVariableNames: 'facade testObjectFactory debitBehavior customClock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:14:18' prior: 50895593 overrides: 16927572!
setUp
	
	testObjectFactory _ StoreTestObjectsFactory new.
	customClock _ CustomClock from: testObjectFactory today.
	debitBehavior _ [:anAmount :aCreditCart | ].
	facade _ TusLibrosFacade 
			authenticatingOver: self validUsersAndPasswords
			withCatalog: testObjectFactory defaultCatalog 
			trought: self
			registiringOn: OrderedCollection new.! !
!CustomClock class methodsFor: 'no messages' stamp: 'ja 6/23/2021 19:15:07'!
from: aDate

	^ self new initializeFrom: aDate 
	
	! !
!CustomClock methodsFor: 'no messages' stamp: 'ja 6/23/2021 19:15:17'!
initializeFrom: aDate 

	now _ aDate ! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 19:15:52'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:15:52'!
ERROR!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:15:52'!
ERROR!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:18:10' prior: 50898653!
test20CanNotAddItemWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade add: 1 of: self validBook to: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:19:12'!
adjustTime: aBlock

	customClock adjustTime: aBlock ! !
!CustomClock methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:19:39'!
adjustTime: aBlock 

	aBlock value: now.! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:20:45' prior: 50898786!
test20CanNotAddItemWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade add: 1 of: self validBook to: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !
!CustomClock methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:20:53' prior: 50898806!
adjustTime: aBlock 

	now _ aBlock value: now.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:21:39'!
sessionHasExpiredErrorDescription

	^ 'Session Has Expired'! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:24:11'!
authenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook withClock: aClock 

	^ self new initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:24:11' prior: 50898689 overrides: 16927572!
setUp
	
	testObjectFactory _ StoreTestObjectsFactory new.
	customClock _ CustomClock from: testObjectFactory today.
	debitBehavior _ [:anAmount :aCreditCart | ].
	facade _ TusLibrosFacade 
			authenticatingOver: self validUsersAndPasswords
			withCatalog: testObjectFactory defaultCatalog 
			trought: self
			registiringOn: OrderedCollection new withClock: aClock.! !

!methodRemoval: TusLibrosFacade class #authenticatingOver:withCatalog:trought:registiringOn: stamp: 'ja 6/23/2021 19:24:11'!
authenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook

	^ self new initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:24:30' prior: 50898850 overrides: 16927572!
setUp
	
	testObjectFactory _ StoreTestObjectsFactory new.
	customClock _ CustomClock from: testObjectFactory today.
	debitBehavior _ [:anAmount :aCreditCart | ].
	facade _ TusLibrosFacade 
			authenticatingOver: self validUsersAndPasswords
			withCatalog: testObjectFactory defaultCatalog 
			trought: self
			registiringOn: OrderedCollection new 
			withClock: customClock.! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:25:18'!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook withClock: aClock 
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	salesBook _ aSalesBook .
	merchantProcesor _ aMerchantProcessor .
	carts _ Dictionary new.
	lastId  _ 0 ! !
!TusLibrosFacade class methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:25:18' prior: 50898837!
authenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook withClock: aClock 

	^ self new initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook withClock: aClock! !

!methodRemoval: TusLibrosFacade #initializeAuthenticatingOver:withCatalog:trought:registiringOn: stamp: 'ja 6/23/2021 19:25:18'!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	salesBook _ aSalesBook .
	merchantProcesor _ aMerchantProcessor .
	carts _ Dictionary new.
	lastId  _ 0 !

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/23/2021 19:25:48'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts catalog carts lastId salesBook merchantProcesor clock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:25:45' prior: 50898892!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook withClock: aClock 
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	salesBook _ aSalesBook .
	merchantProcesor _ aMerchantProcessor .
	clock _ aClock.
	carts _ Dictionary new.
	lastId  _ 0 ! !

!classDefinition: #Session category: 'TusLibros' stamp: 'ja 6/23/2021 19:31:37'!
Object subclass: #Session
	instanceVariableNames: 'owner cart facade'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:31:04' prior: 50894176!
createCartFor: anUser withPassword: aPassword
	
	| cartId |
	self assertIf: anUser hasTheCorrect: aPassword.
	
	cartId _ self generateNewId.
	carts at: cartId put: (Session by: anUser with: (Cart acceptingItemsOf: catalog) on: self).
	
	^ cartId
	
	
	
	! !
!Session class methodsFor: 'no messages' stamp: 'ja 6/23/2021 19:32:34'!
by: anUser with: aCart on: aFacade

	^ self new initializeBy: anUser with: aCart on: aFacade! !
!Session methodsFor: 'no messages' stamp: 'ja 6/23/2021 19:33:01'!
initializeBy: anUser with: aCart on: aFacade

	owner  _ anUser .
	cart _ aCart.
	facade _ aFacade ! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:33:03' prior: 50898977!
initializeBy: anUser with: aCart on: aFacade

	owner  _ anUser .
	cart _ aCart.
	facade _ aFacade .! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:33:37' prior: 50898960!
createCartFor: anUser withPassword: aPassword
	
	| cartId |
	self assertIf: anUser hasTheCorrect: aPassword.
	
	cartId _ self generateNewId.
	
	carts at: cartId put: (Session by: anUser with: (Cart acceptingItemsOf: catalog) on: self).
	
	^ cartId
	
	
	
	! !

!classDefinition: #TusLibrosFacade category: 'TusLibros' stamp: 'ja 6/23/2021 19:39:44'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts catalog sessions lastId salesBook merchantProcesor clock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:39:44' prior: 50898939!
initializeAuthenticatingOver: aValidAccounts withCatalog: aCatalog trought: aMerchantProcessor registiringOn: aSalesBook withClock: aClock 
	
	catalog _ aCatalog .
	validAccounts _ aValidAccounts.
	salesBook _ aSalesBook .
	merchantProcesor _ aMerchantProcessor .
	clock _ aClock.
	sessions _ Dictionary new.
	lastId  _ 0 ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:39:44' prior: 50894523!
cartsAt: aCartId

	^ sessions at: aCartId ifAbsent: [self error: self invalidCartIdErrorDescription ]! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:39:44' prior: 50898991!
createCartFor: anUser withPassword: aPassword
	
	| cartId |
	self assertIf: anUser hasTheCorrect: aPassword.
	
	cartId _ self generateNewId.
	
	sessions at: cartId put: (Session by: anUser with: (Cart acceptingItemsOf: catalog) on: self).
	
	^ cartId
	
	
	
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:40:17'!
sessionsAt: aCartId

	^ sessions at: aCartId ifAbsent: [self error: self invalidCartIdErrorDescription ]! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:40:17' prior: 50897097!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentCart |
	currentCart _ self sessionsAt: aCartId.
	
	^ (Cashier 
		toCheckout: currentCart 
		charging: (CreditCard expiringOn: aDate )
		throught: merchantProcesor
		on: DateAndTime now
		registeringOn: salesBook 
		ownedBy: anOwner) checkOut. ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:40:17' prior: 50894483!
add: anAmount of: aBook to: aCartId
	
	| currentCart |
	
	currentCart _ self sessionsAt: aCartId.
	currentCart add: anAmount of: aBook.
	
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:40:17' prior: 50894822!
listCartById: aCartId

	^ (self sessionsAt: aCartId) items
	
	! !

!methodRemoval: TusLibrosFacade #cartsAt: stamp: 'ja 6/23/2021 19:40:17'!
cartsAt: aCartId

	^ sessions at: aCartId ifAbsent: [self error: self invalidCartIdErrorDescription ]!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:40:31' prior: 50899066!
add: anAmount of: aBook to: aCartId
	
	| currentSession |
	
	currentSession _ self sessionsAt: aCartId.
	currentSession add: anAmount of: aBook.
	
	! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:40:51'!
add: anAmount of: aBook! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:43:07' prior: 50899093!
add: anAmount of: aBook
	
	self assertIfExpired.
	cart add: anAmount of: aBook .! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:43:25'!
assertIfExpired

	! !

!classDefinition: #Session category: 'TusLibros' stamp: 'ja 6/23/2021 19:50:18'!
Object subclass: #Session
	instanceVariableNames: 'owner cart facade lastTime'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:50:15' prior: 50899102!
assertIfExpired

	(lastTime + facade sessionDuration < facade now) ifTrue:[ self error: self sessionExpiredErrorDescription]! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:50:41'!
sessionDuration

	^ 30 minutes! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:50:50'!
now

	^ clock now! !
!CustomClock methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:51:07'!
now! !
!CustomClock methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:51:13' prior: 50899128!
now

	^ now! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:52:23'!
sessionHasExpiredErrorDescription

	^'Session has expired'! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:52:33' prior: 50899113!
assertIfExpired

	(lastTime + facade sessionDuration < facade now) ifTrue:[ self error: self sessionHasExpiredErrorDescription]! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:53:17' prior: 50898832!
sessionHasExpiredErrorDescription

	^ Session sessionHasExpiredErrorDescription! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:53:26' prior: 50899140!
assertIfExpired

	(lastTime + facade sessionDuration < facade now) ifTrue:[ self error: self class sessionHasExpiredErrorDescription]! !

!methodRemoval: Session #sessionHasExpiredErrorDescription stamp: 'ja 6/23/2021 19:53:35'!
sessionHasExpiredErrorDescription

	^'Session has expired'!
!Session class methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:53:40'!
sessionHasExpiredErrorDescription

	^'Session has expired'! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:53:57' prior: 50899154!
assertIfExpired

	(lastTime + facade sessionDuration < facade now) ifTrue:[ self error: self sessionHasExpiredErrorDescription]! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:54:00'!
sessionHasExpiredErrorDescription

	^'Session has expired'! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:54:09' prior: 50899171!
assertIfExpired

	(lastTime + facade sessionDuration < facade now) ifTrue:[self error: self sessionHasExpiredErrorDescription]! !

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:54:22'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:54:22'!
FAILURE!
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:54:50' prior: 50899183!
assertIfExpired

	((lastTime + facade sessionDuration) < facade now) ifTrue:[self error: self sessionHasExpiredErrorDescription]! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 19:54:55'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 19:54:55'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 19:54:55'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 19:54:55'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 19:54:55'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 19:54:55'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 19:54:55'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 19:54:55'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 19:54:55'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 19:54:55'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 19:54:55'!
ERROR!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:54:55'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:55:03'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:55:03'!
FAILURE!
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:56:23' prior: 50899198!
assertIfExpired

	((lastTime + facade sessionDuration) > facade now) ifTrue:[self error: self sessionHasExpiredErrorDescription]! !

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:56:32'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:56:32'!
FAILURE!
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:56:45' prior: 50899283!
assertIfExpired

	((lastTime + facade sessionDuration) < facade now) ifTrue:[self error: self sessionHasExpiredErrorDescription]! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:57:57' prior: 50898984!
initializeBy: anUser with: aCart on: aFacade

	owner  _ anUser .
	cart _ aCart.
	facade _ aFacade .
	lastTime _ facade now.! !

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:58:06'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 19:58:09'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 19:58:09'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 19:58:09'!
ERROR!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 19:58:09'!
ERROR!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 19:58:09'!
ERROR!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 19:58:09'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 19:58:09'!
ERROR!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 19:58:09'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 19:58:09'!
ERROR!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 19:58:09'!
ERROR!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 19:58:09'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 19:58:09'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 19:58:09'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 19:58:09'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 19:58:09'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 19:58:09'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 19:58:09'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 19:58:09'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 19:58:09'!
ERROR!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 19:58:09'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:59:33'!
test21CanNotListCartWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade add: 1 of: self validBook to: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 19:59:53' prior: 50899386!
test21CanNotListCartWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade listCartById: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 19:59:59'!
FAILURE!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:01:09' prior: 50899074!
listCartById: aCartId

	^ (self sessionsAt: aCartId) itemsOfCart.
	
	! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:01:28'!
itemsOfCart
	
	self assertIfExpired.
	cart items! !

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:01:35'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 20:01:38'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 20:01:38'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 20:01:38'!
ERROR!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 20:01:38'!
ERROR!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 20:01:38'!
ERROR!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 20:01:38'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 20:01:38'!
ERROR!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 20:01:38'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 20:01:38'!
ERROR!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 20:01:38'!
ERROR!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 20:01:38'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 20:01:38'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 20:01:38'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 20:01:38'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 20:01:38'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 20:01:38'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 20:01:38'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 20:01:38'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 20:01:38'!
ERROR!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 20:01:38'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:01:38'!
PASSED!
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:02:32' prior: 50899427!
itemsOfCart
	
	self assertIfExpired.
	^ cart items! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 20:02:41'!
ERROR!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 20:02:41'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 20:02:41'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 20:02:41'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 20:02:41'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 20:02:41'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 20:02:41'!
ERROR!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 20:02:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:02:41'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:03:39'!
test21CanNotCheckoutWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade listCartById: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:03:48'!
test22CanNotListCartWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade listCartById: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !

!methodRemoval: TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:03:48'!
test21CanNotListCartWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade listCartById: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:04:06'!
test21CanNotListCartWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade listCartById: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !

!methodRemoval: TusLibrosFacadeTest #test22CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:04:06'!
test22CanNotListCartWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade listCartById: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:04:15'!
test22CanNotCheckoutWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade listCartById: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !

!methodRemoval: TusLibrosFacadeTest #test21CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:04:15'!
test21CanNotCheckoutWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade listCartById: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:04:54' prior: 50899671!
test22CanNotCheckoutWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner.] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription]
	
	! !

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:04:59'!
FAILURE!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:05:25' prior: 50899051!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentSession |
	currentSession _ self sessionsAt: aCartId.
	
	^ (Cashier 
		toCheckout: currentSession 
		charging: (CreditCard expiringOn: aDate )
		throught: merchantProcesor
		on: DateAndTime now
		registeringOn: salesBook 
		ownedBy: anOwner) checkOut. ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:08:34' prior: 50899730!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentSession |
	currentSession _ self sessionsAt: aCartId.
	currentSession checkoutWithCreditCardExpiringOn: aDate. 
	^ (Cashier 
		toCheckout: currentSession 
		charging: (CreditCard expiringOn: aDate )
		throught: merchantProcesor
		on: DateAndTime now
		registeringOn: salesBook 
		ownedBy: anOwner) checkOut. ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:08:45' prior: 50899745!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentSession |
	currentSession _ self sessionsAt: aCartId.
	^ currentSession checkoutWithCreditCardExpiringOn: aDate. 
	! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:10:41'!
checkoutWhitCreditCardExpiringOn: aDate 

	^ (Cashier 
		toCheckout: cart
		charging: (CreditCard expiringOn: aDate )
		throught: facade merchantProcessor
		on: facade now date
		registeringOn: facade salesBook
		ownedBy: owner) checkOut. ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:10:55'!
merchantProcessor

	^ merchantProcesor ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:11:07'!
salesBook
	^ salesBook ! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:11:09' prior: 50899787!
salesBook
	
	^ salesBook ! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:11:29' prior: 50899772!
checkoutWhitCreditCardExpiringOn: aDate 

	self assertIfExpired.
	^ (Cashier 
		toCheckout: cart
		charging: (CreditCard expiringOn: aDate )
		throught: facade merchantProcessor
		on: facade now date
		registeringOn: facade salesBook
		ownedBy: owner) checkOut. ! !

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:11:36'!
FAILURE!
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:12:52' prior: 50899762!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentSession |
	currentSession _ self sessionsAt: aCartId.
	^ currentSession checkoutWhitCreditCardExpiringOn: aDate. 
	! !
!TusLibrosFacade methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:13:08' prior: 50899810!
checkout: aCartId withCreditCardNumber: aCreditCardNumber expiringOn: aDate withOwner: anOwner 
	
	| currentSession |
	currentSession _ self sessionsAt: aCartId.
	^ currentSession checkoutWithCreditCardExpiringOn: aDate. 
	! !
!Session methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:13:22'!
checkoutWithCreditCardExpiringOn: aDate 

	self assertIfExpired.
	^ (Cashier 
		toCheckout: cart
		charging: (CreditCard expiringOn: aDate )
		throught: facade merchantProcessor
		on: facade now date
		registeringOn: facade salesBook
		ownedBy: owner) checkOut. ! !

!methodRemoval: Session #checkoutWhitCreditCardExpiringOn: stamp: 'ja 6/23/2021 20:13:22'!
checkoutWhitCreditCardExpiringOn: aDate 

	self assertIfExpired.
	^ (Cashier 
		toCheckout: cart
		charging: (CreditCard expiringOn: aDate )
		throught: facade merchantProcessor
		on: facade now date
		registeringOn: facade salesBook
		ownedBy: owner) checkOut. !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:13:26'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:13:26'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:14:48' prior: 50898811!
test20CanNotAddItemWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade add: 1 of: self validBook to: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription.
			self adjustTime: [:aTime | aTime - 31 minutes].
			self assert: (facade listCartById: cartId) isEmpty ]
	
	! !

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:14:49'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:14:49'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:14:52' prior: 50899932!
test20CanNotAddItemWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade add: 1 of: self validBook to: cartId] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription.
			self adjustTime: [:aTime | aTime - 31 minutes].
			self assert: (facade listCartById: cartId) isEmpty]
	
	! !
!TusLibrosFacadeTest methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 20:15:31' prior: 50899704!
test22CanNotCheckoutWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner.] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) first isEmpty]
	
	! !

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:15:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:54:13'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 20:54:18'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:09:11'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:17:20'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:17:20'!
PASSED!
!TusLibrosFacade methodsFor: 'protocol' stamp: 'ja 6/23/2021 21:22:41' prior: 50899033!
createCartFor: anUser withPassword: aPassword
	
	| cartId |
	
	self assertIf: anUser hasTheCorrect: aPassword.
	
	cartId _ self generateNewId.
	
	sessions at: cartId put: (Session by: anUser with: (Cart acceptingItemsOf: catalog) on: self).
	
	^ cartId
	
	
	
	! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:28:41'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:31:37'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:31:37'!
PASSED!
!TusLibrosFacade methodsFor: 'protocol' stamp: 'ja 6/23/2021 21:33:30' prior: 50899422!
listCartById: aCartId

	^ self sessionsAt: aCartId itemsOfCart.
	
	! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:33:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:33:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:33:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:33:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:33:32'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:33:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:33:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:33:33'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:33:33'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:33:33'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:33:33'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:33:33'!
ERROR!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:33:33'!
FAILURE!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:33:33'!
PASSED!
!TusLibrosFacade methodsFor: 'protocol' stamp: 'ja 6/23/2021 21:33:44' prior: 50900819!
listCartById: aCartId

	^ (self sessionsAt: aCartId) itemsOfCart.
	
	! !

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:33:45'!
PASSED!

Object subclass: #PurchaseReceipt
	instanceVariableNames: 'purchases total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #PurchaseReceipt category: 'TusLibros' stamp: 'ja 6/23/2021 21:47:52'!
Object subclass: #PurchaseReceipt
	instanceVariableNames: 'purchases total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!PurchaseReceipt class methodsFor: 'no messages' stamp: 'ja 6/23/2021 21:48:39'!
with: aPurchases with: aNumber

	^ self new initialize	! !
!PurchaseReceipt class methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 21:49:29'!
with: aPurchases addingATotalOf: aNumber

	^ self new initialize	! !

!methodRemoval: PurchaseReceipt class #with:with: stamp: 'ja 6/23/2021 21:49:29'!
with: aPurchases with: aNumber

	^ self new initialize	!
!PurchaseReceipt class methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 21:49:56' prior: 50901002!
with: aPurchases addingATotalOf: anAmount

	^ self new initiliazeWith: aPurchases addingATotalOf: anAmount ! !

!methodRemoval: PurchaseReceipt class #with:addingATotalOf: stamp: 'ja 6/23/2021 21:51:10'!
with: aPurchases addingATotalOf: anAmount

	^ self new initiliazeWith: aPurchases addingATotalOf: anAmount !

!classRemoval: #PurchaseReceipt stamp: 'ja 6/23/2021 21:51:18'!
Object subclass: #PurchaseReceipt
	instanceVariableNames: 'purchases total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:51:22'!
PASSED!

!classRenamed: #Receipt as: #PurchaseReceipt stamp: 'ja 6/23/2021 21:51:46'!
Smalltalk renameClassNamed: #Receipt as: #PurchaseReceipt!
!Cashier methodsFor: 'as yet unclassified' stamp: 'ja 6/23/2021 21:51:46' prior: 50897351!
createReceipt

	| purchases |
	
	purchases _ Bag new.
	
	cart items do: [:anItem | purchases add: anItem ].
	
	receipt _ PurchaseReceipt with: purchases contents addingATotalOf: total .
	! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:51:59'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:51:59'!
PASSED!
!TusLibrosFacade methodsFor: 'private' stamp: 'ja 6/23/2021 21:52:37' prior: 50898193!
salesOwnedBy: anUser
	
	| allSales purchases total |
	
	allSales _ salesBook select:[ :aSale | aSale wasMadeBy: anUser ].
	
	total _ 0.
	purchases _ Dictionary new.
	allSales do:[ :aSale | purchases addAll: aSale purchases.
		total _ total + aSale total ].
	
	^ PurchaseReceipt with: purchases addingATotalOf: total.! !
!TusLibrosFacadeTest methodsFor: 'list purchases test' stamp: 'ja 6/23/2021 21:53:30' prior: 50898479!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases purchases isEmpty.
	self assert: (listPurchases purchases at: self validBook) = 1.
	self assert: (listPurchases purchases at: self otherValidBook ) = 2.
	self assert: listPurchases total = (testObjectFactory itemSellByTheStorePrice + (testObjectFactory otherItemSellByTheStorePrice * 2)) .! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:53:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:53:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:53:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:53:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:53:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:53:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:53:32'!
ERROR!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:53:32'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:53:32'!
ERROR!
!TusLibrosFacadeTest methodsFor: 'checkout test' stamp: 'ja 6/23/2021 21:53:42' prior: 50898271!
test10CanCheckOutACart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	self deny: (facade listPurchasesOf: self validUser withPassword: self validPassword) purchases isEmpty .
	
	
	
		! !
!TusLibrosFacadeTest methodsFor: 'checkout test' stamp: 'ja 6/23/2021 21:53:51' prior: 50898292!
test11CanNotCheckoutWithAnInvalidCartId

	self 
		should: [facade checkout: self invalidCartId 
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade invalidCartIdErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) purchases isEmpty ]
	
		! !
!TusLibrosFacadeTest methodsFor: 'checkout test' stamp: 'ja 6/23/2021 21:54:05' prior: 50898312!
test12CanNotCheckoutWithAnEmptyCart

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnEmptyCartErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) purchases isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'checkout test' stamp: 'ja 6/23/2021 21:54:11' prior: 50898335!
test13CanNotCheckoutWithAnExpiredCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory expiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnExpiredCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) purchases isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'checkout test' stamp: 'ja 6/23/2021 21:54:18' prior: 50898360!
test14CanNotCheckoutWithAnInvalidCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier invalidCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory invalidCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory invalidCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAnInvalidCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) purchases isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'checkout test' stamp: 'ja 6/23/2021 21:54:25' prior: 50898388!
test15CanNotCheckoutWithAStolenCreditCard

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier stolenCreditCardErrorDescription].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWithAStolenCreditCardErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) purchases isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'checkout test' stamp: 'ja 6/23/2021 21:54:32' prior: 50898416!
test16CanNotCheckoutWhenCreditCardHasNoCredit

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	debitBehavior _ [:anAmount :aCreditCard | self error: Cashier creditCardHasNoCreditErrorMessage].

	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate 
			withOwner: testObjectFactory notExpiredCreditCardOwner] 
		raise: Error 
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: facade canNotCheckoutWhenCreditCardHasNoCreditErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) purchases isEmpty]
	
		! !
!TusLibrosFacadeTest methodsFor: 'session test' stamp: 'ja 6/23/2021 21:54:38' prior: 50900052!
test22CanNotCheckoutWhenSessionIsExpired

	| cartId |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	self adjustTime: [:aTime | aTime + 31 minutes].
	
	self should: [facade checkout: cartId
			withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
			expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
			withOwner: testObjectFactory notExpiredCreditCardOwner.] 
		raise: Error
		withExceptionDo: [:anError | 
			self assert: anError  messageText equals: facade sessionHasExpiredErrorDescription.
			self assert: (facade listPurchasesOf: self validUser withPassword: self validPassword) purchases isEmpty]
	
	! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:54:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:54:42'!
PASSED!
!TusLibrosFacadeTest methodsFor: 'list purchases test' stamp: 'ja 6/23/2021 21:55:24' prior: 50901305!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases purchases isEmpty.
	self assert: (listPurchases purchases at: self validBook) = 1.
	self assert: (listPurchases purchases at: self otherValidBook ) = 2.
	self assert: listPurchases total = (testObjectFactory itemSellByTheStorePrice + testObjectFactory otherItemSellByTheStorePrice * 2) .! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:55:25'!
FAILURE!
!TusLibrosFacadeTest methodsFor: 'list purchases test' stamp: 'ja 6/23/2021 21:55:35' prior: 50901739!
test19CanListPurchasesAndSalesAreSaved

	| cartId listPurchases |
	
	cartId _ facade createCartFor: self validUser withPassword: 	self validPassword.
	facade add: 1 of: self validBook to: cartId.
	facade add: 2 of: self otherValidBook to: cartId.
	
	facade checkout: cartId
		withCreditCardNumber: testObjectFactory notExpiredCreditCardNumber 
		expiringOn: testObjectFactory notExpiredCreditCardExpiringDate
		withOwner: testObjectFactory notExpiredCreditCardOwner.
	
	listPurchases _ facade listPurchasesOf: self validUser withPassword: self validPassword.
	
	self deny: listPurchases purchases isEmpty.
	self assert: (listPurchases purchases at: self validBook) = 1.
	self assert: (listPurchases purchases at: self otherValidBook ) = 2.
	self assert: listPurchases total = (testObjectFactory itemSellByTheStorePrice + (testObjectFactory otherItemSellByTheStorePrice * 2)).! !

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 21:55:36'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 22:07:59'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 22:07:59'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 22:07:59'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 22:07:59'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 22:07:59'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 22:08:00'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/23/2021 22:14:42'!
PASSED!

----QUIT----(23 June 2021 22:19:09) CuisUniversity-4532.image priorSource: 18099196!

----STARTUP---- (24 June 2021 15:23:44) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/24/2021 15:23:50'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/24/2021 15:23:50'!
PASSED!
!Session methodsFor: 'assertions' stamp: 'ja 6/24/2021 15:24:19' prior: 50899298!
assertIfExpired

	((lastTime + facade sessionDuration) < facade now) ifTrue:[self error: self sessionHasExpiredErrorDescription].
	lastTime _ facade now.! !
!Session methodsFor: 'assertions' stamp: 'ja 6/24/2021 15:25:16' prior: 50902261!
assertIfExpired
	
	| now |
	now _ facade now.
	((lastTime + facade sessionDuration) < now) ifTrue:[self error: self sessionHasExpiredErrorDescription].
	lastTime _ now.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/24/2021 15:25:21'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/24/2021 15:25:21'!
PASSED!
!Session methodsFor: 'assertions' stamp: 'ja 6/24/2021 15:25:51' prior: 50902269!
assertIfExpired
	
	| now |
	now _ facade now.
	
	((lastTime + facade sessionDuration) < now) ifTrue:[self error: self sessionHasExpiredErrorDescription].
	
	lastTime _ now.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/24/2021 15:28:03'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/24/2021 15:29:22'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test01CanNotCreateCartWithAnInvalidUser stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test02CanNotCreateCartWithAnInvalidPassword stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test03CanCreateCartWithAValidUserAndPassword stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test04CanAddABookToACart stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test05CanNotAddABookNotSellByTheStore stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test06CanNotAddABookToAnInvalidCartId stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test07CanNotAddAnInvalidQuantityOfABook stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test08CanNotListCartOfAnInvalidCartId stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test09ListCartReturnsTheCorrectQuantityOfAllAddedBooks stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test10CanCheckOutACart stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test11CanNotCheckoutWithAnInvalidCartId stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test12CanNotCheckoutWithAnEmptyCart stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test14CanNotCheckoutWithAnInvalidCreditCard stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test15CanNotCheckoutWithAStolenCreditCard stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test16CanNotCheckoutWhenCreditCardHasNoCredit stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test17CanNotListPurchasesWithAnInvalidUser stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test18CanNotListPurchasesWithAnInvalidPassword stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test19CanListPurchasesAndSalesAreSaved stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test20CanNotAddItemWhenSessionIsExpired stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test21CanNotListCartWhenSessionIsExpired stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

!testRun: #TusLibrosFacadeTest #test22CanNotCheckoutWhenSessionIsExpired stamp: 'ja 6/24/2021 15:31:03'!
PASSED!

----SNAPSHOT----(24 June 2021 15:31:10) CuisUniversity-4532.image priorSource: 18255393!

----QUIT----(24 June 2021 15:45:49) CuisUniversity-4532.image priorSource: 18276053!

----STARTUP---- (26 June 2021 12:27:20) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #ObserverPosition stamp: 'ja 6/26/2021 12:27:32'!
MarsRoversObserver subclass: #ObserverPosition
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #ObserverHeading stamp: 'ja 6/26/2021 12:27:32'!
MarsRoversObserver subclass: #ObserverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoversObserver stamp: 'ja 6/26/2021 12:27:33'!
Object subclass: #MarsRoversObserver
	instanceVariableNames: 'tracker'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #Window stamp: 'ja 6/26/2021 12:27:33'!
MarsRoverTracking subclass: #Window
	instanceVariableNames: 'headingView positionView'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #Log stamp: 'ja 6/26/2021 12:27:34'!
MarsRoverTracking subclass: #Log
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverTracking stamp: 'ja 6/26/2021 12:27:34'!
Object subclass: #MarsRoverTracking
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingWest stamp: 'ja 6/26/2021 12:27:35'!
MarsRoverHeading subclass: #MarsRoverHeadingWest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingSouth stamp: 'ja 6/26/2021 12:27:35'!
MarsRoverHeading subclass: #MarsRoverHeadingSouth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingNorth stamp: 'ja 6/26/2021 12:27:36'!
MarsRoverHeading subclass: #MarsRoverHeadingNorth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingEast stamp: 'ja 6/26/2021 12:27:36'!
MarsRoverHeading subclass: #MarsRoverHeadingEast
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeading stamp: 'ja 6/26/2021 12:27:37'!
Object subclass: #MarsRoverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRover stamp: 'ja 6/26/2021 12:27:37'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head observers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #TestObservers stamp: 'ja 6/26/2021 12:27:38'!
TestCase subclass: #TestObservers
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverTest stamp: 'ja 6/26/2021 12:27:39'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

----End fileIn of /home/jampuero/Documentos/isw1/2020/Parciales/2019-2c/2doParcial/MarsRover-IS1-2Parcial-2c2019.st----!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 12:40:32'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 12:40:33'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 12:40:33'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 12:41:11'!
test17

	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 12:43:46'!
test17TheDigitCanNotBeProcessedWithoutAPreviousCommand



	! !

!methodRemoval: MarsRoverTest #test17 stamp: 'ja 6/26/2021 12:43:52'!
test17

	!

Object subclass: #CustomStringParser
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParser category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 12:45:53'!
Object subclass: #CustomStringParser
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParser class methodsFor: 'no messages' stamp: 'ja 6/26/2021 12:46:34'!
toParser: aString ! !

CustomStringParser subclass: #CustomStringParserForNameTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParserForNameTest category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 12:47:12'!
CustomStringParser subclass: #CustomStringParserForNameTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

CustomStringParser subclass: #CustomStringParserForMessageErrorDescription
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParserForMessageErrorDescription category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 12:47:32'!
CustomStringParser subclass: #CustomStringParserForMessageErrorDescription
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParser class methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 12:49:04' prior: 50903520!
toParser: aString 

	^ self new initializeWith: aString ! !

Object subclass: #CustomStringParser
	instanceVariableNames: 'stringToParse'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParser category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 12:49:31'!
Object subclass: #CustomStringParser
	instanceVariableNames: 'stringToParse'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParser methodsFor: 'no messages' stamp: 'ja 6/26/2021 12:49:54'!
initializeWith: aString 

	stringToParse _ aString ! !
!CustomStringParserForMessageErrorDescription methodsFor: 'no messages' stamp: 'ja 6/26/2021 12:50:21'!
parse

	! !
!CustomStringParserForNameTest methodsFor: 'no messages' stamp: 'ja 6/26/2021 12:50:27'!
parse! !
!CustomStringParser methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 12:50:36'!
parse

	self subclassResponsibility ! !

TestCase subclass: #CustomStringParserTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParserTest category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 12:51:29'!
TestCase subclass: #CustomStringParserTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParserTest methodsFor: 'no messages' stamp: 'ja 6/26/2021 12:54:14'!
test01CanNotParseAnEmptyString

	self should: [CustomStringParserForNameTest toParser: ''] 
		raise: Error 
		withMessageText: [:anError | self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDescription]! !
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 12:54:35' prior: 50903601!
test01CanNotParseAnEmptyString

	self should: [CustomStringParserForNameTest toParser: ''] 
		raise: Error 
		withMessageText: [:anError | self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDescription].
		
	self should: [CustomStringParserForMessageErrorDescription toParser: ''] 
		raise: Error 
		withMessageText: [:anError | self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDescription]! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 12:54:38'!
FAILURE!
!CustomStringParser class methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 12:55:28' prior: 50903554!
toParser: aString 
	
	aString isEmpty ifTrue: [self error: self canNotParseAnEmptyStringErrorDescription].
	
	^ self new initializeWith: aString ! !
!CustomStringParser class methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 12:56:01'!
canNotParseAnEmptyStringErrorDescription

	^ 'Can Not Parse An Empty String'! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 12:56:21'!
ERROR!

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 12:56:46'!
ERROR!

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 12:57:03'!
ERROR!

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 12:57:17'!
ERROR!
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 12:58:27' prior: 50903612!
test01CanNotParseAnEmptyString

	self should: [CustomStringParserForNameTest toParser: ''] 
		raise: Error 
		withExceptionDo: [:anError | self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDescription].
		
	self should: [CustomStringParserForMessageErrorDescription toParser: ''] 
		raise: Error 
		withExceptionDo: [:anError | self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDescription]! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 12:58:28'!
PASSED!

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 12:58:28'!
PASSED!
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:00:33'!
test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen

	! !
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:02:03' prior: 50903687!
test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen

	| nameTest |
	
	nameTest _ CustomStringParserForNameTest 
		toParser: 'esto es un nombre de test'; 
		parse.
	
	self assert: nameTest ! !
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:02:21' prior: 50903693!
test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen

	| nameTest |
	
	nameTest _ CustomStringParserForNameTest 
		toParser: 'esto es un nombre de test'; 
		parse.
	
	self assert: nameTest equals: 'EstoEsUnNombreDeTest'.! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:02:23'!
ERROR!
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:02:45' prior: 50903703!
test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen

	| nameTest |
	
	nameTest _ (CustomStringParserForNameTest toParser: 'esto es un nombre de test') parse.
	
	self assert: nameTest equals: 'EstoEsUnNombreDeTest'.! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:02:46'!
FAILURE!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:06:38' prior: 50903581 overrides: 50903584!
parse
		
	stringToParse do:[:aChar | aChar ]! !

'es es' replaceAll: ' ' with: ''.!

'es es' replaceAll: ' ' with: ''.  !

'es es' replaceAll: $ with: ''.!

'es es' replaceAll: ' ' with: ''.!

'es es' replaceAll: $e with: ''.!

'es es' replaceAll: 'e' with: ''.!

'es es' replaceAll: 'e' with: 'a'.!

'es es'  asArray.!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:31:01' prior: 50903734 overrides: 50903584!
parse

	| previous newString|
	
	previous _ stringToParse first.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar ] 
			ifFalse: [newString _ newString, aChar ].
		previous _ aChar].
	
	newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:31:09'!
ERROR!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:31:54' prior: 50903749 overrides: 50903584!
parse

	| previous newString|
	
	previous _ stringToParse first.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:31:55'!
FAILURE!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:32:25' prior: 50903768 overrides: 50903584!
parse

	| previous newString|
	
	previous _ stringToParse first asString .
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:32:27'!
ERROR!

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:32:38'!
ERROR!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:32:58' prior: 50903787 overrides: 50903584!
parse

	| previous newString|
	
	previous _ stringToParse first.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:33:00'!
FAILURE!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:33:25' prior: 50903811 overrides: 50903584!
parse

	| previous newString|
	
	previous _ stringToParse first.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:33:26'!
FAILURE!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:33:42' prior: 50903830 overrides: 50903584!
parse

	| previous newString |
	
	previous _ stringToParse first.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:34:22' prior: 50903849 overrides: 50903584!
parse

	| previous newString |
	
	previous _ stringToParse first.
	newString _ '', stringToParse first.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:34:42' prior: 50903864 overrides: 50903584!
parse

	| previous newString |
	
	previous _ stringToParse first.
	newString _ '', stringToParse first asUppercase.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:34:58'!
ERROR!

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:34:58'!
ERROR!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:35:48' prior: 50903880 overrides: 50903584!
parse

	| previous newString |
	
	previous _ stringToParse first.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !

'es' first.!

'es' first asUppercase.!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:39:24' prior: 50903904 overrides: 50903584!
parse

	| previous newString |
	
	previous _ stringToParse first.
	newString _ stringToParse first asUppercase asString.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:39:29'!
FAILURE!

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:39:29'!
FAILURE!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:40:49' prior: 50903920 overrides: 50903584!
parse

	| previous newString |
	
	previous _ stringToParse first.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator 
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:41:53' prior: 50903945 overrides: 50903584!
parse

	| previous newString |
	
	previous _ stringToParse first.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:43:06'!
FAILURE!

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:43:06'!
FAILURE!
!CustomStringParserForNameTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 13:43:38' prior: 50903960 overrides: 50903584!
parse

	| previous newString |
	
	previous _ stringToParse first asUppercase.
	newString _ ''.
	stringToParse do:[:aChar | | newChar |
		previous isSeparator
			ifTrue: [ newChar _ aChar asUppercase.
				newString _ newString, newChar asString ] 
			ifFalse: [newString _ newString, aChar asString ].
		previous _ aChar].
	
	^ newString ! !

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:43:57'!
FAILURE!

!testRun: #CustomStringParserTest #test02CanParseToNameTestWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 13:43:57'!
FAILURE!

----STARTUP---- (26 June 2021 18:49:25) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(26 June 2021 18:50:18) CuisUniversity-4532.image priorSource: 18276143!

----STARTUP---- (26 June 2021 18:50:34) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #ObserverPosition stamp: 'ja 6/26/2021 18:50:58'!
MarsRoversObserver subclass: #ObserverPosition
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #ObserverHeading stamp: 'ja 6/26/2021 18:50:58'!
MarsRoversObserver subclass: #ObserverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoversObserver stamp: 'ja 6/26/2021 18:50:59'!
Object subclass: #MarsRoversObserver
	instanceVariableNames: 'tracker'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #Window stamp: 'ja 6/26/2021 18:50:59'!
MarsRoverTracking subclass: #Window
	instanceVariableNames: 'headingView positionView'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #Log stamp: 'ja 6/26/2021 18:51:00'!
MarsRoverTracking subclass: #Log
	instanceVariableNames: 'records'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverTracking stamp: 'ja 6/26/2021 18:51:00'!
Object subclass: #MarsRoverTracking
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingWest stamp: 'ja 6/26/2021 18:51:01'!
MarsRoverHeading subclass: #MarsRoverHeadingWest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingSouth stamp: 'ja 6/26/2021 18:51:01'!
MarsRoverHeading subclass: #MarsRoverHeadingSouth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingNorth stamp: 'ja 6/26/2021 18:51:01'!
MarsRoverHeading subclass: #MarsRoverHeadingNorth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingEast stamp: 'ja 6/26/2021 18:51:02'!
MarsRoverHeading subclass: #MarsRoverHeadingEast
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeading stamp: 'ja 6/26/2021 18:51:02'!
Object subclass: #MarsRoverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRover stamp: 'ja 6/26/2021 18:51:03'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head observers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #TestObservers stamp: 'ja 6/26/2021 18:51:04'!
TestCase subclass: #TestObservers
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverTest stamp: 'ja 6/26/2021 18:51:04'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

Object subclass: #CustomStringParser
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParser category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 18:55:16'!
Object subclass: #CustomStringParser
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

TestCase subclass: #CustomStringParserTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParserTest category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 18:56:11'!
TestCase subclass: #CustomStringParserTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParserTest methodsFor: 'no messages' stamp: 'ja 6/26/2021 18:56:39'!
test01CanNotParseAnEmptyString

	! !
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 18:57:58' prior: 50902914!
test01CanNotParseAnEmptyString

	self should: []
		raise:  Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDesciption]! !

!classDefinition: #CustomStringParserToTestName category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 18:59:07'!
CustomStringParser subclass: #CustomStringParserToTestName
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 18:58:44' prior: 50902919!
test01CanNotParseAnEmptyString

	self should: [CustomStringParserToTestName toParse: '']
		raise:  Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDesciption]! !

!classDefinition: #CustomStringParserToErrorMessage category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 18:59:53'!
CustomStringParser subclass: #CustomStringParserToErrorMessage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 18:59:39' prior: 50902938!
test01CanNotParseAnEmptyString

	self should: [CustomStringParserToTestName toParse: '']
		raise:  Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDesciption].
		
	self should: [CustomStringParserToErrorMessage toParse: '']
		raise:  Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: CustomStringParser canNotParseAnEmptyStringErrorDesciption]! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 18:59:57'!
ERROR!
!CustomStringParser class methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:00:06'!
canNotParseAnEmptyStringErrorDesciption
	self shouldBeImplemented.! !
!CustomStringParser class methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:00:45' prior: 50902979!
canNotParseAnEmptyStringErrorDesciption
	
	^ 'Can Not Parse An Empty String'! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 19:00:48'!
FAILURE!
!CustomStringParser class methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:01:48'!
toParse: aString

	aString ifEmpty: [self error: self canNotParseAnEmptyStringErrorDesciption]! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 19:01:50'!
PASSED!

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 19:01:50'!
PASSED!
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:04:53'!
test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen

	| nameTest | 
	
	nameTest _ (CustomStringParserToTestName toParse: 'este es el nombre de un test') parse.
	
	self assert: nameTest equals: 'EsteEsElNombreDeUnTest'.! !

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:04:54'!
ERROR!
!CustomStringParser class methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:05:25' prior: 50902994!
toParse: aString

	aString ifEmpty: [self error: self canNotParseAnEmptyStringErrorDesciption].
	
	^ self new initializeWith: aString ! !

!classDefinition: #CustomStringParser category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 19:05:40'!
Object subclass: #CustomStringParser
	instanceVariableNames: 'stringToParse'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParser methodsFor: 'no messages' stamp: 'ja 6/26/2021 19:05:39'!
initializeWith: aString 

	stringToParse _ aString ! !

CustomStringParser subclass: #CustomStringParserToTestName
	instanceVariableNames: 'newString previous'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParserToTestName category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 19:06:02'!
CustomStringParser subclass: #CustomStringParserToTestName
	instanceVariableNames: 'newString previous'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParserToTestName methodsFor: 'no messages' stamp: 'ja 6/26/2021 19:06:54'!
parse

	| index |
	
	index _ 0.
	previous _ stringToParse first.
	
	
	^ newString ! !
!CustomStringParserToTestName methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:10:25' prior: 50903057!
parse

	| index |
	
	index _ 1.
	previous _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | | newChar |
		(previous isSeparator or:[ index = 1 ])
		ifTrue: [ newChar _ aChar asUppercase.
			newString _ newString , newChar asString.
			] 
		ifFalse: []
		].
	
	^ newString ! !
!CustomStringParserToTestName methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:12:05' prior: 50903064!
parse

	| index |
	
	index _ 1.
	previous _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | | newChar |
		(previous isSeparator or:[ index = 1 ])
		ifTrue: [ newChar _ aChar asUppercase.
			newString _ newString , newChar asString.] 
		ifFalse: [aChar isSeparator 
			ifFalse: [ newString _ newString , newChar asString ]].
		index _ index + 1.
		].
	
	^ newString ! !

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:12:19'!
FAILURE!

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:12:19'!
FAILURE!
!CustomStringParserToTestName methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:12:38' prior: 50903077!
parse

	| index |
	
	index _ 1.
	previous _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | | newChar |
		(previous isSeparator or:[ index = 1 ])
		ifTrue: [ newChar _ aChar asUppercase.
			newString _ newString , newChar asString.] 
		ifFalse: [aChar isSeparator 
			ifFalse: [ newString _ newString , aChar asString ]].
		index _ index + 1.
		].
	
	^ newString ! !

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:12:45'!
FAILURE!

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:12:45'!
FAILURE!
!CustomStringParserToTestName methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:13:17' prior: 50903102!
parse

	| index |
	
	index _ 1.
	previous _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | | newChar |
		(previous isSeparator or:[ index = 1 ])
		ifTrue: [ newChar _ aChar asUppercase.
			newString _ newString , newChar asString.] 
		ifFalse: [aChar isSeparator 
			ifFalse: [ newString _ newString , aChar asString ]].
		previous _ aChar.
		index _ index + 1.
		].
	
	^ newString ! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 19:13:19'!
PASSED!

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:13:19'!
PASSED!

!classDefinition: #CustomStringParserToErrorMessage category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 19:14:42'!
CustomStringParser subclass: #CustomStringParserToErrorMessage
	instanceVariableNames: 'following'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomStringParserToErrorMessage category: 'Custom-String-Parser' stamp: 'ja 6/26/2021 19:14:44'!
CustomStringParser subclass: #CustomStringParserToErrorMessage
	instanceVariableNames: 'following newString'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomStringParserToErrorMessage methodsFor: 'no messages' stamp: 'ja 6/26/2021 19:14:39'!
parse

	| index |
	
	index _ 1.
	following _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | | newChar |
		(following isSeparator or:[ index = 1 ])
		ifTrue: [ newChar _ aChar asUppercase.
			newString _ newString , newChar asString.] 
		ifFalse: [aChar isSeparator 
			ifFalse: [ newString _ newString , aChar asString ]].
		following _ aChar.
		index _ index + 1.
		].
	
	^ newString ! !
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:17:22'!
test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen

	| errorMessage | 
	
	errorMessage _ (CustomStringParserToTestName toParse: 'EsteEsUnMensajeDeErrorErrorDescription') parse.
	
	self assert: errorMessage equals: 'Este es un mensaje de error'.! !

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:19:17'!
FAILURE!
!CustomStringParserToErrorMessage methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:34:20' prior: 50903170!
parse

	| index |
	
	index _ 1.
	following _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | | newChar |
		index = 1 ifTrue:[ newString _ newString , aChar asUppercase asString ]
		ifFalse:[
			following _ stringToParse at: index + 1 ifAbsent:[ ^ newString , aChar asString , '.'].
			following isUppercase 
				ifTrue: [ newString _ newString , aChar asString separateKeywords			] 
			].
		index _ index + 1.
		].
	
	! !
!CustomStringParserToErrorMessage methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:34:26' prior: 50903203!
parse

	| index |
	
	index _ 1.
	following _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | 
		index = 1 ifTrue:[ newString _ newString , aChar asUppercase asString ]
		ifFalse:[
			following _ stringToParse at: index + 1 ifAbsent:[ ^ newString , aChar asString , '.'].
			following isUppercase 
				ifTrue: [ newString _ newString , aChar asString separateKeywords			] 
			].
		index _ index + 1.
		].
	
	! !

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:34:41'!
FAILURE!

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:34:41'!
FAILURE!
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:35:08' prior: 50903186!
test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen

	| errorMessage | 
	
	errorMessage _ (CustomStringParserToErrorMessage toParse: 'EsteEsUnMensajeDeErrorErrorDescription') parse.
	
	self assert: errorMessage equals: 'Este es un mensaje de error'.! !

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:35:09'!
FAILURE!
!CustomStringParserToErrorMessage methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:37:03' prior: 50903221!
parse

	| index |
	
	index _ 1.
	following _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | 
		index = 1 ifTrue:[ newString _ newString , aChar asUppercase asString ]
		ifFalse:[
			following _ stringToParse at: index + 1 ifAbsent:[ ^ newString , aChar asString , '.'].
			following isUppercase 
				ifTrue: [ newString _ newString , aChar asString separateKeywords			] 
				ifFalse: [ newString _ newString , aChar asString ]
			].
		index _ index + 1.
		].
	
	! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 19:37:13'!
PASSED!

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:37:13'!
PASSED!

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:37:13'!
FAILURE!

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:37:13'!
FAILURE!
!CustomStringParserToErrorMessage methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:38:29' prior: 50903264!
parse

	| index |
	
	index _ 1.
	stringToParse _ stringToParse copyFrom: 1 to: stringToParse size - 'ErrorDescription' size.
	following _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | 
		index = 1 ifTrue:[ newString _ newString , aChar asUppercase asString ]
		ifFalse:[
			following _ stringToParse at: index + 1 ifAbsent:[ ^ newString , aChar asString , '.'].
			following isUppercase 
				ifTrue: [ newString _ newString , aChar asString separateKeywords			] 
				ifFalse: [ newString _ newString , aChar asString ]
			].
		index _ index + 1.
		].
	
	! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 19:38:31'!
PASSED!

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:38:31'!
PASSED!

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:38:31'!
FAILURE!

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:38:31'!
FAILURE!
!CustomStringParserToErrorMessage methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:38:53' prior: 50903300!
parse

	| index |
	
	index _ 1.
	stringToParse _ stringToParse copyFrom: 1 to: stringToParse size - 'ErrorDescription' size.
	following _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | 
		index = 1 ifTrue:[ newString _ newString , aChar asUppercase asString ]
		ifFalse:[
			following _ stringToParse at: index + 1 ifAbsent:[ ^ newString , aChar asString , '.'].
			following isUppercase 
				ifTrue: [ newString _ newString , aChar asString separateKeywords			] 
				ifFalse: [ newString _ newString , aChar asLowercase asString ]
			].
		index _ index + 1.
		].
	
	! !

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 19:38:55'!
PASSED!

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:38:55'!
PASSED!

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:38:55'!
FAILURE!

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:38:55'!
FAILURE!
!CustomStringParserTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:39:28' prior: 50903247!
test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen

	| errorMessage | 
	
	errorMessage _ (CustomStringParserToErrorMessage toParse: 'EsteEsUnMensajeDeErrorErrorDescription') parse.
	
	self assert: errorMessage equals: 'Este es un mensaje de error.'.! !

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:39:29'!
PASSED!

!testRun: #CustomStringParserTest #test01CanNotParseAnEmptyString stamp: 'ja 6/26/2021 19:39:29'!
PASSED!

!testRun: #CustomStringParserTest #test02CanParseToTestNameWhenStringInputHasSpacesBetweenThen stamp: 'ja 6/26/2021 19:39:30'!
PASSED!

!testRun: #CustomStringParserTest #test03CanParseToErrorMessageWhenStringInputHasMayusBetweenThen stamp: 'ja 6/26/2021 19:39:30'!
PASSED!
!CustomStringParserToErrorMessage methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:39:58'!
maxIndexToParse

	^ stringToParse size - 'ErrorDescription' size! !
!CustomStringParserToErrorMessage methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 19:39:58' prior: 50903339!
parse

	| index |
	
	index _ 1.
	stringToParse _ stringToParse copyFrom: 1 to: self maxIndexToParse.
	following _ stringToParse first.
	newString _ ''.
	
	stringToParse do:[ :aChar | 
		index = 1 ifTrue:[ newString _ newString , aChar asUppercase asString ]
		ifFalse:[
			following _ stringToParse at: index + 1 ifAbsent:[ ^ newString , aChar asString , '.'].
			following isUppercase 
				ifTrue: [ newString _ newString , aChar asString separateKeywords			] 
				ifFalse: [ newString _ newString , aChar asLowercase asString ]
			].
		index _ index + 1.
		].
	
	! !

----End fileIn of /home/jampuero/Documentos/isw1/2020/Parciales/2019-2c/2doParcial/MarsRover-IS1-2Parcial-2c2019.st----!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 19:42:01'!
test17

	! !

----QUIT----(26 June 2021 19:47:22) CuisUniversity-4532.image priorSource: 18276340!

----STARTUP---- (26 June 2021 19:47:33) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----QUIT----(26 June 2021 19:47:39) CuisUniversity-4532.image priorSource: 18315020!

----STARTUP---- (26 June 2021 21:22:00) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


CustomStringParserToTestName toParse: 'cannot process digits without a previous command' parse!

(CustomStringParserToTestName toParse: 'cannot process digits without a previous command') parse!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 21:34:58'!
test17CannotProcessDigitsWithoutAPreviousCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	self should: [marsRover process: '0'] 
		raise: Error  
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription].! !

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousCommand stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test17 stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousCommand stamp: 'ja 6/26/2021 21:34:59'!
PASSED!

!methodRemoval: MarsRoverTest #test17 stamp: 'ja 6/26/2021 21:40:29'!
test17

	!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 21:40:56'!
test17CannotProcessDigitsWithoutAPreviousValidCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	self should: [marsRover process: '0'] 
		raise: Error  
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription].! !

!methodRemoval: MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousCommand stamp: 'ja 6/26/2021 21:40:56'!
test17CannotProcessDigitsWithoutAPreviousCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	self should: [marsRover process: '0'] 
		raise: Error  
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription].!

(CustomStringParserToTestName toParse: 'can correctly process a valid command followed by a digit') parse.!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 21:45:17'!
test18CanCorrectlyProcessAValidCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'f0'.
	
	self assert: (marsRover isAt: 1@5 heading: #North)! !

!testRun: #MarsRoverTest #test18CanCorrectlyProcessAValidCommandFollowedByADigit stamp: 'ja 6/26/2021 21:45:18'!
ERROR!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 21:48:38' prior: 50903693!
processCommand: aCommand

	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].

	self signalInvalidCommand.! !

!classDefinition: #MarsRover category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 21:49:41'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head lastCommand'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 21:49:38' prior: 50903671!
moveForward
	lastCommand _ 'f'.
	head moveForward: self! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 21:50:25' prior: 50904156!
moveForward

	lastCommand _ 'f'.
	head moveForward: self! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 21:50:39' prior: 50903663!
moveBackward

	lastCommand _ 'b'.
	head moveBackward: self! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/26/2021 21:51:10' prior: 50903637!
rotateRight
	
	lastCommand _ 'r'.
	head rotateRight: self! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/26/2021 21:51:18' prior: 50903633!
rotateLeft
	
	lastCommand _ 'l'.
	head rotateLeft: self! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 21:52:13' prior: 50904134!
processCommand: aCommand
	
	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].

	self signalInvalidCommand.! !

'0' isDigit .!

 0 isDigit .!

 $0 isDigit .!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 21:56:15' prior: 50903687!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | 
		aCommand isDigit 
			ifTrue:[ aCommand digitValue + 2 timesRepeat: [self processCommand: lastCommand]]
			ifFalse: [ self processCommand: aCommand ]
			 ]
! !

!testRun: #MarsRoverTest #test18CanCorrectlyProcessAValidCommandFollowedByADigit stamp: 'ja 6/26/2021 21:56:31'!
ERROR!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 21:57:27' prior: 50904166!
moveBackward

	lastCommand _ $b.
	head moveBackward: self! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 21:57:35' prior: 50904161!
moveForward

	lastCommand _ $f.
	head moveForward: self! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/26/2021 21:57:47' prior: 50904171!
rotateRight
	
	lastCommand _ $r.
	head rotateRight: self! !
!MarsRover methodsFor: 'heading' stamp: 'ja 6/26/2021 21:57:56' prior: 50904176!
rotateLeft
	
	lastCommand _ $l.
	head rotateLeft: self! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 21:57:59'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessAValidCommandFollowedByADigit stamp: 'ja 6/26/2021 21:57:59'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 21:59:42'!
test18CanCorrectlyProcessfCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'f0'.
	
	self assert: (marsRover isAt: 1@5 heading: #North)! !

!methodRemoval: MarsRoverTest #test18CanCorrectlyProcessAValidCommandFollowedByADigit stamp: 'ja 6/26/2021 21:59:42'!
test18CanCorrectlyProcessAValidCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'f0'.
	
	self assert: (marsRover isAt: 1@5 heading: #North)!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:00:01'!
test19CanCorrectlyProcessbCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'b0'.
	
	self assert: (marsRover isAt: 1@0 heading: #North)! !

!testRun: #MarsRoverTest #test19CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:00:03'!
FAILURE!

!testRun: #MarsRoverTest #test19CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:00:21'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:00:55' prior: 50904311!
test19CanCorrectlyProcessbCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'b0'.
	
	self assert: (marsRover isAt: 1@-1 heading: #North)! !

!testRun: #MarsRoverTest #test19CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:00:58'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:00:59'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:00:59'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:02:13'!
test19CanCorrectlyProcesslCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'l0'.
	
	self assert: (marsRover isAt: 1@2 heading: #East)! !

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:15'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:15'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:02:25' prior: 50904410!
test19CanCorrectlyProcesslCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'r0'.
	
	self assert: (marsRover isAt: 1@2 heading: #West)! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:02:13' prior: 50904493!
test19CanCorrectlyProcesslCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'l0'.
	
	self assert: (marsRover isAt: 1@2 heading: #East)! !

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:45'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:45'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:02:54'!
test20CanCorrectlyProcessbCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'b0'.
	
	self assert: (marsRover isAt: 1@-1 heading: #North)! !

!methodRemoval: MarsRoverTest #test19CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:02:54'!
test19CanCorrectlyProcessbCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'b0'.
	
	self assert: (marsRover isAt: 1@-1 heading: #North)!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:03:17'!
test21CanCorrectlyProcessrCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'r0'.
	
	self assert: (marsRover isAt: 1@-1 heading: #West)! !

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:03:18'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:03:41' prior: 50904603!
test21CanCorrectlyProcessrCommandFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'r0'.
	
	self assert: (marsRover isAt: 1@2 heading: #West)! !

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:03:43'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:03:43'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:04:24'!
test22CanCorrectlyProcessManyValidCommandsFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'r0'.
	
	self assert: (marsRover isAt: 1@2 heading: #West)! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:05:24' prior: 50904702!
test22CanCorrectlyProcessManyValidCommandsFollowedByADigit
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'r0f1'.
	
	self assert: (marsRover isAt: -3@2 heading: #West)! !

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:05:25'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 22:05:25'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:05:53'!
test23
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'r01'.
	
	self assert: (marsRover isAt: -3@2 heading: #West)! !

!testRun: #MarsRoverTest #test23 stamp: 'ja 6/26/2021 22:05:55'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:06:58' prior: 50904196!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | 
		aCommand isDigit 
			ifTrue:[ aCommand digitValue + 2 timesRepeat: [self processCommand: lastCommand].
				lastCommand _ '']
			ifFalse: [ self processCommand: aCommand ]
			 ]
! !

!testRun: #MarsRoverTest #test23 stamp: 'ja 6/26/2021 22:07:07'!
ERROR!

(
CustomStringParserToTestName toParse: 
'the command cannot have two digits in a row'
) parse. 

!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:09:14'!
test23TheCommandCannotHaveTwoDigitsInARow
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	self should: [marsRover process: 'r01'.] 
		raise:  Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription ]
	! !

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test23 stamp: 'ja 6/26/2021 22:09:16'!
ERROR!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 22:09:16'!
PASSED!

!testRun: #MarsRoverTest #test23 stamp: 'ja 6/26/2021 22:09:16'!
ERROR!

!methodRemoval: MarsRoverTest #test23 stamp: 'ja 6/26/2021 22:09:29'!
test23
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North.
	
	marsRover process: 'r01'.
	
	self assert: (marsRover isAt: -3@2 heading: #West)!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 22:09:32'!
PASSED!

!classDefinition: #MarsRover category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 22:10:27'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head lastCommandProcessed'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:10:27' prior: 50904225!
rotateLeft
	
	lastCommandProcessed _ $l.
	head rotateLeft: self! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:10:27' prior: 50904215!
moveForward

	lastCommandProcessed _ $f.
	head moveForward: self! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:10:27' prior: 50904814!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | 
		aCommand isDigit 
			ifTrue:[ aCommand digitValue + 2 timesRepeat: [self processCommand: lastCommandProcessed].
				lastCommandProcessed _ '']
			ifFalse: [ self processCommand: aCommand ]
			 ]
! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:10:27' prior: 50904210!
moveBackward

	lastCommandProcessed _ $b.
	head moveBackward: self! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:10:27' prior: 50904220!
rotateRight
	
	lastCommandProcessed _ $r.
	head rotateRight: self! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:12:11'!
processDigit: aCommand

	aCommand digitValue + 2 timesRepeat: [self processCommand: lastCommandProcessed].
				lastCommandProcessed _ ''! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:12:11' prior: 50905043!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | 
		aCommand isDigit 
			ifTrue:[ self processDigit: aCommand]
			ifFalse: [ self processCommand: aCommand ]
			 ]
! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:12:55' prior: 50905066!
processDigit: aCommand

	aCommand digitValue + 2 timesRepeat: [self processCommand: lastCommandProcessed].
	lastCommandProcessed _ ''! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:15:20'!
timesToRepeatCommand: aCommand

	^ aCommand digitValue + 2! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:15:20' prior: 50905083!
processDigit: aCommand

	(self timesToRepeatCommand: aCommand) timesRepeat: [self processCommand: lastCommandProcessed].
	lastCommandProcessed _ ''! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:16:39'!
timesToRepeatLastCommandProcessed: aCommand

	^ aCommand digitValue + 2! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:16:39' prior: 50905095!
processDigit: aCommand

	(self timesToRepeatLastCommandProcessed: aCommand) timesRepeat: [self processCommand: lastCommandProcessed].
	lastCommandProcessed _ ''! !

!methodRemoval: MarsRover #timesToRepeatCommand: stamp: 'ja 6/26/2021 22:16:39'!
timesToRepeatCommand: aCommand

	^ aCommand digitValue + 2!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:16:49' prior: 50905109!
processDigit: aCommand

	self timesToRepeatLastCommandProcessed: aCommand.
	lastCommandProcessed _ ''! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:17:00' prior: 50905103!
timesToRepeatLastCommandProcessed: aCommand

	aCommand digitValue + 2 timesRepeat: [self processCommand: lastCommandProcessed].! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:18:47'!
tryToProcess: aCommand

	^ aCommand isDigit 
			ifTrue:[ self processDigit: aCommand]
			ifFalse: [ self processCommand: aCommand ]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:18:47' prior: 50905074!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | 
		self tryToProcess: aCommand
			 ]
! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:18:58' prior: 50905144!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand]
! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:19:15' prior: 50905136!
tryToProcess: aCommand

	aCommand isDigit 
			ifTrue:[ self processDigit: aCommand]
			ifFalse: [ self processCommand: aCommand ]! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 22:19:19'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 22:19:19'!
PASSED!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:19:50' prior: 50905122!
processDigit: aCommandDigit

	self timesToRepeatLastCommandProcessed: aCommandDigit.
	lastCommandProcessed _ ''! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/26/2021 22:20:04' prior: 50905129!
timesToRepeatLastCommandProcessed: aCommandDigit

	aCommandDigit digitValue + 2 timesRepeat: [self processCommand: lastCommandProcessed].! !

(
CustomStringParserToTestName toParse: 
'on the surface earth'
) parse. 
!

!classDefinition: #MarsRoverTest category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 22:30:08'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: 'surface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:30:05'!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: #North on: surface.
	
	self should: [marsRover process: 'r01'.] 
		raise:  Error
		withExceptionDo: [:anError | 
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription ]
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:30:36' prior: 50905271!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: #North on: surface.
	
	marsRover process: 'f'.
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:31:31' prior: 50905285!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: #North on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !
!MarsRover class methodsFor: 'instance creation' stamp: 'ja 6/26/2021 22:33:34'!
at: aPosition heading: aCardinalPoint on: aSurface
	
	^self new initializeAt: aPosition heading: (MarsRoverHeading heading: aCardinalPoint) on: aSurface! !

!classDefinition: #MarsRover category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 22:34:11'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head lastCommandProcessed surface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRover methodsFor: 'initialization' stamp: 'ja 6/26/2021 22:34:09'!
initializeAt: aPosition heading: aHeading on: aSurface

	position := aPosition.
	head := aHeading .
	surface _ aSurface ! !

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 22:34:18'!
ERROR!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:34:40' prior: 50905294!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: #North on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 22:35:03'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 22:35:03'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:36:53' prior: 50905332!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: #North on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !

Object subclass: #MarsRoverSensor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classDefinition: #MarsRoverSensor category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 22:37:15'!
Object subclass: #MarsRoverSensor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRover class methodsFor: 'instance creation' stamp: 'ja 6/26/2021 22:38:16'!
at: aPosition withSensor: aSensor heading: aCardinalPoint on: aSurface
	
	^self new initializeAt: aPosition heading: (MarsRoverHeading heading: aCardinalPoint) on: aSurface! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:38:16' prior: 50905430!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 withSensor: aSensor heading: #North on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !

!methodRemoval: MarsRover class #at:heading:on: stamp: 'ja 6/26/2021 22:38:16'!
at: aPosition heading: aCardinalPoint on: aSurface
	
	^self new initializeAt: aPosition heading: (MarsRoverHeading heading: aCardinalPoint) on: aSurface!
!MarsRover class methodsFor: 'instance creation' stamp: 'ja 6/26/2021 22:38:51'!
at: aPosition heading: aSensor withSensor: aCardinalPoint on: aSurface
	
	^self new initializeAt: aPosition heading: (MarsRoverHeading heading: aCardinalPoint) on: aSurface! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:38:51' prior: 50905463!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: aSensor withSensor: #North on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !

!methodRemoval: MarsRover class #at:withSensor:heading:on: stamp: 'ja 6/26/2021 22:38:51'!
at: aPosition withSensor: aSensor heading: aCardinalPoint on: aSurface
	
	^self new initializeAt: aPosition heading: (MarsRoverHeading heading: aCardinalPoint) on: aSurface!
!MarsRover class methodsFor: 'instance creation' stamp: 'ja 6/26/2021 22:39:02' prior: 50905482!
at: aPosition heading: aCardinalPoint withSensor: aSensor on: aSurface
	
	^self new initializeAt: aPosition heading: (MarsRoverHeading heading: aCardinalPoint) on: aSurface! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:39:45' prior: 50905491!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: MarsRoverSensor new on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !
!MarsRover methodsFor: 'initialization' stamp: 'ja 6/26/2021 22:40:36'!
initializeAt: aPosition heading: aHeading withSensor: aSensor on: aSurface

	position := aPosition.
	head := aHeading .
	surface _ aSurface ! !
!MarsRover class methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 22:40:36' prior: 50905511!
at: aPosition heading: aCardinalPoint withSensor: aSensor on: aSurface
	
	^self new initializeAt: aPosition heading: (MarsRoverHeading heading: aCardinalPoint) withSensor: aSensor on: aSurface! !

!methodRemoval: MarsRover #initializeAt:heading:on: stamp: 'ja 6/26/2021 22:40:36'!
initializeAt: aPosition heading: aHeading on: aSurface

	position := aPosition.
	head := aHeading .
	surface _ aSurface !

!classDefinition: #MarsRover category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 22:40:50'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head lastCommandProcessed surface sensor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRover methodsFor: 'initialization' stamp: 'ja 6/26/2021 22:40:48' prior: 50905532!
initializeAt: aPosition heading: aHeading withSensor: aSensor on: aSurface

	position := aPosition.
	head := aHeading .
	surface _ aSurface .
	sensor _ aSensor ! !

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 22:41:11'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 22:41:11'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:43:55'!
test25CanNotMoveNormalOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Rock.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: MarsRoverSensor new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !
!MarsRover class methodsFor: 'instance creation' stamp: 'ja 6/26/2021 22:44:07'!
canNotMoveNormalOnTheSurfaceRockErrorDescription! !

(
CustomStringParserToErrorMessage toParse: 
'canNotMoveNormalOnTheSurfaceRockErrorDescription'
)
parse!
!MarsRover class methodsFor: 'instance creation' stamp: 'ja 6/26/2021 22:45:01' prior: 50905675!
canNotMoveNormalOnTheSurfaceRockErrorDescription

	^ 'Can not move normal on the surface rock.'! !

!testRun: #MarsRoverTest #test25CanNotMoveNormalOnTheSurfaceRock stamp: 'ja 6/26/2021 22:45:19'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:48:23'!
test25CanNotMoveNorthNormallyOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Rock.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: MarsRoverSensor new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!methodRemoval: MarsRoverTest #test25CanNotMoveNormalOnTheSurfaceRock stamp: 'ja 6/26/2021 22:48:23'!
test25CanNotMoveNormalOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Rock.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: MarsRoverSensor new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	!

!classDefinition: #SurfaceRock category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 22:52:30'!
MarsRoverSensor subclass: #SurfaceRock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 22:52:13' prior: 50905692!
test25CanNotMoveNorthNormallyOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: MarsRoverSensor new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 22:56:38' prior: 50903675!
moveNorth
	
	| potentialPosition |
	
	potentialPosition _ position + (0@1).
	
	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ MarsRoverSensor new ] .
	
	position := potentialPosition.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 22:56:49' prior: 50905748!
moveNorth
	
	| potentialPosition |
	
	potentialPosition _ position + (0@1).
	
	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ MarsRoverSensor new ] .
	
	position := potentialPosition.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 22:57:46' prior: 50905757!
moveNorth
	
	| potentialPosition |
	
	potentialPosition _ position + (0@1).
	
	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ MarsRoverSensor new ] .
	
	sensor assertMoveToPotentialPosition.
	
	position := potentialPosition.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 22:58:34' prior: 50905766!
moveNorth
	
	| potentialPosition |
	
	potentialPosition _ position + (0@1).
	
	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ MarsRoverSensor new ] .
	
	sensor assertMoveToPotentialPositionWith: self.
	
	position := potentialPosition.! !

(
CustomStringParserToTestName toParse: 
'move towards a rock'
) parse. !
!SurfaceRock methodsFor: 'no messages' stamp: 'ja 6/26/2021 23:00:19'!
assertMoveToPotentialPositionWith: aMarsRover

	aMarsRover moveTowardsARock.

	! !
!MarsRover methodsFor: 'nil' stamp: 'ja 6/26/2021 23:00:35'!
moveTowardsARock! !
!MarsRover methodsFor: 'sensor' stamp: 'ja 6/26/2021 23:01:18' prior: 50905795!
moveTowardsARock

	self error: self class canNotMoveNormalOnTheSurfaceRockErrorDescription ! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:02:29'!
ERROR!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:02:29'!
ERROR!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:02:29'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:02:29'!
ERROR!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:02:29'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:02:29'!
ERROR!

!testRun: #MarsRoverTest #test25CanNotMoveNorthNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:02:29'!
FAILURE!

MarsRoverSensor subclass: #SurfaceNull
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classDefinition: #SurfaceNull category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 23:03:17'!
MarsRoverSensor subclass: #SurfaceNull
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:03:35' prior: 50905520!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceNull new on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !

!classRenamed: #SurfaceNull as: #SurfaceValid stamp: 'ja 6/26/2021 23:03:49'!
Smalltalk renameClassNamed: #SurfaceNull as: #SurfaceValid!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'ja 6/26/2021 23:03:49' prior: 50905906!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: #Earth.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:04:09' prior: 50905732!
test25CanNotMoveNorthNormallyOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:04:15'!
ERROR!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:04:15'!
ERROR!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:04:15'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:04:15'!
ERROR!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:04:15'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:04:15'!
ERROR!

!testRun: #MarsRoverTest #test25CanNotMoveNorthNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:04:15'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 23:04:42' prior: 50905777!
moveNorth
	
	| potentialPosition |
	
	potentialPosition _ position + (0@1).
	
	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ SurfaceValid new ] .
	
	sensor assertMoveToPotentialPositionWith: self.
	
	position := potentialPosition.! !
!SurfaceValid methodsFor: 'no messages' stamp: 'ja 6/26/2021 23:05:05'!
assertMoveToPotentialPositionWith: aMarsRover! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:05:08'!
ERROR!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:05:08'!
ERROR!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:05:08'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:05:08'!
ERROR!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:05:08'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:05:08'!
ERROR!

!testRun: #MarsRoverTest #test25CanNotMoveNorthNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:05:08'!
FAILURE!
!MarsRover methodsFor: 'initialization' stamp: 'ja 6/26/2021 23:06:11' prior: 50903612!
initializeAt: aPosition heading: aHeading

	position := aPosition.
	head := aHeading .
	surface _ Dictionary new.! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:06:14'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:06:14'!
ERROR!

!testRun: #MarsRoverTest #test25CanNotMoveNorthNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:06:14'!
FAILURE!

!classDefinition: #SurfaceEarth category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 23:07:04'!
MarsRoverSensor subclass: #SurfaceEarth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:06:38' prior: 50905923!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new at: 1@3 put: SurfaceEarth new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !
!SurfaceEarth methodsFor: 'no messages' stamp: 'ja 6/26/2021 23:07:22'!
assertMoveToPotentialPositionWith: aMarsRover! !

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:07:32'!
ERROR!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:08:37'!
ERROR!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:09:32'!
ERROR!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:12:10' prior: 50906243!
test24CanMoveNormalOnTheSurfaceEarth 
	
	| marsRover |
	
	surface _ Dictionary new.
	surface at: 1@3 put: SurfaceEarth new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert: (marsRover isAt: 1@3 heading: #North)! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:12:45' prior: 50905935!
test25CanNotMoveNorthNormallyOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 1@3 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!testRun: #MarsRoverTest #test25CanNotMoveNorthNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:12:52'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveNorthNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:12:52'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:23:48'!
test26CanNotMoveBackwardNormallyOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 1@1 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'b'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:23:51'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:24:10'!
test25CanNotMoveForwardNormallyOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 1@3 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!methodRemoval: MarsRoverTest #test25CanNotMoveNorthNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:24:10'!
test25CanNotMoveNorthNormallyOnTheSurfaceRock 
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 1@3 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:24:20'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:24:20'!
FAILURE!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:24:20'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 23:25:28'!
tryMoveTo: potentialPosition

	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ SurfaceValid new ] .
	
	sensor assertMoveToPotentialPositionWith: self.
	
	position := potentialPosition! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 23:25:28' prior: 50906038!
moveNorth
	
	| potentialPosition |
	
	potentialPosition _ position + (0@1).
	
	self tryMoveTo: potentialPosition.! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 23:26:35' prior: 50903679!
moveSouth
	
	| potentialPosition |
	potentialPosition := position + (0@-1).
	self tryMoveTo: potentialPosition ! !

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:26:44'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:26:44'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:27:23'!
test27
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 1@1 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'b'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:28:05' prior: 50906656!
test27
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 0@2 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'b'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!testRun: #MarsRoverTest #test27 stamp: 'ja 6/26/2021 23:28:06'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 23:28:47' prior: 50903683!
moveWest
	
	| potentialPosition |
	potentialPosition := position + (-1@0).
	self tryMoveTo: potentialPosition 
	! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:28:48'!
PASSED!

!testRun: #MarsRoverTest #test27 stamp: 'ja 6/26/2021 23:28:48'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:29:13'!
test27CanNotMoveBackwardNormallyOnTheSurfaceRock
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 0@2 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'b'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!methodRemoval: MarsRoverTest #test27 stamp: 'ja 6/26/2021 23:29:13'!
test27
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 0@2 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'b'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:29:53'!
test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 0@2 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'b'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!methodRemoval: MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:29:53'!
test27CanNotMoveBackwardNormallyOnTheSurfaceRock
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 0@2 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'b'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/26/2021 23:29:56'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:30:06'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/26/2021 23:30:06'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:30:47'!
test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 0@2 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #West withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:31:11' prior: 50907050!
test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 2@2 put: SurfaceRock new.
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/26/2021 23:31:13'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/26/2021 23:31:49' prior: 50903667!
moveEast
	
	| potentialPosition |
		
	potentialPosition := position + (1@0).
	self tryMoveTo: potentialPosition 
	! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/26/2021 23:31:50'!
PASSED!

!classDefinition: #SurfaceIce category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/26/2021 23:33:11'!
MarsRoverSensor subclass: #SurfaceIce
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:32:59'!
test29
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 2@2 put: SurfaceIce new.
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	self should: [ marsRover process: 'f'] 
		raise: Error  
		withExceptionDo:[:anError | 
			self assert: anError messageText equals: MarsRover canNotMoveNormalOnTheSurfaceRockErrorDescription]
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/26/2021 23:34:10' prior: 50907202!
test29
	
	| marsRover |
	
	surface _ Dictionary new .
	surface at: 1@3 put: SurfaceIce new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	! !

----QUIT----(26 June 2021 23:36:29) CuisUniversity-4532.image priorSource: 18315217!

----STARTUP---- (27 June 2021 11:23:39) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


testName _ CustomStringParserToTestName toParse: 'move towards a rock'.
testName parse. !

errorMessage  _ CustomStringParserToErrorMessage toParse: 'canNotMoveNormalOnTheSurfaceRockErrorDescription'.
errorMessage parse.!

offset _ Random new.
	offset _ offset nextInteger: 10.!

offset _ Random new.
	offset _ offset nextInteger: 10.!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 11:32:46' prior: 50907217!
test29
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 11:33:19' prior: 50907244!
test29
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert: marsRover 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 11:35:02' prior: 50907256!
test29
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: 1@2+offset  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 11:35:14'!
ERROR!
!SurfaceIce class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 11:35:24'!
withOffset: aSmallInteger 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithOffset: aSmallInteger ! !
!SurfaceIce class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 11:35:46' prior: 50907286!
withOffset: anOffset
	
	^self new initializeWithOffset: anOffset ! !

!classDefinition: #SurfaceIce category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/27/2021 11:36:08'!
MarsRoverSensor subclass: #SurfaceIce
	instanceVariableNames: 'offset'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!SurfaceIce methodsFor: 'no messages' stamp: 'ja 6/27/2021 11:36:06'!
initializeWithOffset: anOffset 

	offset _ anOffset ! !

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 11:36:16'!
ERROR!
!SurfaceIce methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:37:27'!
assertMoveToPotentialPositionWith: aMarsRover

	aMarsRover moveOnIceWithOffset: offset.

	! !
!MarsRover methodsFor: 'sensor' stamp: 'ja 6/27/2021 11:37:48'!
moveOnIceWithOffset: offset! !
!SurfaceRock methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:42:35'!
assertMoveToPotentialPositionWith: aMarsRover with: aPotentialPosition 

	aMarsRover moveTowardsARock.

	! !
!SurfaceValid methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:42:35'!
assertMoveToPotentialPositionWith: aMarsRover with: aPotentialPosition ! !
!SurfaceEarth methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:42:35'!
assertMoveToPotentialPositionWith: aMarsRover with: aPotentialPosition ! !
!SurfaceIce methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:42:35'!
assertMoveToPotentialPositionWith: aMarsRover with: aPotentialPosition 

	aMarsRover moveOnIceWithOffset: offset.

	! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:42:35' prior: 50906539!
tryMoveTo: potentialPosition

	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ SurfaceValid new ] .
	
	sensor assertMoveToPotentialPositionWith: self with: potentialPosition.
	
	position := potentialPosition! !

!methodRemoval: SurfaceRock #assertMoveToPotentialPositionWith: stamp: 'ja 6/27/2021 11:42:35'!
assertMoveToPotentialPositionWith: aMarsRover

	aMarsRover moveTowardsARock.

	!

!methodRemoval: SurfaceValid #assertMoveToPotentialPositionWith: stamp: 'ja 6/27/2021 11:42:35'!
assertMoveToPotentialPositionWith: aMarsRover!

!methodRemoval: SurfaceEarth #assertMoveToPotentialPositionWith: stamp: 'ja 6/27/2021 11:42:35'!
assertMoveToPotentialPositionWith: aMarsRover!

!methodRemoval: SurfaceIce #assertMoveToPotentialPositionWith: stamp: 'ja 6/27/2021 11:42:35'!
assertMoveToPotentialPositionWith: aMarsRover

	aMarsRover moveOnIceWithOffset: offset.

	!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:42:48' prior: 50907347!
tryMoveTo: potentialPosition

	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ SurfaceValid new ] .
	
	sensor assertMoveToPotentialPositionWith: self with: potentialPosition.
	
	position := potentialPosition! !
!SurfaceRock methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:43:13'!
assertMoveTo: aMarsRover with: aPotentialPosition 

	aMarsRover moveTowardsARock.

	! !
!SurfaceValid methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:43:13'!
assertMoveTo: aMarsRover with: aPotentialPosition ! !
!SurfaceIce methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:43:13'!
assertMoveTo: aMarsRover with: aPotentialPosition 

	aMarsRover moveOnIceWithOffset: offset.

	! !
!SurfaceEarth methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:43:13'!
assertMoveTo: aMarsRover with: aPotentialPosition ! !
!MarsRover methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:43:13' prior: 50907377!
tryMoveTo: potentialPosition

	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ SurfaceValid new ] .
	
	sensor assertMoveTo: self with: potentialPosition.
	
	position := potentialPosition! !

!methodRemoval: SurfaceRock #assertMoveToPotentialPositionWith:with: stamp: 'ja 6/27/2021 11:43:13'!
assertMoveToPotentialPositionWith: aMarsRover with: aPotentialPosition 

	aMarsRover moveTowardsARock.

	!

!methodRemoval: SurfaceValid #assertMoveToPotentialPositionWith:with: stamp: 'ja 6/27/2021 11:43:13'!
assertMoveToPotentialPositionWith: aMarsRover with: aPotentialPosition !

!methodRemoval: SurfaceIce #assertMoveToPotentialPositionWith:with: stamp: 'ja 6/27/2021 11:43:13'!
assertMoveToPotentialPositionWith: aMarsRover with: aPotentialPosition 

	aMarsRover moveOnIceWithOffset: offset.

	!

!methodRemoval: SurfaceEarth #assertMoveToPotentialPositionWith:with: stamp: 'ja 6/27/2021 11:43:13'!
assertMoveToPotentialPositionWith: aMarsRover with: aPotentialPosition !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:43:22' prior: 50907409!
tryMoveTo: potentialPosition

	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ SurfaceValid new ] .
	
	sensor assertMoveTo: potentialPosition with: self.
	
	position := potentialPosition! !
!SurfaceEarth methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:43:48' prior: 50907404!
assertMoveTo: aPotentialPosition with: aMarsRover ! !
!SurfaceIce methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:43:57' prior: 50907398!
assertMoveTo: aPotentialPosition with: aMarsRover

	aMarsRover moveOnIceWithOffset: offset.

	! !
!SurfaceRock methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:44:04' prior: 50907387!
assertMoveTo: aPotentialPosition with: aMarsRover

	aMarsRover moveTowardsARock.

	! !
!SurfaceValid methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:44:09' prior: 50907393!
assertMoveTo: aPotentialPosition with: aMarsRover! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 11:44:13'!
PASSED!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 11:44:13'!
FAILURE!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 11:44:13'!
FAILURE!
!SurfaceIce methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:44:47' prior: 50907458!
assertMoveTo: aPotentialPosition with: aMarsRover

	aMarsRover moveOnIceTo: aPotentialPosition withOffset: offset .

	! !
!MarsRover methodsFor: 'sensor' stamp: 'ja 6/27/2021 11:45:21'!
moveOnIceTo: aPotentialPosition withOffset: anOffset ! !

!methodRemoval: MarsRover #moveOnIceWithOffset: stamp: 'ja 6/27/2021 11:45:24'!
moveOnIceWithOffset: offset!
!MarsRover methodsFor: 'sensor' stamp: 'ja 6/27/2021 11:47:16' prior: 50907586!
moveOnIceTo: aPotentialPosition withOffset: anOffset 

	^ anOffset ! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:53:31' prior: 50907443!
tryMoveTo: potentialPosition

	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ SurfaceValid new ] .
	
	sensor assertMoveTo: potentialPosition with: self.
	
	! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:53:43' prior: 50907088!
moveEast
	
	| potentialPosition |
		
	potentialPosition := position + (1@0).
	self tryMoveTo: potentialPosition .
	position := potentialPosition! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:53:50' prior: 50906548!
moveNorth
	
	| potentialPosition |
	
	potentialPosition _ position + (0@1).
	
	self tryMoveTo: potentialPosition.
	
	position := potentialPosition! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:53:54' prior: 50906555!
moveSouth
	
	| potentialPosition |
	potentialPosition := position + (0@-1).
	self tryMoveTo: potentialPosition .
	position := potentialPosition! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:53:59' prior: 50906688!
moveWest
	
	| potentialPosition |
	potentialPosition := position + (-1@0).
	self tryMoveTo: potentialPosition .
	position := potentialPosition
	! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 11:54:13'!
PASSED!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 11:54:13'!
FAILURE!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 11:54:13'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:54:56' prior: 50907615!
moveNorth
	
	| potentialPosition xxx |
	
	potentialPosition _ position + (0@1).
	
	xxx _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:55:14' prior: 50907599!
tryMoveTo: potentialPosition

	sensor _ surface at: potentialPosition ifAbsent: [ sensor _ SurfaceValid new ] .
	
	^ sensor assertMoveTo: potentialPosition with: self.
	
	! !

!methodRemoval: MarsRover #moveOnIceTo:withOffset: stamp: 'ja 6/27/2021 11:56:20'!
moveOnIceTo: aPotentialPosition withOffset: anOffset 

	^ anOffset !
!SurfaceIce methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:56:30' prior: 50907580!
assertMoveTo: aPotentialPosition with: aMarsRover

	^ offset

	! !
!SurfaceEarth methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:57:02' prior: 50907453!
assertMoveTo: aPotentialPosition with: aMarsRover 

	^ 0! !
!SurfaceValid methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:57:18' prior: 50907471!
assertMoveTo: aPotentialPosition with: aMarsRover! !
!SurfaceEarth methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 11:57:24' prior: 50907771!
assertMoveTo: aPotentialPosition with: aMarsRover 
! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 11:58:50' prior: 50907743!
moveNorth
	
	| potentialPosition xxx |
	
	potentialPosition _ position + (0@1).
	
	xxx _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:00:04' prior: 50907786!
moveNorth
	
	| potentialPosition xxx |
	
	potentialPosition _ position + (0@1).
	
	xxx _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition + (0@xxx)! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:02:39' prior: 50907794!
moveNorth
	
	| potentialPosition offset |
	
	potentialPosition _ position + (0@1).
	
	offset _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition + (0@offset)! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:02:53' prior: 50907269!
test29
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: 1@2+1+offset  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:02:55'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:03:04' prior: 50907811!
test29
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: 1@2+offset  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:03:05'!
FAILURE!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:03:09'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:03:19' prior: 50907828!
test29
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: 1@2+1+offset  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:03:27'!
FAILURE!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:03:32'!
FAILURE!

1@2+1+offset!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:04:33' prior: 50907847!
test29
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:04:35'!
ERROR!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:04:35'!
ERROR!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:04:35'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:04:35'!
ERROR!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:04:35'!
ERROR!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:04:35'!
PASSED!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:04:47'!
PASSED!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:04:50'!
ERROR!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:04:50'!
ERROR!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:04:50'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:04:50'!
ERROR!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:04:50'!
ERROR!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:04:50'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:05:07'!
ERROR!
!SurfaceEarth methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 12:05:41' prior: 50907781!
assertMoveTo: aPotentialPosition with: aMarsRover 

	^0! !
!SurfaceValid methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 12:05:48' prior: 50907776!
assertMoveTo: aPotentialPosition with: aMarsRover

	^0! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:05:54'!
PASSED!

testName _ CustomStringParserToTestName toParse: 
'can advance properly when there is ice'.
testName parse. !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:08:42'!
test29CanAdvanceProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #North) 
	
	! !

!methodRemoval: MarsRoverTest #test29 stamp: 'ja 6/27/2021 12:08:44'!
test29
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #North) 
	
	!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:09:44'!
test30CanRollBackProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'b'.
	
	self assert:  (marsRover isAt: 1@(2-1-offset)  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:09:46'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:11:50' prior: 50907623!
moveSouth
	
	| potentialPosition offset |
	potentialPosition := position + (0@-1).
	self tryMoveTo: potentialPosition .
	
	offset _ self tryMoveTo: potentialPosition.
	position := potentialPosition + (0@offset)! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:11:55'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:11:55'!
FAILURE!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:11:55'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:12:22' prior: 50908257!
moveSouth
	
	| potentialPosition offset |
	potentialPosition := position + (0@-1).
	self tryMoveTo: potentialPosition .
	
	offset _ self tryMoveTo: potentialPosition.
	position := potentialPosition + (0@-offset)! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:12:31'!
ERROR!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:12:31'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:12:31'!
ERROR!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:12:31'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:12:31'!
ERROR!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:13:25' prior: 50908376!
moveSouth
	
	| potentialPosition offset |
	potentialPosition := position + (0@-1).
	self tryMoveTo: potentialPosition .
	
	offset _ self tryMoveTo: potentialPosition.
	position := potentialPosition + (0@(offset*-1))! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:13:27'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:13:28'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:13:28'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:14:13'!
test31CanRotateProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'r'.
	
	self assert:  (marsRover isAt: 1@2  heading: #East) 
	
	! !

!testRun: #MarsRoverTest #test31CanRotateProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:14:15'!
PASSED!

!testRun: #MarsRoverTest #test31CanRotateProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:14:15'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:14:19' prior: 50908608!
test31CanRotateProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'r'.
	
	self assert:  (marsRover isAt: 1@2  heading: #West) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:14:13' prior: 50908736!
test31CanRotateProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'r'.
	
	self assert:  (marsRover isAt: 1@2  heading: #East) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:14:52'!
test32CanRotateWestProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'l'.
	
	self assert:  (marsRover isAt: 1@2  heading: #West) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:15:25'!
test31CanRotateToEastProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'r'.
	
	self assert:  (marsRover isAt: 1@2  heading: #East) 
	
	! !

!methodRemoval: MarsRoverTest #test31CanRotateProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:15:25'!
test31CanRotateProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'r'.
	
	self assert:  (marsRover isAt: 1@2  heading: #East) 
	
	!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:15:34'!
test32CanRotateToWestProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'l'.
	
	self assert:  (marsRover isAt: 1@2  heading: #West) 
	
	! !

!methodRemoval: MarsRoverTest #test32CanRotateWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:15:34'!
test32CanRotateWestProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'l'.
	
	self assert:  (marsRover isAt: 1@2  heading: #West) 
	
	!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:16:20' prior: 50908781!
test31CanRotateToEastProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'lr'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #East) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:16:34' prior: 50908842!
test31CanRotateToEastProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fr'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #East) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:16:52' prior: 50908811!
test32CanRotateToWestProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@1 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fl'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #West) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:16:56' prior: 50908874!
test32CanRotateToWestProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fl'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #West) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:19:14' prior: 50908858!
test31CanRotateToEastProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fr'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #East) 
	
	! !

!testRun: #MarsRoverTest #test31CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:20:29'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:20:57' prior: 50908890!
test32CanRotateToWestProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fl'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #West) 
	
	! !

!testRun: #MarsRoverTest #test32CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test31CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:20:58'!
PASSED!

!testRun: #MarsRoverTest #test32CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:20:58'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:22:23'!
test33CanRotateToEastProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fr'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #East) 
	
	! !

!methodRemoval: MarsRoverTest #test31CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:22:23'!
test31CanRotateToEastProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fr'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #East) 
	
	!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:22:31'!
test34CanRotateToWestProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fl'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #West) 
	
	! !

!methodRemoval: MarsRoverTest #test32CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:22:31'!
test32CanRotateToWestProperlyWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fl'.
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #West) 
	
	!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:23:53'!
test31CanAdvanceProperlyToEastWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 2@2 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: (1+1+offset)@2  heading: #North) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:24:02' prior: 50909131!
test31CanAdvanceProperlyToEastWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 2@2 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: (1+1+offset)@2  heading: #East) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:24:25' prior: 50909147!
test31CanAdvanceProperlyToEastWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 2@2 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'f'.
	
	self assert:  (marsRover isAt: (1+1+offset)@2  heading: #East) 
	
	! !

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:24:25'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:24:47' prior: 50907607!
moveEast
	
	| potentialPosition offset |
		
	potentialPosition := position + (1@0).
	self tryMoveTo: potentialPosition .
	
	offset _ self tryMoveTo: potentialPosition.
	position := potentialPosition + (0@(offset*-1))! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:25:01' prior: 50909182!
moveEast
	
	| potentialPosition offset |
		
	potentialPosition := position + (1@0).
	self tryMoveTo: potentialPosition .
	
	offset _ self tryMoveTo: potentialPosition.
	position := potentialPosition + (offset@0)! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:25:04'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:25:04'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:25:48'!
test32CanRollBackProperlyToEastWhenThereIsIce
	
	| marsRover offset |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 0@2 put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #East withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'b'.
	
	self assert:  (marsRover isAt: (1-1-offset)@2  heading: #East) 
	
	! !

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:25:51'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:26:08' prior: 50907631!
moveWest
	
	| potentialPosition offset |
	potentialPosition := position + (-1@0).
	self tryMoveTo: potentialPosition .
	
	offset _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition + (0@offset)
	! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:26:29' prior: 50909337!
moveWest
	
	| potentialPosition offset |
	potentialPosition := position + (-1@0).
	self tryMoveTo: potentialPosition .
	
	offset _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition + ((offset*-1)@0)
	! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:26:30'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:26:30'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:27:26'!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ 1@(2+1+offset)
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #North) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:27:57' prior: 50909477!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ 1@(2+1+offset) - (1@offset).
	
	self assert:  (marsRover isAt: 1@(2+1+offset)  heading: #North) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:28:04' prior: 50909495!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ 1@(2+1+offset) - (1@offset).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:28:05'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:28:19' prior: 50909513!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ 1@(2+1+offset) - (0@offset).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:28:21'!
FAILURE!

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:28:25'!
FAILURE!

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:28:32'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:29:35' prior: 50909533!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@offset).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:29:37'!
FAILURE!

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:29:41'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:33:51' prior: 50909558!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+1+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@offset).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:33:52'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:33:58' prior: 50909581!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@offset).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:36:52' prior: 50909602!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@offset).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:36:53'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:38:33' prior: 50909620!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3-1+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@offset).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:38:35'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:40:04' prior: 50908492!
moveSouth
	
	| potentialPosition offset |
	potentialPosition := position + (0@-1).
	
	
	offset _ self tryMoveTo: potentialPosition.
	position := potentialPosition + (0@(offset*-1))! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:40:06'!
FAILURE!

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:40:10'!
FAILURE!
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:40:26' prior: 50909192!
moveEast
	
	| potentialPosition offset |
		
	potentialPosition := position + (1@0).
	
	offset _ self tryMoveTo: potentialPosition.
	position := potentialPosition + (offset@0)! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:40:37' prior: 50909347!
moveWest
	
	| potentialPosition offset |
	
	potentialPosition := position + (-1@0).
	
	offset _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition + ((offset*-1)@0)
	! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:40:48' prior: 50909662!
moveSouth
	
	| potentialPosition offset |
	
	potentialPosition := position + (0@-1).
	
	offset _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition + (0@(offset*-1))! !
!MarsRover methodsFor: 'moving' stamp: 'ja 6/27/2021 12:40:53' prior: 50909675!
moveEast
	
	| potentialPosition offset |
		
	potentialPosition := position + (1@0).
	
	offset _ self tryMoveTo: potentialPosition.
	
	position := potentialPosition + (offset@0)! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:41:01'!
PASSED!

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:41:01'!
FAILURE!

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:41:01'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:42:27' prior: 50909641!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3-1+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@1+offset).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:42:29'!
FAILURE!

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:42:36'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:42:49' prior: 50909836!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3-1+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@(1+offset)).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:42:50'!
PASSED!

!testRun: #MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:42:50'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:43:54'!
test35FuncionaBienEnVariasSuperficiesConHielo
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3-1+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@(1+offset)).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!methodRemoval: MarsRoverTest #test35 stamp: 'ja 6/27/2021 12:43:57'!
test35
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3-1+offset) put: (SurfaceIce withOffset: offset).
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@(1+offset)).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 12:44:02' prior: 50910002!
test35FuncionaBienEnVariasSuperficiesConHielo
	
	| marsRover offset newPosition |
	
	offset _ Random new.
	offset _ offset nextInteger: 10.
	surface _ Dictionary new .
	surface at: 1@3 put: (SurfaceIce withOffset: offset).
	surface at: 1@(3-1+offset) put: (SurfaceIce withOffset: offset).
	
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb'.
	newPosition _ (1@(2+1+offset)) - (0@(1+offset)).
	
	self assert:  (marsRover isAt: newPosition  heading: #North) 
	
	! !

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 12:45:33'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:02:26'!
test36NotProcessInvalidSafeCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:02:41' prior: 50910062!
test36NotProcessInvalidSafeCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self assert: marsRover ! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:13:50' prior: 50910070!
test36NotProcessInvalidSafeCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(f']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.]! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:14:44' prior: 50910079!
test36NotProcessInvalidSafeCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(f']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.
			self assert: (marsRover isAt: 1@1 heading: #North)]! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:14:48' prior: 50910092!
test36NotProcessInvalidSafeCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(f']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription.
			self assert: (marsRover isAt: 1@2 heading: #North)]! !

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 13:14:53'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:14:53'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:17:47' prior: 50910107!
test36NotProcessInvalidSafeCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(f']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription.
			self assert: (marsRover isAt: 1@2 heading: #North)]! !
!MarsRover methodsFor: 'exceptions' stamp: 'ja 6/27/2021 13:18:10'!
invalidSafeCommandErrorDescription
	
	^'Invalid safe command'! !

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:18:19'!
FAILURE!

!classDefinition: #MarsRover category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/27/2021 13:21:21'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head lastCommandProcessed surface sensor safeCommands'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:21:19' prior: 50905158!
tryToProcess: aCommand
	
	aCommand = $( 
		ifTrue: [safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !

!classDefinition: #MarsRover category: 'MarsRover-IS1-2Parcial-2c2019' stamp: 'ja 6/27/2021 13:23:10'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head lastCommandProcessed surface sensor safeCommands safeMode'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:23:08' prior: 50910285!
tryToProcess: aCommand
	
	aCommand = $( 
		ifTrue: [
			safeMode _ true.
			safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:25:17' prior: 50910305!
tryToProcess: aCommand
	safeMode ifTrue: [safeCommands add: aCommand. ]
		ifFalse: [ aCommand = $( 
				ifTrue: [
					safeMode _ true.
					safeCommands _ OrderedCollection new.]
				ifFalse: [aCommand isDigit 
						ifTrue:[ self processDigit: aCommand]
						ifFalse: [ self processCommand: aCommand ]]]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:25:58' prior: 50910316!
tryToProcess: aCommand
	safeMode ifTrue: [safeCommands add: aCommand. ].
	aCommand = $( 
			ifTrue: [
				safeMode _ true.
				safeCommands _ OrderedCollection new.]
			ifFalse: [aCommand isDigit 
					ifTrue:[ self processDigit: aCommand]
					ifFalse: [ self processCommand: aCommand ]]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:26:22' prior: 50910329!
tryToProcess: aCommand
	safeMode ifTrue: [safeCommands add: aCommand. ].
	aCommand = $( 
		ifTrue: [
			safeMode _ true.
			safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:26:36' prior: 50910341!
tryToProcess: aCommand

	safeMode ifTrue: [safeCommands add: aCommand. ].
	aCommand = $( 
		ifTrue: [
			safeMode _ true.
			safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:26:45' prior: 50910353!
tryToProcess: aCommand

	safeMode ifTrue: [safeCommands add: aCommand].
	aCommand = $( 
		ifTrue: [
			safeMode _ true.
			safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:29:12' prior: 50910365!
tryToProcess: aCommand

	safeMode ifTrue: [safeCommands add: aCommand].
	aCommand = $) ifTrue: [safeMode _ false].
	aCommand = $( 
		ifTrue: [
			safeMode _ true.
			safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:31:08' prior: 50905151!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand].
	safeMode ifTrue: [ self undoMovements ]
! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:31:19' prior: 50910391!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand].
	
	safeMode ifTrue: [ self undoMovements ]
! !
!MarsRover methodsFor: 'sensor' stamp: 'ja 6/27/2021 13:31:53'!
undoMovements! !
!MarsRover methodsFor: 'undo' stamp: 'ja 6/27/2021 13:32:44' prior: 50910406!
undoMovements

	! !
!MarsRover methodsFor: 'undo' stamp: 'ja 6/27/2021 13:33:15' prior: 50910409!
undoMovements

	safeCommands do: [:aCommand | self tryToProcess: aCommand].! !
!MarsRover methodsFor: 'undo' stamp: 'ja 6/27/2021 13:33:58' prior: 50910413!
undoMovements

	safeCommands do: [:aCommand | self undoProcess: aCommand].! !
!MarsRover methodsFor: 'undo' stamp: 'ja 6/27/2021 13:34:54'!
undoProcess: aCommand

	! !
!MarsRover methodsFor: 'undo' stamp: 'ja 6/27/2021 13:35:33' prior: 50910423!
undoProcess: aCommand

	aCommand isDigit 
			ifTrue:[ self processDigit: aCommand]
			ifFalse: [ self processCommand: aCommand ]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:36:47' prior: 50910399!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand].
	
	safeMode ifTrue: [ self undoMovements.
		self invalidSafeCommandErrorDescription ]
! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:36:54' prior: 50910434!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand].
	
	safeMode ifTrue: [ 
		self undoMovements.
		self invalidSafeCommandErrorDescription ]
! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:37:02' prior: 50910443!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand].
	
	safeMode ifTrue: [ 
		self undoMovements.
		self invalidSafeCommandErrorDescription ]
! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:37:13' prior: 50910452!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand].
	
	safeMode ifTrue: [ self undoMovements.
				      self invalidSafeCommandErrorDescription ]
! !
!MarsRover methodsFor: 'undo' stamp: 'ja 6/27/2021 13:37:53' prior: 50910427!
undoProcess: aCommand

	aCommand isDigit 
			ifTrue:[ self processDigit: aCommand]
			ifFalse: [ self undoProcessCommand: aCommand ]! !
!MarsRover methodsFor: 'undo' stamp: 'ja 6/27/2021 13:38:01'!
undoProcessCommand: aCommand ! !
!MarsRover methodsFor: 'undo' stamp: 'ja 6/27/2021 13:38:56' prior: 50910477!
undoProcessCommand: aCommand 

	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateLeft ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateRight ].

	! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:40:29' prior: 50910377!
tryToProcess: aCommand

	safeMode ifTrue: [safeCommands add: aCommand].
	(aCommand = $) and:[safeMode]) ifTrue: [safeMode _ false].
	aCommand = $( 
		ifTrue: [
			safeMode _ true.
			safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:42:07' prior: 50910461!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand] .
	
	safeMode ifTrue: [ self undoMovements.
				      self invalidSafeCommandErrorDescription ]
! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:42:22' prior: 50904181!
processCommand: aCommand
	
	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].

	self signalInvalidCommand.! !

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:43:40'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:43:52' prior: 50910252!
test36NotProcessInvalidSafeCommand
	
	| marsRover |
	
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(f']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription.
			self assert: (marsRover isAt: 1@2 heading: #North)]! !
!MarsRover methodsFor: 'initialization' stamp: 'ja 6/27/2021 13:45:20' prior: 50905565!
initializeAt: aPosition heading: aHeading withSensor: aSensor on: aSurface

	position := aPosition.
	head := aHeading .
	surface _ aSurface .
	sensor _ aSensor .
	safeMode _ false.! !

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:46:21'!
FAILURE!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:46:56'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:47:21' prior: 50910535!
test36NotProcessInvalidSafeCommand
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(f']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription.
			self assert: (marsRover isAt: 1@2 heading: #North)]! !

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:47:23'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:48:44' prior: 50910494!
tryToProcess: aCommand

	safeMode ifTrue: [safeCommands add: aCommand asString ].
	(aCommand = $) and:[safeMode]) ifTrue: [safeMode _ false].
	aCommand = $( 
		ifTrue: [
			safeMode _ true.
			safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:48:50'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:49:50' prior: 50910584!
tryToProcess: aCommand

	safeMode ifTrue: [safeCommands add: aCommand ].
	(aCommand = $) and:[safeMode]) ifTrue: [safeMode _ false].
	aCommand = $( 
		ifTrue: [
			safeMode _ true.
			safeCommands _ OrderedCollection new.]
		ifFalse: [aCommand isDigit 
				ifTrue:[ self processDigit: aCommand]
				ifFalse: [ self processCommand: aCommand ]]! !

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:49:58'!
FAILURE!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:51:29'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:52:14' prior: 50910508!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand] .
	
	safeMode ifTrue: [ self undoMovements.
				      self error: self invalidSafeCommandErrorDescription ]
! !

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 13:52:19'!
FAILURE!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 13:52:19'!
FAILURE!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 13:52:19'!
ERROR!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 13:52:19'!
FAILURE!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:52:19'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:52:46'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 13:52:48'!
FAILURE!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 13:52:48'!
FAILURE!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 13:52:48'!
ERROR!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 13:52:48'!
FAILURE!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 13:52:48'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:52:48'!
PASSED!
!MarsRover methodsFor: 'initialization' stamp: 'ja 6/27/2021 13:53:26' prior: 50906140!
initializeAt: aPosition heading: aHeading

	position := aPosition.
	head := aHeading .
	surface _ Dictionary new.
	safeMode _ false ! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 13:53:27'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:53:27'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 13:54:19'!
test37
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(fx']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription.
			self assert: (marsRover isAt: 1@2 heading: #North)]! !

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:54:23'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:56:16' prior: 50910518!
processCommand: aCommand
	
	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].

	safeMode ifTrue: [ self signalInvalidCommand pass]
		ifFalse: [self signalInvalidCommand].! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:56:18'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:56:18'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:56:18'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:42:22' prior: 50911047!
processCommand: aCommand
	
	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].

	self signalInvalidCommand.! !
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:56:52' prior: 50910623!
process: aSequenceOfCommands

	(aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand]) pass.
	
	safeMode ifTrue: [ self undoMovements.
				      self error: self invalidSafeCommandErrorDescription ]
! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 13:56:54'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 13:56:54'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 13:56:54'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 13:56:54'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:56:54'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:56:54'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 13:56:54'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 13:56:54'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 13:56:54'!
ERROR!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:56:54'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:56:54'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:57:02'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:57:02'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:57:26' prior: 50911208!
process: aSequenceOfCommands

	aSequenceOfCommands do: [:aCommand | self tryToProcess: aCommand].
	
	safeMode ifTrue: [ self undoMovements.
				      self error: self invalidSafeCommandErrorDescription ]
! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:57:35'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:57:35'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:57:35'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:57:55'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:57:55'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:58:53' prior: 50911194!
processCommand: aCommand
	
	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].

	self signalInvalidCommand pass.! !

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:58:59'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:58:59'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:59:39' prior: 50911497!
processCommand: aCommand
	
	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].

	self signalInvalidCommand passed .! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 13:59:41'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:59:41'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 13:59:41'!
FAILURE!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 13:59:47' prior: 50911516!
processCommand: aCommand
	
	(self isForwardCommand: aCommand) ifTrue: [ ^ self moveForward ].
	(self isBackwardCommand: aCommand) ifTrue: [ ^ self moveBackward ].
	(self isRotateRightCommand: aCommand) ifTrue: [ ^ self rotateRight ].
	(self isRotateLeftCommand: aCommand) ifTrue: [ ^ self rotateLeft ].

	self signalInvalidCommand .! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:01:11' prior: 50911029!
test37
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(fx']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription .
			self assert: (marsRover isAt: 1@2 heading: #North)]! !

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:01:12'!
FAILURE!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:01:20'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:01:36' prior: 50911676!
test37
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(fx']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription .
			self assert: (marsRover isAt: 1@3 heading: #North)]! !

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 14:01:37'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:01:37'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:01:52' prior: 50911696!
test37
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: '(fx']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription .
			self assert: (marsRover isAt: 1@3 heading: #North)] "esto hay que verlo de nuevo"! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:02:18'!
test38
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: 'f(fff']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidCommandErrorDescription .
			self assert: (marsRover isAt: 1@3 heading: #North)] "esto hay que verlo de nuevo"! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:02:31' prior: 50911857!
test38
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: 'f(fff']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription .
			self assert: (marsRover isAt: 1@3 heading: #North)] "esto hay que verlo de nuevo"! !
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:02:32' prior: 50911873!
test38
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: 'f(fff']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription.
			self assert: (marsRover isAt: 1@3 heading: #North)] "esto hay que verlo de nuevo"! !

!testRun: #MarsRoverTest #test38 stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:02:40'!
PASSED!

!testRun: #MarsRoverTest #test38 stamp: 'ja 6/27/2021 14:02:40'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:03:02' prior: 50911889!
test38
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: 'f(fff3']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription.
			self assert: (marsRover isAt: 1@3 heading: #North)] "esto hay que verlo de nuevo"! !

!testRun: #MarsRoverTest #test38 stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:03:04'!
PASSED!

!testRun: #MarsRoverTest #test38 stamp: 'ja 6/27/2021 14:03:04'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:03:30' prior: 50912039!
test38
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: 'fbf(fff3']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription.
			self assert: (marsRover isAt: 1@3 heading: #North)] "esto hay que verlo de nuevo"! !

!testRun: #MarsRoverTest #test38 stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:03:31'!
PASSED!

!testRun: #MarsRoverTest #test38 stamp: 'ja 6/27/2021 14:03:31'!
PASSED!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:05:43'!
test38CanProcessSafeCommandCorrectly
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb(f3)f'.
	
	self assert: (marsRover isAt: 1@7  heading: #North) ! !

!testRun: #MarsRoverTest #test38CanProcessSafeCommandCorrectly stamp: 'ja 6/27/2021 14:05:45'!
ERROR!

!testRun: #MarsRoverTest #test38CanProcessSafeCommandCorrectly stamp: 'ja 6/27/2021 14:06:05'!
ERROR!

!testRun: #MarsRoverTest #test38CanProcessSafeCommandCorrectly stamp: 'ja 6/27/2021 14:06:05'!
ERROR!

!testRun: #MarsRoverTest #test38 stamp: 'ja 6/27/2021 14:06:10'!
PASSED!

!methodRemoval: MarsRoverTest #test38 stamp: 'ja 6/27/2021 14:06:13'!
test38
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	self should: [marsRover process: 'fbf(fff3']
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: marsRover invalidSafeCommandErrorDescription.
			self assert: (marsRover isAt: 1@3 heading: #North)] "esto hay que verlo de nuevo"!

!testRun: #MarsRoverTest #test38CanProcessSafeCommandCorrectly stamp: 'ja 6/27/2021 14:06:49'!
ERROR!
!MarsRover methodsFor: 'command processing' stamp: 'ja 6/27/2021 14:07:41' prior: 50910602!
tryToProcess: aCommand

	safeMode ifTrue: [safeCommands add: aCommand ].
	(aCommand = $) and:[safeMode]) 
		ifTrue: [safeMode _ false]
		ifFalse: [aCommand = $( 
			ifTrue: [
				safeMode _ true.
				safeCommands _ OrderedCollection new.]
			ifFalse: [aCommand isDigit 
					ifTrue:[ self processDigit: aCommand]
					ifFalse: [ self processCommand: aCommand ]]]! !

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 14:07:44'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 14:07:44'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:07:45'!
PASSED!

!testRun: #MarsRoverTest #test38CanProcessSafeCommandCorrectly stamp: 'ja 6/27/2021 14:07:45'!
FAILURE!

!testRun: #MarsRoverTest #test38CanProcessSafeCommandCorrectly stamp: 'ja 6/27/2021 14:07:45'!
FAILURE!
!MarsRoverTest methodsFor: 'tests' stamp: 'ja 6/27/2021 14:10:37' prior: 50912338!
test38CanProcessSafeCommandCorrectly
	
	| marsRover |
	
	surface _ Dictionary new.
	marsRover := MarsRover at: 1@2 heading: #North withSensor: SurfaceValid new on: surface.
	
	marsRover process: 'fb(f3)f'.
	
	self assert: (marsRover isAt: 1@9  heading: #North) ! !

!testRun: #MarsRoverTest #test38CanProcessSafeCommandCorrectly stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test01EmptyCommandStringDoesNothing stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test02fWhenHeadingNorthIncrementsY stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test03bWhenHeadingNorthDecrementsY stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test04rWhenHeadingNorthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test05lWhenHeadingNorthMakesMarsRovePointToWest stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test06InvalidCommandsAreNotProcessed stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test07MoreThanOneCommandAreProcessedCorrectly stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test08fWhenHeadingEastIncrementsX stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test09bWhenHeadingEastDecrementsX stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test10rWhenHeadingEastMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test11lWhenHeadingEastMakesMarsRoverPointToNorth stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test12fbrAreProcessedCorrectlyWhenHeadingSouth stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test13lWhenHeadingSouthMakesMarsRoverPointToEast stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test14fbrAreProcessedCorrectlyWhenHeadingWest stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test15lWhenHeadingWestMakesMarsRoverPointToSouth stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test16CanNotCreateAMarsRoverWithAnInvalidHeading stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test17CannotProcessDigitsWithoutAPreviousValidCommand stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test18CanCorrectlyProcessfCommandFollowedByADigit stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test19CanCorrectlyProcesslCommandFollowedByADigit stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test20CanCorrectlyProcessbCommandFollowedByADigit stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test21CanCorrectlyProcessrCommandFollowedByADigit stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test22CanCorrectlyProcessManyValidCommandsFollowedByADigit stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test23TheCommandCannotHaveTwoDigitsInARow stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test24CanMoveNormalOnTheSurfaceEarth stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test25CanNotMoveForwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test26CanNotMoveBackwardNormallyOnTheSurfaceRock stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test27CanNotMoveBackwardNormallyOnTheSurfaceRockWhenHeadingEast stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test28CanNotMoveForwardNormallyOnTheSurfaceRockWhenHeadingWest stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test29CanAdvanceProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test30CanRollBackProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test31CanAdvanceProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test32CanRollBackProperlyToEastWhenThereIsIce stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test33CanRotateToEastProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test34CanRotateToWestProperlyWhenThereIsIce stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test35FuncionaBienEnVariasSuperficiesConHielo stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test36NotProcessInvalidSafeCommand stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test37 stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

!testRun: #MarsRoverTest #test38CanProcessSafeCommandCorrectly stamp: 'ja 6/27/2021 14:10:38'!
PASSED!

----QUIT----(27 June 2021 14:34:32) CuisUniversity-4532.image priorSource: 18418423!

----STARTUP---- (27 June 2021 21:56:36) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #SurfaceValid stamp: 'ja 6/27/2021 22:00:11'!
MarsRoverSensor subclass: #SurfaceValid
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #SurfaceRock stamp: 'ja 6/27/2021 22:00:11'!
MarsRoverSensor subclass: #SurfaceRock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #SurfaceIce stamp: 'ja 6/27/2021 22:00:12'!
MarsRoverSensor subclass: #SurfaceIce
	instanceVariableNames: 'offset'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #SurfaceEarth stamp: 'ja 6/27/2021 22:00:12'!
MarsRoverSensor subclass: #SurfaceEarth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #MarsRoverSensor stamp: 'ja 6/27/2021 22:00:13'!
Object subclass: #MarsRoverSensor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #MarsRoverHeadingWest stamp: 'ja 6/27/2021 22:00:13'!
MarsRoverHeading subclass: #MarsRoverHeadingWest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #MarsRoverHeadingSouth stamp: 'ja 6/27/2021 22:00:13'!
MarsRoverHeading subclass: #MarsRoverHeadingSouth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #MarsRoverHeadingNorth stamp: 'ja 6/27/2021 22:00:14'!
MarsRoverHeading subclass: #MarsRoverHeadingNorth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #MarsRoverHeadingEast stamp: 'ja 6/27/2021 22:00:14'!
MarsRoverHeading subclass: #MarsRoverHeadingEast
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #MarsRoverHeading stamp: 'ja 6/27/2021 22:00:15'!
Object subclass: #MarsRoverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #MarsRover stamp: 'ja 6/27/2021 22:00:15'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head lastCommandProcessed surface sensor safeCommands safeMode'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

!classRemoval: #MarsRoverTest stamp: 'ja 6/27/2021 22:00:16'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: 'surface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-IS1-2Parcial-2c2019'!

----QUIT----(27 June 2021 22:01:06) CuisUniversity-4532.image priorSource: 18592829!

----STARTUP---- (27 June 2021 22:01:12) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!classRemoval: #TusLibrosFacade stamp: 'ja 6/27/2021 22:01:51'!
Object subclass: #TusLibrosFacade
	instanceVariableNames: 'validAccounts catalog sessions lastId salesBook merchantProcesor clock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #StoreTestObjectsFactory stamp: 'ja 6/27/2021 22:01:52'!
Object subclass: #StoreTestObjectsFactory
	instanceVariableNames: 'today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Session stamp: 'ja 6/27/2021 22:01:52'!
Object subclass: #Session
	instanceVariableNames: 'owner cart facade lastTime'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Sale stamp: 'ja 6/27/2021 22:01:53'!
Object subclass: #Sale
	instanceVariableNames: 'owner receipt'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #PurchaseReceipt stamp: 'ja 6/27/2021 22:01:53'!
Object subclass: #PurchaseReceipt
	instanceVariableNames: 'purchases total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CustomClock stamp: 'ja 6/27/2021 22:01:54'!
Object subclass: #CustomClock
	instanceVariableNames: 'now'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCard stamp: 'ja 6/27/2021 22:01:54'!
Object subclass: #CreditCard
	instanceVariableNames: 'expiration'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cashier stamp: 'ja 6/27/2021 22:01:55'!
Object subclass: #Cashier
	instanceVariableNames: 'cart salesBook merchantProcessor creditCard total owner purchase receipt'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cart stamp: 'ja 6/27/2021 22:01:55'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #TusLibrosFacadeTest stamp: 'ja 6/27/2021 22:01:56'!
TestCase subclass: #TusLibrosFacadeTest
	instanceVariableNames: 'facade testObjectFactory debitBehavior customClock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierTest stamp: 'ja 6/27/2021 22:01:57'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testObjectsFactory debitBehavior'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'ja 6/27/2021 22:01:57'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjectsFactory'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of /home/jampuero/Documentos/isw1/2020/Parciales/2020-1c/2doParcial/ISW1-2020-1C-2doParcial-CodigoParaEmpezar.st----!

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test02CanNotCreateTrailerWithCeroOrLessMaxHeight stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test03CanNotCreateTrailerWithNoIntegerMaxWeight stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test04CanNotCreateTrailerWithNoIntegerMaxHeight stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test05ShouldRejectProductAIfWeightExceeded stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test06ShouldRejectProductBIfWeightExceeded stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test07ShouldAcceptProductsIfWeightUnderMaxWeightCapacity stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test08ShouldAcceptProductsIfWeightEqualsMaxWeightCapacity stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test09ShouldAcceptNonStackableProductsIgnoringHeightCapacity stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test10ShouldIgnoreNonStackableProductsWhenAddingStackableProduct stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #TrailerTest #test11ShouldRejectStackableProductExceedingHeightCapacity stamp: 'ja 6/27/2021 22:03:30'!
PASSED!

!testRun: #RobotTest #test01ShouldReceiveAnEmptyTrailer stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #RobotTest #test02ShouldTakeProductsWhenWorkingNormal stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #RobotTest #test03ShouldTakeProductsWhenWorkingWithSensorsFailures stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #RobotTest #test04ShouldTakeProductsWhenWorkingWithMechanicalFailures stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #RobotTest #test05ShouldNotTakeProductsWhenOutOfOrder stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #RobotTest #test06CanCloseOrderWhenWorkingNormal stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #RobotTest #test07CanNotCloseOrderWhenWorkingWithSensorsFailures stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #RobotTest #test08CanCloseOrderWhenWorkingWithMechanicalFailures stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #RobotTest #test09CanNotCloseOrderWhenOutOfOrder stamp: 'ja 6/27/2021 22:03:39'!
PASSED!

!testRun: #CashierTest #test01ShouldNotAcceptEmptyTrailerFromNormalWorkingRobot stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #CashierTest #test02ShouldNotAcceptEmptyTrailerFromMechanicalFailureRobot stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #CashierTest #test03ShouldNotAcceptSensorsFailureRobot stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #CashierTest #test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #ProductTest #test01CanNotCreateProductWithCeroOrLessWeight stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #ProductTest #test02CanNotCreateProductWithCeroOrLessHeight stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #ProductTest #test03CanNotCreateProductWithNoIntegerWeight stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #ProductTest #test04CanNotCreateProductWithNoIntegerHeight stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test01ShouldReceiveAnEmptyTrailer stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test02ShouldTakeProductsWhenWorkingNormal stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test03ShouldTakeProductsWhenWorkingWithSensorsFailures stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test04ShouldTakeProductsWhenWorkingWithMechanicalFailures stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test05ShouldNotTakeProductsWhenOutOfOrder stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test06CanCloseOrderWhenWorkingNormal stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test07CanNotCloseOrderWhenWorkingWithSensorsFailures stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test08CanCloseOrderWhenWorkingWithMechanicalFailures stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #RobotTest #test09CanNotCloseOrderWhenOutOfOrder stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test02CanNotCreateTrailerWithCeroOrLessMaxHeight stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test03CanNotCreateTrailerWithNoIntegerMaxWeight stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test04CanNotCreateTrailerWithNoIntegerMaxHeight stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test05ShouldRejectProductAIfWeightExceeded stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test06ShouldRejectProductBIfWeightExceeded stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test07ShouldAcceptProductsIfWeightUnderMaxWeightCapacity stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test08ShouldAcceptProductsIfWeightEqualsMaxWeightCapacity stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test09ShouldAcceptNonStackableProductsIgnoringHeightCapacity stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test10ShouldIgnoreNonStackableProductsWhenAddingStackableProduct stamp: 'ja 6/27/2021 22:03:41'!
PASSED!

!testRun: #TrailerTest #test11ShouldRejectStackableProductExceedingHeightCapacity stamp: 'ja 6/27/2021 22:03:41'!
PASSED!
!ProductTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:32:24'!
test05CanNotCreateProductWithPollutionIndexThatIsNotANumber

	self
		should: [ Product with: 100  and: 1.5 ]
		raise: Error
		withMessageText: Product heightMustBeIntegerErrorDescription 

! !
!ProductTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:32:43' prior: 50914071!
test05CanNotCreateProductWithPollutionIndexThatIsNotANumber

	self
		should: [ Product with: 100  and: 1  ]
		raise: Error
		withMessageText: Product heightMustBeIntegerErrorDescription 

! !
!ProductTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:33:11' prior: 50914080!
test05CanNotCreateProductWithPollutionIndexThatIsNotANumber

	self
		should: [ Product with: 100  and: 1  ]
		raise: Error
		withMessageText: Product canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription. 

! !
!Trailer class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:34:28'!
with: aWeightCapacity and: aHeightCapacity withPollutionIndex: aPollutionIndex 

	aWeightCapacity strictlyPositive ifFalse: [ self signalInvalidWeightCapacity ].
	aHeightCapacity strictlyPositive ifFalse: [ self signalInvalidHeightCapacity ].
	
	aWeightCapacity isInteger ifFalse: [ self signalWeightCapacityMustBeInteger ].
	aHeightCapacity isInteger ifFalse: [ self signalHeightCapacityMustBeInteger ].
		
	^ self new initializeWith: aWeightCapacity and: aHeightCapacity.

! !
!Product class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:34:28'!
with: aWeight and: aHeight withPollutionIndex: aPollutionIndex 
	
	aWeight strictlyPositive ifFalse: [ self signalInvalidWeight ].
	aHeight strictlyPositive ifFalse: [ self signalInvalidHeight ].

	aWeight isInteger ifFalse: [ self signalWeightMustBeInteger ].
	aHeight isInteger ifFalse: [ self signalHeightMustBeInteger ].
	
	^ self new initializeWith: aWeight and: aHeight! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913027!
test05ShouldNotTakeProductsWhenOutOfOrder

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	aRobot outOfOrder.
	
	self
		should: [ aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0) ]
		raise: Error
		withMessageText: Robot outOfOrderErrorDescription.
	
	self assert: 0 equals: aTrailer totalProductsAmount! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913065!
test08CanCloseOrderWhenWorkingWithMechanicalFailures

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).

	aRobot withMechanicalFailure.	
		
	self assert: (aRobot closeOrderUsing: Cashier new).! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50912993!
test02ShouldTakeProductsWhenWorkingNormal

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self assert: 1 equals: aTrailer totalProductsAmount! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913003!
test03ShouldTakeProductsWhenWorkingWithSensorsFailures

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	aRobot withSensorsFailure.
	
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self assert: 1 equals: aTrailer totalProductsAmount! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913101!
shouldAcceptProducts: aTrailerBlock withAmount: anExpectedAmount andWeight: anExpectedWeight  

	| aTrailer |
	aTrailer := Trailer with: 11  and: 100 withPollutionIndex: 0.
	
	aTrailer carry: (ProductA with: 1 and: 1 withPollutionIndex: 0).
	aTrailer carry: (ProductA with: 2 and: 1 withPollutionIndex: 0).
	aTrailer carry: (ProductB with: 3 and: 1 withPollutionIndex: 0).
	aTrailer carry: (ProductB with: 4 and: 1 withPollutionIndex: 0).
	aTrailerBlock value: aTrailer.
		
	self assert: aTrailer totalProductsAmount equals: anExpectedAmount.
	self assert: aTrailer totalProductsWeight equals: anExpectedWeight ! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913195!
assertHeightShouldBe: anExpectedHeightBlock whenAdding: aProductTypeToAdd 

	| aTrailer heightCapacity exceededHeightCapacity halfExceededHeightCapacity |

	heightCapacity := 100.
	aTrailer := Trailer with: 20  and: heightCapacity withPollutionIndex: 0.
	
	exceededHeightCapacity := heightCapacity + 2.
	halfExceededHeightCapacity := exceededHeightCapacity / 2.
	
	aTrailer carry: (ProductA with: 10 and: halfExceededHeightCapacity withPollutionIndex: 0).
	aTrailer carry: (aProductTypeToAdd with: 10 and: halfExceededHeightCapacity withPollutionIndex: 0).
	
	self assert: aTrailer totalProductsAmount equals: 2.
	self assert: aTrailer totalProductsHeight equals: (anExpectedHeightBlock value: halfExceededHeightCapacity)! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913232!
test11ShouldRejectStackableProductExceedingHeightCapacity

	| aTrailer heightCapacity exceededHeightCapacity halfExceededHeightCapacity |

	heightCapacity := 100.
	aTrailer := Trailer with: 20  and: heightCapacity withPollutionIndex: 0.
	
	exceededHeightCapacity := heightCapacity + 2.
	halfExceededHeightCapacity := exceededHeightCapacity / 2.
	
	aTrailer carry: (ProductB with: 10 and: halfExceededHeightCapacity withPollutionIndex: 0).

	self 
		should: [aTrailer carry: (ProductB with: 10 and: halfExceededHeightCapacity withPollutionIndex: 0)] 
		raise: Error
		withMessageText: Trailer maxHeightExceededErrorDescription.
	
	self assert: aTrailer totalProductsAmount equals: 1.
	self assert: aTrailer totalProductsHeight equals: halfExceededHeightCapacity.
	! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913076!
test09CanNotCloseOrderWhenOutOfOrder

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	aRobot outOfOrder.

	self
		should: [ aRobot closeOrderUsing: Cashier new ]
		raise: Error
		withMessageText: Robot outOfOrderErrorDescription.
 
! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913051!
test07CanNotCloseOrderWhenWorkingWithSensorsFailures

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	aRobot withSensorsFailure.

	self
		should: [ aRobot closeOrderUsing: Cashier new ]
		raise: Error
		withMessageText: Cashier robotSensorsFailureErrorDescription.
 
! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913140!
test02CanNotCreateTrailerWithCeroOrLessMaxHeight

	self
		should: [ Trailer with: 1  and: 0 withPollutionIndex: 0 ]
		raise: Error
		withMessageText: Trailer invalidHeightCapacityErrorDescription 
! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913157!
test04CanNotCreateTrailerWithNoIntegerMaxHeight

	self
		should: [ Trailer with: 100  and: 1.5 withPollutionIndex: 0 ]
		raise: Error
		withMessageText: Trailer heightCapacityMustBeIntegerErrorDescription 
! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913120!
shouldSignalMaxWeightExceededErrorDescriptionWhenAdding: aProductType

	| aTrailer |
	aTrailer := Trailer with: 20  and: 100 withPollutionIndex: 0.
	
	self
		should: [ aTrailer carry: (aProductType with: 21 and: 1 withPollutionIndex: 0)]
		raise: Error
		withMessageText: Trailer maxWeightExceededErrorDescription.
		
	self assert: aTrailer isEmpty! !
!ProductTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50912938!
test01CanNotCreateProductWithCeroOrLessWeight

	self
		should: [ ProductA with: 0  and: 100 withPollutionIndex: 0 ]
		raise: Error
		withMessageText: Product invalidWeightErrorDescription 
! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913148!
test03CanNotCreateTrailerWithNoIntegerMaxWeight

	self
		should: [ Trailer with: 1.5  and: 100 withPollutionIndex: 0 ]
		raise: Error
		withMessageText: Trailer weightCapacityMustBeIntegerErrorDescription 
! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913132!
test01CanNotCreateTrailerWithCeroOrLessMaxWeight

	self
		should: [ Trailer with: 0  and: 100 withPollutionIndex: 0 ]
		raise: Error
		withMessageText: Trailer invalidWeightCapacityErrorDescription 
! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913015!
test04ShouldTakeProductsWhenWorkingWithMechanicalFailures

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	aRobot withMechanicalFailure.
	
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self assert: 1 equals: aTrailer totalProductsAmount! !
!TrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913187!
test08ShouldAcceptProductsIfWeightEqualsMaxWeightCapacity

	self shouldAcceptProducts: [ :trailer | trailer carry: (ProductB with: 1 and: 1 withPollutionIndex: 0).] withAmount: 5 andWeight: 11.
! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50913041!
test06CanCloseOrderWhenWorkingNormal

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self assert: (aRobot closeOrderUsing: Cashier new)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50912912!
test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot

	self 
		shouldRaise: Robot outOfOrderErrorDescription
		when: [ :aRobot :aCashier |
			aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
			aRobot withMechanicalFailure.
			
			aCashier receiveOrderFromMechanicalFailure: aRobot.			
			
			aRobot take: (ProductA with: 1 and: 1 withPollutionIndex: 0).
		]
! !
!ProductTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50914089!
test05CanNotCreateProductWithPollutionIndexThatIsNotANumber

	self
		should: [ Product with: 100  and: 1 withPollutionIndex: 0  ]
		raise: Error
		withMessageText: Product canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription. 

! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50912869!
shouldRaise: errorMessage when: aBlock

	| aRobot aTrailer aCashier |
	
	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aRobot := Robot with: aTrailer.
	
	aCashier := Cashier new.

	self
		should: [ aBlock value: aRobot value: aCashier ]
		raise: Error
		withMessageText: errorMessage.
! !
!ProductTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50912962!
test04CanNotCreateProductWithNoIntegerHeight

	self
		should: [ Product with: 100  and: 1.5 withPollutionIndex: 0 ]
		raise: Error
		withMessageText: Product heightMustBeIntegerErrorDescription 

! !
!ProductTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50912946!
test02CanNotCreateProductWithCeroOrLessHeight

	self
		should: [ ProductA with: 100  and: 0 withPollutionIndex: 0 ]
		raise: Error
		withMessageText: Product invalidHeightErrorDescription 
! !
!RobotTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50912982!
test01ShouldReceiveAnEmptyTrailer

	| aTrailer |

	aTrailer := Trailer with: 20 and: 100 withPollutionIndex: 0.
	aTrailer carry: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self
		should: [ Robot with: aTrailer ]
		raise: Error
		withMessageText: Robot notEmptyTrailerErrorDescription! !
!ProductTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:34:28' prior: 50912954!
test03CanNotCreateProductWithNoIntegerWeight

	self
		should: [ Product with: 1.5  and: 100 withPollutionIndex: 0 ]
		raise: Error
		withMessageText: Product weightMustBeIntegerErrorDescription 

! !

!methodRemoval: Trailer class #with:and: stamp: 'ja 6/27/2021 22:34:28'!
with: aWeightCapacity and: aHeightCapacity

	aWeightCapacity strictlyPositive ifFalse: [ self signalInvalidWeightCapacity ].
	aHeightCapacity strictlyPositive ifFalse: [ self signalInvalidHeightCapacity ].
	
	aWeightCapacity isInteger ifFalse: [ self signalWeightCapacityMustBeInteger ].
	aHeightCapacity isInteger ifFalse: [ self signalHeightCapacityMustBeInteger ].
		
	^ self new initializeWith: aWeightCapacity and: aHeightCapacity.

!

!methodRemoval: Product class #with:and: stamp: 'ja 6/27/2021 22:34:28'!
with: aWeight and: aHeight
	
	aWeight strictlyPositive ifFalse: [ self signalInvalidWeight ].
	aHeight strictlyPositive ifFalse: [ self signalInvalidHeight ].

	aWeight isInteger ifFalse: [ self signalWeightMustBeInteger ].
	aHeight isInteger ifFalse: [ self signalHeightMustBeInteger ].
	
	^ self new initializeWith: aWeight and: aHeight!
!ProductTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:34:50' prior: 50914410!
test05CanNotCreateProductWithPollutionIndexThatIsNotANumber

	self
		should: [ Product with: 100  and: 1 withPollutionIndex: 'a' ]
		raise: Error
		withMessageText: Product canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription. 

! !

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:34:52'!
ERROR!
!Product class methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:35:03'!
canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription
	self shouldBeImplemented.! !

errorMessage  _ CustomStringParserToErrorMessage toParse: 
'canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription'.
errorMessage parse. !
!Product class methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:35:41' prior: 50914520!
canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription
	
	^  'Can not create product with pollution index that is not a number.' ! !

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:35:44'!
FAILURE!
!Product class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:36:57' prior: 50914117!
with: aWeight and: aHeight withPollutionIndex: aPollutionIndex 
	
	aWeight strictlyPositive ifFalse: [ self signalInvalidWeight ].
	aHeight strictlyPositive ifFalse: [ self signalInvalidHeight ].

	aWeight isInteger ifFalse: [ self signalWeightMustBeInteger ].
	aHeight isInteger ifFalse: [ self signalHeightMustBeInteger ].
	
	aPollutionIndex isNumber ifFalse: [self error: self canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription ].
	
	^ self new initializeWith: aWeight and: aHeight! !

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:37:00'!
PASSED!

!testRun: #ProductTest #test01CanNotCreateProductWithCeroOrLessWeight stamp: 'ja 6/27/2021 22:37:00'!
PASSED!

!testRun: #ProductTest #test02CanNotCreateProductWithCeroOrLessHeight stamp: 'ja 6/27/2021 22:37:00'!
PASSED!

!testRun: #ProductTest #test03CanNotCreateProductWithNoIntegerWeight stamp: 'ja 6/27/2021 22:37:00'!
PASSED!

!testRun: #ProductTest #test04CanNotCreateProductWithNoIntegerHeight stamp: 'ja 6/27/2021 22:37:00'!
PASSED!

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:37:00'!
PASSED!
!ProductTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:37:32'!
test06CanNotCreateProductWithPollutionIndexNegative

	self
		should: [ Product with: 100  and: 1 withPollutionIndex: -1 ]
		raise: Error
		withMessageText: Product canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription. 

! !
!ProductTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:37:47' prior: 50914583!
test06CanNotCreateProductWithPollutionIndexNegative

	self
		should: [ Product with: 100  and: 1 withPollutionIndex: -1 ]
		raise: Error
		withMessageText: Product canNotCreateProductWithPollutionIndexNegativeErrorDescription. 

! !
!Product class methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 22:38:20'!
canNotCreateProductWithPollutionIndexNegativeErrorDescription
	
	^  'Can not create product with pollution index negative' ! !
!Product class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:39:09' prior: 50914543!
with: aWeight and: aHeight withPollutionIndex: aPollutionIndex 
	
	aWeight strictlyPositive ifFalse: [ self signalInvalidWeight ].
	aHeight strictlyPositive ifFalse: [ self signalInvalidHeight ].

	aWeight isInteger ifFalse: [ self signalWeightMustBeInteger ].
	aHeight isInteger ifFalse: [ self signalHeightMustBeInteger ].
	
	aPollutionIndex isNumber ifFalse: [self error: self canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription ].
	aPollutionIndex strictlyPositive ifFalse: [self error: self canNotCreateProductWithPollutionIndexNegativeErrorDescription ].
	
	^ self new initializeWith: aWeight and: aHeight! !

!testRun: #ProductTest #test06CanNotCreateProductWithPollutionIndexNegative stamp: 'ja 6/27/2021 22:39:11'!
PASSED!

!testRun: #ProductTest #test01CanNotCreateProductWithCeroOrLessWeight stamp: 'ja 6/27/2021 22:39:11'!
PASSED!

!testRun: #ProductTest #test02CanNotCreateProductWithCeroOrLessHeight stamp: 'ja 6/27/2021 22:39:11'!
PASSED!

!testRun: #ProductTest #test03CanNotCreateProductWithNoIntegerWeight stamp: 'ja 6/27/2021 22:39:11'!
PASSED!

!testRun: #ProductTest #test04CanNotCreateProductWithNoIntegerHeight stamp: 'ja 6/27/2021 22:39:11'!
PASSED!

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:39:11'!
PASSED!

!testRun: #ProductTest #test06CanNotCreateProductWithPollutionIndexNegative stamp: 'ja 6/27/2021 22:39:11'!
PASSED!
!ProductTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:41:13'!
test07CanCreateProductWithPollutionIndexCorrectly

	| product |
	product _ Product with: 100  and: 1 withPollutionIndex: 35 .
	
	self assert: product pollutionIndex = 11.! !

Object subclass: #Product
	instanceVariableNames: 'weight height pollutionIndex'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classDefinition: #Product category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/27/2021 22:41:26'!
Object subclass: #Product
	instanceVariableNames: 'weight height pollutionIndex'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!
!Product methodsFor: 'testing' stamp: 'ja 6/27/2021 22:41:38'!
pollutionIndex
	
	^ pollutionIndex ! !
!Product methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:42:13'!
initializeWith: aWeight and: aHeight withPollutionIndex: aPollutionIndex
	
	weight := aWeight.
	height := aHeight.
	pollutionIndex _ aPollutionIndex ! !

!methodRemoval: Product #initializeWith:and: stamp: 'ja 6/27/2021 22:43:01'!
initializeWith: aWeight and: aHeight
	
	weight := aWeight.
	height := aHeight.!
!Product class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:43:32' prior: 50914611!
with: aWeight and: aHeight withPollutionIndex: aPollutionIndex 
	
	aWeight strictlyPositive ifFalse: [ self signalInvalidWeight ].
	aHeight strictlyPositive ifFalse: [ self signalInvalidHeight ].

	aWeight isInteger ifFalse: [ self signalWeightMustBeInteger ].
	aHeight isInteger ifFalse: [ self signalHeightMustBeInteger ].
	
	aPollutionIndex isNumber ifFalse: [self error: self canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription ].
	aPollutionIndex strictlyPositive ifFalse: [self error: self canNotCreateProductWithPollutionIndexNegativeErrorDescription ].
	
	^ self new initializeWith: aWeight and: aHeight withPollutionIndex: aPollutionIndex ! !

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:45:38'!
PASSED!

!testRun: #TrailerTest #test02CanNotCreateTrailerWithCeroOrLessMaxHeight stamp: 'ja 6/27/2021 22:45:38'!
PASSED!

!testRun: #TrailerTest #test03CanNotCreateTrailerWithNoIntegerMaxWeight stamp: 'ja 6/27/2021 22:45:38'!
PASSED!

!testRun: #TrailerTest #test04CanNotCreateTrailerWithNoIntegerMaxHeight stamp: 'ja 6/27/2021 22:45:38'!
PASSED!

!testRun: #TrailerTest #test05ShouldRejectProductAIfWeightExceeded stamp: 'ja 6/27/2021 22:45:38'!
FAILURE!

!testRun: #TrailerTest #test06ShouldRejectProductBIfWeightExceeded stamp: 'ja 6/27/2021 22:45:38'!
FAILURE!

!testRun: #TrailerTest #test07ShouldAcceptProductsIfWeightUnderMaxWeightCapacity stamp: 'ja 6/27/2021 22:45:38'!
ERROR!

!testRun: #TrailerTest #test08ShouldAcceptProductsIfWeightEqualsMaxWeightCapacity stamp: 'ja 6/27/2021 22:45:38'!
ERROR!

!testRun: #TrailerTest #test09ShouldAcceptNonStackableProductsIgnoringHeightCapacity stamp: 'ja 6/27/2021 22:45:38'!
ERROR!

!testRun: #TrailerTest #test10ShouldIgnoreNonStackableProductsWhenAddingStackableProduct stamp: 'ja 6/27/2021 22:45:38'!
ERROR!

!testRun: #TrailerTest #test11ShouldRejectStackableProductExceedingHeightCapacity stamp: 'ja 6/27/2021 22:45:38'!
ERROR!

!testRun: #ProductTest #test01CanNotCreateProductWithCeroOrLessWeight stamp: 'ja 6/27/2021 22:46:45'!
PASSED!

!testRun: #ProductTest #test02CanNotCreateProductWithCeroOrLessHeight stamp: 'ja 6/27/2021 22:46:45'!
PASSED!

!testRun: #ProductTest #test03CanNotCreateProductWithNoIntegerWeight stamp: 'ja 6/27/2021 22:46:45'!
PASSED!

!testRun: #ProductTest #test04CanNotCreateProductWithNoIntegerHeight stamp: 'ja 6/27/2021 22:46:45'!
PASSED!

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:46:45'!
PASSED!

!testRun: #ProductTest #test06CanNotCreateProductWithPollutionIndexNegative stamp: 'ja 6/27/2021 22:46:45'!
PASSED!

!testRun: #ProductTest #test07CanCreateProductWithPollutionIndexCorrectly stamp: 'ja 6/27/2021 22:46:45'!
FAILURE!

!testRun: #ProductTest #test07CanCreateProductWithPollutionIndexCorrectly stamp: 'ja 6/27/2021 22:46:45'!
FAILURE!

!testRun: #ProductTest #test07CanCreateProductWithPollutionIndexCorrectly stamp: 'ja 6/27/2021 22:46:48'!
PASSED!
!ProductTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:46:59' prior: 50914659!
test07CanCreateProductWithPollutionIndexCorrectly

	| product |
	product _ Product with: 100  and: 1 withPollutionIndex: 35 .
	
	self assert: product pollutionIndex = 35.! !

!testRun: #ProductTest #test07CanCreateProductWithPollutionIndexCorrectly stamp: 'ja 6/27/2021 22:47:00'!
PASSED!

!testRun: #ProductTest #test01CanNotCreateProductWithCeroOrLessWeight stamp: 'ja 6/27/2021 22:47:00'!
PASSED!

!testRun: #ProductTest #test02CanNotCreateProductWithCeroOrLessHeight stamp: 'ja 6/27/2021 22:47:00'!
PASSED!

!testRun: #ProductTest #test03CanNotCreateProductWithNoIntegerWeight stamp: 'ja 6/27/2021 22:47:00'!
PASSED!

!testRun: #ProductTest #test04CanNotCreateProductWithNoIntegerHeight stamp: 'ja 6/27/2021 22:47:00'!
PASSED!

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:47:00'!
PASSED!

!testRun: #ProductTest #test06CanNotCreateProductWithPollutionIndexNegative stamp: 'ja 6/27/2021 22:47:00'!
PASSED!

!testRun: #ProductTest #test07CanCreateProductWithPollutionIndexCorrectly stamp: 'ja 6/27/2021 22:47:00'!
PASSED!

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:47:08'!
PASSED!

!testRun: #TrailerTest #test02CanNotCreateTrailerWithCeroOrLessMaxHeight stamp: 'ja 6/27/2021 22:47:08'!
PASSED!

!testRun: #TrailerTest #test03CanNotCreateTrailerWithNoIntegerMaxWeight stamp: 'ja 6/27/2021 22:47:08'!
PASSED!

!testRun: #TrailerTest #test04CanNotCreateTrailerWithNoIntegerMaxHeight stamp: 'ja 6/27/2021 22:47:08'!
PASSED!

!testRun: #TrailerTest #test05ShouldRejectProductAIfWeightExceeded stamp: 'ja 6/27/2021 22:47:08'!
FAILURE!

!testRun: #TrailerTest #test06ShouldRejectProductBIfWeightExceeded stamp: 'ja 6/27/2021 22:47:08'!
FAILURE!

!testRun: #TrailerTest #test07ShouldAcceptProductsIfWeightUnderMaxWeightCapacity stamp: 'ja 6/27/2021 22:47:08'!
ERROR!

!testRun: #TrailerTest #test08ShouldAcceptProductsIfWeightEqualsMaxWeightCapacity stamp: 'ja 6/27/2021 22:47:08'!
ERROR!

!testRun: #TrailerTest #test09ShouldAcceptNonStackableProductsIgnoringHeightCapacity stamp: 'ja 6/27/2021 22:47:08'!
ERROR!

!testRun: #TrailerTest #test10ShouldIgnoreNonStackableProductsWhenAddingStackableProduct stamp: 'ja 6/27/2021 22:47:08'!
ERROR!

!testRun: #TrailerTest #test11ShouldRejectStackableProductExceedingHeightCapacity stamp: 'ja 6/27/2021 22:47:08'!
ERROR!

!testRun: #TrailerTest #test07ShouldAcceptProductsIfWeightUnderMaxWeightCapacity stamp: 'ja 6/27/2021 22:47:49'!
ERROR!
!Product class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:48:52' prior: 50914697!
with: aWeight and: aHeight withPollutionIndex: aPollutionIndex 
	
	aWeight strictlyPositive ifFalse: [ self signalInvalidWeight ].
	aHeight strictlyPositive ifFalse: [ self signalInvalidHeight ].

	aWeight isInteger ifFalse: [ self signalWeightMustBeInteger ].
	aHeight isInteger ifFalse: [ self signalHeightMustBeInteger ].
	
	aPollutionIndex isNumber ifFalse: [self error: self canNotCreateProductWithPollutionIndexThatIsNotANumberErrorDescription ].
	aPollutionIndex positive ifFalse: [self error: self canNotCreateProductWithPollutionIndexNegativeErrorDescription ].
	
	^ self new initializeWith: aWeight and: aHeight withPollutionIndex: aPollutionIndex ! !

!testRun: #ProductTest #test01CanNotCreateProductWithCeroOrLessWeight stamp: 'ja 6/27/2021 22:49:19'!
PASSED!

!testRun: #ProductTest #test02CanNotCreateProductWithCeroOrLessHeight stamp: 'ja 6/27/2021 22:49:19'!
PASSED!

!testRun: #ProductTest #test03CanNotCreateProductWithNoIntegerWeight stamp: 'ja 6/27/2021 22:49:19'!
PASSED!

!testRun: #ProductTest #test04CanNotCreateProductWithNoIntegerHeight stamp: 'ja 6/27/2021 22:49:19'!
PASSED!

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:49:19'!
PASSED!

!testRun: #ProductTest #test06CanNotCreateProductWithPollutionIndexNegative stamp: 'ja 6/27/2021 22:49:19'!
PASSED!

!testRun: #ProductTest #test07CanCreateProductWithPollutionIndexCorrectly stamp: 'ja 6/27/2021 22:49:19'!
PASSED!

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test02CanNotCreateTrailerWithCeroOrLessMaxHeight stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test03CanNotCreateTrailerWithNoIntegerMaxWeight stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test04CanNotCreateTrailerWithNoIntegerMaxHeight stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test05ShouldRejectProductAIfWeightExceeded stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test06ShouldRejectProductBIfWeightExceeded stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test07ShouldAcceptProductsIfWeightUnderMaxWeightCapacity stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test08ShouldAcceptProductsIfWeightEqualsMaxWeightCapacity stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test09ShouldAcceptNonStackableProductsIgnoringHeightCapacity stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test10ShouldIgnoreNonStackableProductsWhenAddingStackableProduct stamp: 'ja 6/27/2021 22:49:32'!
PASSED!

!testRun: #TrailerTest #test11ShouldRejectStackableProductExceedingHeightCapacity stamp: 'ja 6/27/2021 22:49:32'!
PASSED!
!Trailer class methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:49:59'!
with: aWeightCapacity and: aHeightCapacity  

	aWeightCapacity strictlyPositive ifFalse: [ self signalInvalidWeightCapacity ].
	aHeightCapacity strictlyPositive ifFalse: [ self signalInvalidHeightCapacity ].
	
	aWeightCapacity isInteger ifFalse: [ self signalWeightCapacityMustBeInteger ].
	aHeightCapacity isInteger ifFalse: [ self signalHeightCapacityMustBeInteger ].
		
	^ self new initializeWith: aWeightCapacity and: aHeightCapacity.

! !

!methodRemoval: Trailer class #with:and:withPollutionIndex: stamp: 'ja 6/27/2021 22:49:59'!
with: aWeightCapacity and: aHeightCapacity withPollutionIndex: aPollutionIndex 

	aWeightCapacity strictlyPositive ifFalse: [ self signalInvalidWeightCapacity ].
	aHeightCapacity strictlyPositive ifFalse: [ self signalInvalidHeightCapacity ].
	
	aWeightCapacity isInteger ifFalse: [ self signalWeightCapacityMustBeInteger ].
	aHeightCapacity isInteger ifFalse: [ self signalHeightCapacityMustBeInteger ].
		
	^ self new initializeWith: aWeightCapacity and: aHeightCapacity.

!

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:50:12'!
FAILURE!

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:50:12'!
FAILURE!
!TrailerTest methodsFor: 'height capacity' stamp: 'ja 6/27/2021 22:51:39' prior: 50914211!
assertHeightShouldBe: anExpectedHeightBlock whenAdding: aProductTypeToAdd 

	| aTrailer heightCapacity exceededHeightCapacity halfExceededHeightCapacity |

	heightCapacity := 100.
	aTrailer := Trailer with: 20  and: heightCapacity.
	
	exceededHeightCapacity := heightCapacity + 2.
	halfExceededHeightCapacity := exceededHeightCapacity / 2.
	
	aTrailer carry: (ProductA with: 10 and: halfExceededHeightCapacity withPollutionIndex: 0).
	aTrailer carry: (aProductTypeToAdd with: 10 and: halfExceededHeightCapacity withPollutionIndex: 0).
	
	self assert: aTrailer totalProductsAmount equals: 2.
	self assert: aTrailer totalProductsHeight equals: (anExpectedHeightBlock value: halfExceededHeightCapacity)! !
!TrailerTest methodsFor: 'weight capacity' stamp: 'ja 6/27/2021 22:51:48' prior: 50914188!
shouldAcceptProducts: aTrailerBlock withAmount: anExpectedAmount andWeight: anExpectedWeight  

	| aTrailer |
	aTrailer := Trailer with: 11  and: 100.
	
	aTrailer carry: (ProductA with: 1 and: 1 withPollutionIndex: 0).
	aTrailer carry: (ProductA with: 2 and: 1 withPollutionIndex: 0).
	aTrailer carry: (ProductB with: 3 and: 1 withPollutionIndex: 0).
	aTrailer carry: (ProductB with: 4 and: 1 withPollutionIndex: 0).
	aTrailerBlock value: aTrailer.
		
	self assert: aTrailer totalProductsAmount equals: anExpectedAmount.
	self assert: aTrailer totalProductsWeight equals: anExpectedWeight ! !
!TrailerTest methodsFor: 'weight capacity' stamp: 'ja 6/27/2021 22:51:54' prior: 50914315!
shouldSignalMaxWeightExceededErrorDescriptionWhenAdding: aProductType

	| aTrailer |
	aTrailer := Trailer with: 20  and: 100.
	
	self
		should: [ aTrailer carry: (aProductType with: 21 and: 1 withPollutionIndex: 0)]
		raise: Error
		withMessageText: Trailer maxWeightExceededErrorDescription.
		
	self assert: aTrailer isEmpty! !
!TrailerTest methodsFor: 'weight capacity' stamp: 'ja 6/27/2021 22:52:03' prior: 50914348!
test01CanNotCreateTrailerWithCeroOrLessMaxWeight

	self
		should: [ Trailer with: 0  and: 100 ]
		raise: Error
		withMessageText: Trailer invalidWeightCapacityErrorDescription 
! !
!TrailerTest methodsFor: 'weight capacity' stamp: 'ja 6/27/2021 22:52:09' prior: 50914295!
test02CanNotCreateTrailerWithCeroOrLessMaxHeight

	self
		should: [ Trailer with: 1  and: 0  ]
		raise: Error
		withMessageText: Trailer invalidHeightCapacityErrorDescription 
! !
!TrailerTest methodsFor: 'weight capacity' stamp: 'ja 6/27/2021 22:52:15' prior: 50914338!
test03CanNotCreateTrailerWithNoIntegerMaxWeight

	self
		should: [ Trailer with: 1.5  and: 100 ]
		raise: Error
		withMessageText: Trailer weightCapacityMustBeIntegerErrorDescription 
! !
!TrailerTest methodsFor: 'weight capacity' stamp: 'ja 6/27/2021 22:52:21' prior: 50914305!
test04CanNotCreateTrailerWithNoIntegerMaxHeight

	self
		should: [ Trailer with: 100  and: 1.5]
		raise: Error
		withMessageText: Trailer heightCapacityMustBeIntegerErrorDescription 
! !
!TrailerTest methodsFor: 'height capacity' stamp: 'ja 6/27/2021 22:52:31' prior: 50914237!
test11ShouldRejectStackableProductExceedingHeightCapacity

	| aTrailer heightCapacity exceededHeightCapacity halfExceededHeightCapacity |

	heightCapacity := 100.
	aTrailer := Trailer with: 20  and: heightCapacity .
	
	exceededHeightCapacity := heightCapacity + 2.
	halfExceededHeightCapacity := exceededHeightCapacity / 2.
	
	aTrailer carry: (ProductB with: 10 and: halfExceededHeightCapacity withPollutionIndex: 0).

	self 
		should: [aTrailer carry: (ProductB with: 10 and: halfExceededHeightCapacity withPollutionIndex: 0)] 
		raise: Error
		withMessageText: Trailer maxHeightExceededErrorDescription.
	
	self assert: aTrailer totalProductsAmount equals: 1.
	self assert: aTrailer totalProductsHeight equals: halfExceededHeightCapacity.
	! !
!RobotTest methodsFor: 'closing order' stamp: 'ja 6/27/2021 22:53:10' prior: 50914264!
test09CanNotCloseOrderWhenOutOfOrder

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	aRobot outOfOrder.

	self
		should: [ aRobot closeOrderUsing: Cashier new ]
		raise: Error
		withMessageText: Robot outOfOrderErrorDescription.
 
! !
!RobotTest methodsFor: 'closing order' stamp: 'ja 6/27/2021 22:53:18' prior: 50914148!
test08CanCloseOrderWhenWorkingWithMechanicalFailures

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).

	aRobot withMechanicalFailure.	
		
	self assert: (aRobot closeOrderUsing: Cashier new).! !
!RobotTest methodsFor: 'closing order' stamp: 'ja 6/27/2021 22:53:25' prior: 50914279!
test07CanNotCloseOrderWhenWorkingWithSensorsFailures

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	aRobot withSensorsFailure.

	self
		should: [ aRobot closeOrderUsing: Cashier new ]
		raise: Error
		withMessageText: Cashier robotSensorsFailureErrorDescription.
 
! !
!RobotTest methodsFor: 'closing order' stamp: 'ja 6/27/2021 22:53:30' prior: 50914382!
test06CanCloseOrderWhenWorkingNormal

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self assert: (aRobot closeOrderUsing: Cashier new)! !
!RobotTest methodsFor: 'taking products' stamp: 'ja 6/27/2021 22:53:38' prior: 50914132!
test05ShouldNotTakeProductsWhenOutOfOrder

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	aRobot outOfOrder.
	
	self
		should: [ aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0) ]
		raise: Error
		withMessageText: Robot outOfOrderErrorDescription.
	
	self assert: 0 equals: aTrailer totalProductsAmount! !
!RobotTest methodsFor: 'taking products' stamp: 'ja 6/27/2021 22:53:48' prior: 50914358!
test04ShouldTakeProductsWhenWorkingWithMechanicalFailures

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	aRobot withMechanicalFailure.
	
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self assert: 1 equals: aTrailer totalProductsAmount! !
!RobotTest methodsFor: 'taking products' stamp: 'ja 6/27/2021 22:53:59' prior: 50914174!
test03ShouldTakeProductsWhenWorkingWithSensorsFailures

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	aRobot withSensorsFailure.
	
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self assert: 1 equals: aTrailer totalProductsAmount! !
!RobotTest methodsFor: 'taking products' stamp: 'ja 6/27/2021 22:54:05' prior: 50914162!
test02ShouldTakeProductsWhenWorkingNormal

	| aTrailer aRobot |

	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	
	aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self assert: 1 equals: aTrailer totalProductsAmount! !
!RobotTest methodsFor: 'instance creation' stamp: 'ja 6/27/2021 22:54:11' prior: 50914453!
test01ShouldReceiveAnEmptyTrailer

	| aTrailer |

	aTrailer := Trailer with: 20 and: 100 .
	aTrailer carry: (ProductA with: 1  and: 1 withPollutionIndex: 0).
	
	self
		should: [ Robot with: aTrailer ]
		raise: Error
		withMessageText: Robot notEmptyTrailerErrorDescription! !

!testRun: #CashierTest #test01ShouldNotAcceptEmptyTrailerFromNormalWorkingRobot stamp: 'ja 6/27/2021 22:54:39'!
ERROR!

!testRun: #CashierTest #test02ShouldNotAcceptEmptyTrailerFromMechanicalFailureRobot stamp: 'ja 6/27/2021 22:54:39'!
ERROR!

!testRun: #CashierTest #test03ShouldNotAcceptSensorsFailureRobot stamp: 'ja 6/27/2021 22:54:39'!
ERROR!

!testRun: #CashierTest #test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot stamp: 'ja 6/27/2021 22:54:39'!
ERROR!

!testRun: #ProductTest #test01CanNotCreateProductWithCeroOrLessWeight stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #ProductTest #test02CanNotCreateProductWithCeroOrLessHeight stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #ProductTest #test03CanNotCreateProductWithNoIntegerWeight stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #ProductTest #test04CanNotCreateProductWithNoIntegerHeight stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #ProductTest #test06CanNotCreateProductWithPollutionIndexNegative stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #ProductTest #test07CanCreateProductWithPollutionIndexCorrectly stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test01ShouldReceiveAnEmptyTrailer stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test02ShouldTakeProductsWhenWorkingNormal stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test03ShouldTakeProductsWhenWorkingWithSensorsFailures stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test04ShouldTakeProductsWhenWorkingWithMechanicalFailures stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test05ShouldNotTakeProductsWhenOutOfOrder stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test06CanCloseOrderWhenWorkingNormal stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test07CanNotCloseOrderWhenWorkingWithSensorsFailures stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test08CanCloseOrderWhenWorkingWithMechanicalFailures stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #RobotTest #test09CanNotCloseOrderWhenOutOfOrder stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test02CanNotCreateTrailerWithCeroOrLessMaxHeight stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test03CanNotCreateTrailerWithNoIntegerMaxWeight stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test04CanNotCreateTrailerWithNoIntegerMaxHeight stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test05ShouldRejectProductAIfWeightExceeded stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test06ShouldRejectProductBIfWeightExceeded stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test07ShouldAcceptProductsIfWeightUnderMaxWeightCapacity stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test08ShouldAcceptProductsIfWeightEqualsMaxWeightCapacity stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test09ShouldAcceptNonStackableProductsIgnoringHeightCapacity stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test10ShouldIgnoreNonStackableProductsWhenAddingStackableProduct stamp: 'ja 6/27/2021 22:54:39'!
PASSED!

!testRun: #TrailerTest #test11ShouldRejectStackableProductExceedingHeightCapacity stamp: 'ja 6/27/2021 22:54:39'!
PASSED!
!CashierTest methodsFor: 'receiving from empty trailer' stamp: 'ja 6/27/2021 22:55:42' prior: 50914421!
shouldRaise: errorMessage when: aBlock

	| aRobot aTrailer aCashier |
	
	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	
	aCashier := Cashier new.

	self
		should: [ aBlock value: aRobot value: aCashier ]
		raise: Error
		withMessageText: errorMessage.
! !

!testRun: #CashierTest #test01ShouldNotAcceptEmptyTrailerFromNormalWorkingRobot stamp: 'ja 6/27/2021 22:55:43'!
PASSED!

!testRun: #CashierTest #test02ShouldNotAcceptEmptyTrailerFromMechanicalFailureRobot stamp: 'ja 6/27/2021 22:55:43'!
PASSED!

!testRun: #CashierTest #test03ShouldNotAcceptSensorsFailureRobot stamp: 'ja 6/27/2021 22:55:43'!
PASSED!

!testRun: #CashierTest #test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot stamp: 'ja 6/27/2021 22:55:43'!
PASSED!

!testRun: #CashierTest #test01ShouldNotAcceptEmptyTrailerFromNormalWorkingRobot stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #CashierTest #test02ShouldNotAcceptEmptyTrailerFromMechanicalFailureRobot stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #CashierTest #test03ShouldNotAcceptSensorsFailureRobot stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #CashierTest #test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #ProductTest #test01CanNotCreateProductWithCeroOrLessWeight stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #ProductTest #test02CanNotCreateProductWithCeroOrLessHeight stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #ProductTest #test03CanNotCreateProductWithNoIntegerWeight stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #ProductTest #test04CanNotCreateProductWithNoIntegerHeight stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #ProductTest #test05CanNotCreateProductWithPollutionIndexThatIsNotANumber stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #ProductTest #test06CanNotCreateProductWithPollutionIndexNegative stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #ProductTest #test07CanCreateProductWithPollutionIndexCorrectly stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test01ShouldReceiveAnEmptyTrailer stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test02ShouldTakeProductsWhenWorkingNormal stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test03ShouldTakeProductsWhenWorkingWithSensorsFailures stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test04ShouldTakeProductsWhenWorkingWithMechanicalFailures stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test05ShouldNotTakeProductsWhenOutOfOrder stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test06CanCloseOrderWhenWorkingNormal stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test07CanNotCloseOrderWhenWorkingWithSensorsFailures stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test08CanCloseOrderWhenWorkingWithMechanicalFailures stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #RobotTest #test09CanNotCloseOrderWhenOutOfOrder stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test01CanNotCreateTrailerWithCeroOrLessMaxWeight stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test02CanNotCreateTrailerWithCeroOrLessMaxHeight stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test03CanNotCreateTrailerWithNoIntegerMaxWeight stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test04CanNotCreateTrailerWithNoIntegerMaxHeight stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test05ShouldRejectProductAIfWeightExceeded stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test06ShouldRejectProductBIfWeightExceeded stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test07ShouldAcceptProductsIfWeightUnderMaxWeightCapacity stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test08ShouldAcceptProductsIfWeightEqualsMaxWeightCapacity stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test09ShouldAcceptNonStackableProductsIgnoringHeightCapacity stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test10ShouldIgnoreNonStackableProductsWhenAddingStackableProduct stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

!testRun: #TrailerTest #test11ShouldRejectStackableProductExceedingHeightCapacity stamp: 'ja 6/27/2021 22:55:46'!
PASSED!

Object subclass: #CustomTemplate
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!

!classDefinition: #CustomTemplate category: 'Custom-String-Parser' stamp: 'ja 6/27/2021 23:00:39'!
Object subclass: #CustomTemplate
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Custom-String-Parser'!
!CustomTemplate methodsFor: 'no messages' stamp: 'ja 6/27/2021 23:01:42'!
templateErrorMessage
	
	^'self should: [ ]
	raise: Error
	withExceptionDo: [:anError |  
		self assert: anError messageText equals: ].'! !

TestCase subclass: #CleaningTrailerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classDefinition: #CleaningTrailerTest category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/27/2021 23:02:13'!
TestCase subclass: #CleaningTrailerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

	CustomTemplate new templateErrorMessage.!

CustomTemplate new templateErrorMessage .!
!CleaningTrailerTest methodsFor: 'no messages' stamp: 'ja 6/27/2021 23:04:37'!
test01

	! !
!CustomTemplate methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:04:57' prior: 50915510!
templateErrorMessage
	
	^'self should: [ ]
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: ].'! !

	CustomTemplate new templateErrorMessage .!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:06:11' prior: 50915533!
test01
	
	! !

!classDefinition: #CleaningTrailer category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/27/2021 23:10:24'!
ProductCarrier subclass: #CleaningTrailer
	instanceVariableNames: 'cleaners trailer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:09:54'!
test01CanCreateCleaningTrailerWithoutAnyCleaner

	| trailer cleaningTrailer |
	trailer _ Trailer with: 5  and: 100.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: OrderedCollection new.
	
	self assert: cleaningTrailer cleaners isEmpty.
	! !

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/27/2021 23:10:37'!
ERROR!
!CleaningTrailer class methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:10:46'!
for: aTrailer withCleaners: anOrderedCollection 
	self shouldBeImplemented.! !
!CleaningTrailer class methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:11:51' prior: 50915574!
for: aTrailer withCleaners: aCleaners
	
	^ self new initializeFor: aTrailer withCleaners: aCleaners! !
!CleaningTrailer methodsFor: 'no messages' stamp: 'ja 6/27/2021 23:12:54'!
initializeFor: aTrailer withCleaners: aCleaners

	trailer _ aTrailer .
	cleaners _ aCleaners ! !
!CleaningTrailer methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:13:20'!
cleaners
	 
	^ cleaners copy! !

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/27/2021 23:13:28'!
PASSED!

!testRun: #CleaningTrailerTest #test01 stamp: 'ja 6/27/2021 23:13:28'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/27/2021 23:13:28'!
PASSED!

!methodRemoval: CleaningTrailerTest #test01 stamp: 'ja 6/27/2021 23:13:33'!
test01
	
	!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:13:48' prior: 50915559!
test01CanCreateCleaningTrailerWithoutAnyCleaner

	| trailer cleaningTrailer |
	trailer _ Trailer with: 5 and: 100.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: OrderedCollection new.
	
	self assert: cleaningTrailer cleaners isEmpty.
	! !

!classDefinition: #UVRays category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/27/2021 23:16:55'!
Object subclass: #UVRays
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classDefinition: #Bleach category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/27/2021 23:16:58'!
Object subclass: #Bleach
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:16:49'!
test02CanCreateCleaningTrailerWithoutManyCleaners

	| trailer cleaningTrailer cleaners |
	trailer _ Trailer with: 5 and: 100.
	cleaners _ OrderedCollection with: UVRays new with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self assert: cleaningTrailer cleaners isEmpty.
	! !

Object subclass: #Cleaners
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classDefinition: #Cleaners category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/27/2021 23:17:17'!
Object subclass: #Cleaners
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

Cleaners subclass: #UVRays
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classDefinition: #UVRays category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/27/2021 23:17:27'!
Cleaners subclass: #UVRays
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

Cleaners subclass: #Bleach
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classDefinition: #Bleach category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/27/2021 23:17:37'!
Cleaners subclass: #Bleach
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRenamed: #Cleaners as: #Cleaner stamp: 'ja 6/27/2021 23:17:45'!
Smalltalk renameClassNamed: #Cleaners as: #Cleaner!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:18:18' prior: 50915636!
test02CanCreateCleaningTrailerWithoutManyCleaners

	| trailer cleaningTrailer cleaners |
	trailer _ Trailer with: 5 and: 100.
	cleaners _ OrderedCollection with: UVRays new with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	! !

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/27/2021 23:18:19'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/27/2021 23:18:19'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/27/2021 23:18:19'!
PASSED!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:21:39'!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndex

	| trailer cleaningTrailer cleaners |
	trailer _ Trailer with: 5 and: 100.
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:23:47' prior: 50915713!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndex

	| trailer cleaningTrailer cleaners |
	trailer _ Trailer with: 5 and: 100.
	trailer carry: (ProductB with: 3 and: 1 withPollutionIndex: 0).
	trailer carry: (ProductB with: 4 and: 1 withPollutionIndex: 0).
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:24:14'!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners |
	trailer _ Trailer with: 5 and: 100.
	trailer carry: (ProductB with: 3 and: 1 withPollutionIndex: 0).
	trailer carry: (ProductB with: 4 and: 1 withPollutionIndex: 0).
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	! !

!methodRemoval: CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndex stamp: 'ja 6/27/2021 23:24:14'!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndex

	| trailer cleaningTrailer cleaners |
	trailer _ Trailer with: 5 and: 100.
	trailer carry: (ProductB with: 3 and: 1 withPollutionIndex: 0).
	trailer carry: (ProductB with: 4 and: 1 withPollutionIndex: 0).
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:24:37' prior: 50915744!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners |
	trailer _ Trailer with: 5 and: 100.
	
	trailer carry: (ProductB with: 3 and: 1 withPollutionIndex: 0).
	trailer carry: (ProductB with: 4 and: 1 withPollutionIndex: 0).
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:24:55' prior: 50915781!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners |
	trailer _ Trailer with: 5 and: 100.
	
	trailer carry: (ProductB with: 3 and: 1 withPollutionIndex: 10).
	trailer carry: (ProductB with: 4 and: 1 withPollutionIndex: 5).
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:27:37' prior: 50915799!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners aProductB otherProductB |
	trailer _ Trailer with: 50 and: 100.
	aProductB _ ProductB with: 3 and: 1 withPollutionIndex: 10.
	otherProductB _ ProductB with: 3 and: 1 withPollutionIndex: 5.
	trailer carry: aProductB.
	trailer carry: otherProductB.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:28:52' prior: 50915817!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners aProductB otherProductB |
	
	trailer _ Trailer with: 50 and: 100.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	otherProductB _ ProductB with: 4 and: 3 withPollutionIndex: 5.
	
	trailer carry: aProductB.
	trailer carry: otherProductB.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: aProductB pollutionIndex = 7.
	self assert: otherProductB pollutionIndex = 2.! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:36:26' prior: 50915838!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners aProductB otherProductB |
	
	trailer _ Trailer with: 50 and: 100.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	otherProductB _ ProductB with: 4 and: 3 withPollutionIndex: 5.
	
	trailer carry: aProductB.
	trailer carry: otherProductB.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: aProductB pollutionIndex = 7.
	self assert: otherProductB pollutionIndex = 2.! !

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/27/2021 23:37:12'!
FAILURE!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:46:11' prior: 50915862!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners aProductB otherProductB |
	
	trailer _ Trailer with: 50 and: 100.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	otherProductB _ ProductB with: 4 and: 3 withPollutionIndex: 5.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	cleaningTrailer carry: otherProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: aProductB pollutionIndex = 7.
	self assert: otherProductB pollutionIndex = 2.! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:49:23' prior: 50915891!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners aProductB otherProductB |
	
	trailer _ Trailer with: 50 and: 100.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	otherProductB _ ProductB with: 4 and: 3 withPollutionIndex: 5.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	cleaningTrailer carry: otherProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 4.
	self assert: trailer totalProductsWeight equals: 9. 
	self assert: aProductB pollutionIndex = 7.
	self assert: otherProductB pollutionIndex = 2.! !

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/27/2021 23:50:21'!
ERROR!
!CleaningTrailer methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:51:01' overrides: 50913473!
carry: aProduct

	! !
!CleaningTrailer methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:52:20' prior: 50915948 overrides: 50913473!
carry: aProduct

	cleaners do:[:aCleaner | aCleaner clean: aProduct ].
	trailer carry: aProduct.! !
!Bleach methodsFor: 'no messages' stamp: 'ja 6/27/2021 23:54:23'!
clean: aProduct

	aProduct reducePollutionIndex: 3.! !
!ProductB methodsFor: 'testing' stamp: 'ja 6/27/2021 23:55:26'!
reducePollutionIndex: anIndexOfReduction
	
	pollutionIndex _ pollutionIndex - 3! !

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/27/2021 23:56:05'!
FAILURE!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/27/2021 23:56:05'!
FAILURE!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:56:15' prior: 50915915!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners aProductB otherProductB |
	
	trailer _ Trailer with: 50 and: 100.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	otherProductB _ ProductB with: 4 and: 3 withPollutionIndex: 5.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	cleaningTrailer carry: otherProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 9. 
	self assert: aProductB pollutionIndex = 7.
	self assert: otherProductB pollutionIndex = 2.! !

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/27/2021 23:56:16'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/27/2021 23:56:16'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/27/2021 23:56:16'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/27/2021 23:56:16'!
PASSED!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/27/2021 23:59:04'!
test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero

	| trailer cleaningTrailer cleaners aProductB |
	
	trailer _ Trailer with: 50 and: 100.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 0.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductB pollutionIndex = 0.! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:00:50'!
trailerWith50WeightAnd100Height

	^ Trailer with: 50 and: 100! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:00:50' prior: 50916024!
test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero

	| trailer cleaningTrailer cleaners aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 0.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductB pollutionIndex = 0.! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:00:50' prior: 50915979!
test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB

	| trailer cleaningTrailer cleaners aProductB otherProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	otherProductB _ ProductB with: 4 and: 3 withPollutionIndex: 5.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	cleaningTrailer carry: otherProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 9. 
	self assert: aProductB pollutionIndex = 7.
	self assert: otherProductB pollutionIndex = 2.! !

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero stamp: 'ja 6/28/2021 00:00:59'!
FAILURE!
!ProductB methodsFor: 'testing' stamp: 'ja 6/28/2021 00:03:12' prior: 50915963!
reducePollutionIndex: anIndexOfReduction
	
	pollutionIndex _ pollutionIndex - anIndexOfReduction ! !
!ProductB methodsFor: 'testing' stamp: 'ja 6/28/2021 00:04:16' prior: 50916107!
reducePollutionIndex: aBlockOfReduction
	
	pollutionIndex _ pollutionIndex - aBlockOfReduction ! !
!ProductB methodsFor: 'testing' stamp: 'ja 6/28/2021 00:04:33' prior: 50916113!
reducePollutionIndex: aBlockOfReduction
	
	pollutionIndex _ aBlockOfReduction value: pollutionIndex.! !
!Bleach methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:06:30' prior: 50915959!
clean: aProduct

	aProduct reducePollutionIndex: 
		[:aPollutionIndex | 
			aPollutionIndex < 3
				ifTrue:[ 0 ]
				ifFalse: [ aPollutionIndex - 3]].! !
!Bleach methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:06:43' prior: 50916126!
clean: aProduct

	aProduct reducePollutionIndex: 
		[:aPollutionIndex | aPollutionIndex < 3 	ifTrue:[ 0 ] ifFalse: [ aPollutionIndex - 3]].! !

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/28/2021 00:06:54'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/28/2021 00:06:54'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/28/2021 00:06:54'!
PASSED!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero stamp: 'ja 6/28/2021 00:06:54'!
PASSED!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:07:21' prior: 50916052!
test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero

	| trailer cleaningTrailer cleaners aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 2.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductB pollutionIndex = 0.! !

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero stamp: 'ja 6/28/2021 00:07:23'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/28/2021 00:07:23'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/28/2021 00:07:23'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/28/2021 00:07:23'!
PASSED!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero stamp: 'ja 6/28/2021 00:07:23'!
PASSED!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:07:25' prior: 50916160!
test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero

	| trailer cleaningTrailer cleaners aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 0.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductB pollutionIndex = 0.! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:07:59'!
test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree

	| trailer cleaningTrailer cleaners aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 0.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductB pollutionIndex = 0.! !

!methodRemoval: CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero stamp: 'ja 6/28/2021 00:07:59'!
test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexInZero

	| trailer cleaningTrailer cleaners aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 0.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductB pollutionIndex = 0.!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree stamp: 'ja 6/28/2021 00:08:03'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/28/2021 00:08:03'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/28/2021 00:08:03'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/28/2021 00:08:03'!
PASSED!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree stamp: 'ja 6/28/2021 00:08:03'!
PASSED!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:08:07' prior: 50916227!
test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree

	| trailer cleaningTrailer cleaners aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 0.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductB.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductB pollutionIndex = 0.! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:09:56'!
test05CleaningTrailerWithCleanerBleachNotReducesPollutionIndexToProductA

	| trailer cleaningTrailer cleaners aProductA |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 7.
	
	cleaners _ OrderedCollection with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductA pollutionIndex = 7.! !
!ProductA methodsFor: 'testing' stamp: 'ja 6/28/2021 00:10:22'!
reducePollutionIndex: aBlockOfReduction
	
	! !

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/28/2021 00:10:26'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/28/2021 00:10:26'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/28/2021 00:10:26'!
PASSED!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree stamp: 'ja 6/28/2021 00:10:26'!
PASSED!

!testRun: #CleaningTrailerTest #test05CleaningTrailerWithCleanerBleachNotReducesPollutionIndexToProductA stamp: 'ja 6/28/2021 00:10:26'!
PASSED!

pp _ 10 * 0.2!

pp _ 15 * 0.2!
!UVRays methodsFor: 'no messages' stamp: 'ja 6/28/2021 00:15:10'!
clean: aProduct

	aProduct reducePollutionIndex: 
		[:aPollutionIndex | aPollutionIndex * 0.2].! !
!UVRays methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:16:04' prior: 50916366!
clean: aProduct

	aProduct reducePollutionIndexWithUVRays: 
		[:aPollutionIndex | aPollutionIndex * 0.2].! !
!UVRays methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:16:19' prior: 50916372!
clean: aProduct

	aProduct reducePollutionIndexWithUVRays: [:aPollutionIndex | aPollutionIndex * 0.2].! !
!ProductA methodsFor: 'testing' stamp: 'ja 6/28/2021 00:16:29'!
reducePollutionIndexWithUVRays: a! !
!ProductA methodsFor: 'testing' stamp: 'ja 6/28/2021 00:16:49'!
reducePollutionIndexWithBleach: aBlockOfReduction
	
	! !

!methodRemoval: ProductA #reducePollutionIndex: stamp: 'ja 6/28/2021 00:16:49'!
reducePollutionIndex: aBlockOfReduction
	
	!
!Bleach methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 00:17:08' prior: 50916134!
clean: aProduct

	aProduct reducePollutionIndexWithBleach: 
		[:aPollutionIndex | aPollutionIndex < 3 	ifTrue:[ 0 ] ifFalse: [ aPollutionIndex - 3]].! !
!ProductB methodsFor: 'testing' stamp: 'ja 6/28/2021 00:17:25'!
reducePollutionIndexWithBleach: aBlockOfReduction
	
	pollutionIndex _ aBlockOfReduction value: pollutionIndex.! !

!methodRemoval: ProductB #reducePollutionIndex: stamp: 'ja 6/28/2021 00:17:25'!
reducePollutionIndex: aBlockOfReduction
	
	pollutionIndex _ aBlockOfReduction value: pollutionIndex.!
!ProductA methodsFor: 'testing' stamp: 'ja 6/28/2021 00:17:56' prior: 50916385!
reducePollutionIndexWithUVRays: aBlockOfReduction

	pollutionIndex _ aBlockOfReduction value: pollutionIndex ! !
!ProductB methodsFor: 'testing' stamp: 'ja 6/28/2021 00:18:07'!
reducePollutionIndexWithUVRays: aBlockOfReduction

	pollutionIndex _ aBlockOfReduction value: pollutionIndex ! !

!testRun: #CleaningTrailerTest #test05CleaningTrailerWithCleanerBleachNotReducesPollutionIndexToProductA stamp: 'ja 6/28/2021 00:19:01'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/28/2021 00:19:01'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/28/2021 00:19:01'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/28/2021 00:19:01'!
PASSED!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree stamp: 'ja 6/28/2021 00:19:01'!
PASSED!

!testRun: #CleaningTrailerTest #test05CleaningTrailerWithCleanerBleachNotReducesPollutionIndexToProductA stamp: 'ja 6/28/2021 00:19:01'!
PASSED!

----QUIT----(28 June 2021 00:19:08) CuisUniversity-4532.image priorSource: 18595780!

----STARTUP---- (28 June 2021 16:11:40) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:37:58'!
test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductA pollutionIndex = 7.! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:38:10' prior: 50916463!
test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	cleaningTrailer carry: aProductB.
		
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 1.
	self assert: trailer totalProductsWeight equals: 5. 
	self assert: aProductA pollutionIndex = 7.! !
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:39:51' prior: 50916488!
test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	cleaningTrailer carry: aProductB.
		
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 10. 
	self assert: aProductA pollutionIndex = 16.
	self assert: aProductB pollutionIndex = 8.	! !

!testRun: #CleaningTrailerTest #test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:39:57'!
FAILURE!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:40:56' prior: 50916514!
test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	cleaningTrailer carry: aProductB.
		
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 10. 
	self assert: aProductA pollutionIndex = 4.
	self assert: aProductB pollutionIndex = 2.	! !

!testRun: #CleaningTrailerTest #test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:40:57'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/28/2021 16:40:57'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/28/2021 16:40:57'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/28/2021 16:40:57'!
PASSED!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree stamp: 'ja 6/28/2021 16:40:57'!
PASSED!

!testRun: #CleaningTrailerTest #test05CleaningTrailerWithCleanerBleachNotReducesPollutionIndexToProductA stamp: 'ja 6/28/2021 16:40:57'!
PASSED!

!testRun: #CleaningTrailerTest #test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:40:57'!
PASSED!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:42:03' prior: 50916546!
test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	cleaningTrailer carry: aProductB.
		
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 10. 
	self assert: aProductA pollutionIndex = 3.
	self assert: aProductB pollutionIndex = 0.	! !

!testRun: #CleaningTrailerTest #test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:42:04'!
FAILURE!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:40:56' prior: 50916605!
test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	cleaningTrailer carry: aProductB.
		
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 10. 
	self assert: aProductA pollutionIndex = 4.
	self assert: aProductB pollutionIndex = 2.	! !

!testRun: #CleaningTrailerTest #test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:42:26'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/28/2021 16:42:26'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/28/2021 16:42:26'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/28/2021 16:42:26'!
PASSED!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree stamp: 'ja 6/28/2021 16:42:26'!
PASSED!

!testRun: #CleaningTrailerTest #test05CleaningTrailerWithCleanerBleachNotReducesPollutionIndexToProductA stamp: 'ja 6/28/2021 16:42:26'!
PASSED!

!testRun: #CleaningTrailerTest #test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:42:26'!
PASSED!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:42:54'!
test07CleaningTrailerWithCleanersReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	cleaningTrailer carry: aProductB.
		
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 10. 
	self assert: aProductA pollutionIndex = 3.
	self assert: aProductB pollutionIndex = 0.	! !

!testRun: #CleaningTrailerTest #test07CleaningTrailerWithCleanersReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:42:56'!
FAILURE!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:43:07' prior: 50916695!
test07CleaningTrailerWithCleanersReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	cleaningTrailer carry: aProductB.
		
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 10. 
	self assert: aProductA pollutionIndex = 1.
	self assert: aProductB pollutionIndex = 0.	! !

!testRun: #CleaningTrailerTest #test07CleaningTrailerWithCleanersReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:43:08'!
FAILURE!
!CleaningTrailerTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 16:46:00' prior: 50916727!
test07CleaningTrailerWithCleanersReducesPollutionIndexToTheProducts

	| trailer cleaningTrailer cleaners aProductA aProductB |
	
	trailer _ self trailerWith50WeightAnd100Height.
	
	aProductA _ ProductA with: 5 and: 6 withPollutionIndex: 20.
	aProductB _ ProductB with: 5 and: 6 withPollutionIndex: 10.
	
	cleaners _ OrderedCollection with: UVRays new with: Bleach new.
	cleaningTrailer _ CleaningTrailer for: trailer withCleaners: cleaners.
	
	cleaningTrailer carry: aProductA.
	cleaningTrailer carry: aProductB.
		
	self deny: cleaningTrailer cleaners isEmpty.
	self assert: trailer totalProductsAmount equals: 2.
	self assert: trailer totalProductsWeight equals: 10. 
	self assert: aProductA pollutionIndex = 4.
	self assert: aProductB pollutionIndex = 0.	! !

!testRun: #CleaningTrailerTest #test07CleaningTrailerWithCleanersReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:46:00'!
PASSED!

!testRun: #CleaningTrailerTest #test01CanCreateCleaningTrailerWithoutAnyCleaner stamp: 'ja 6/28/2021 16:46:00'!
PASSED!

!testRun: #CleaningTrailerTest #test02CanCreateCleaningTrailerWithoutManyCleaners stamp: 'ja 6/28/2021 16:46:00'!
PASSED!

!testRun: #CleaningTrailerTest #test03CleaningTrailerWithCleanerBleachReducesByThreePointsThePollutionIndexOfProductB stamp: 'ja 6/28/2021 16:46:00'!
PASSED!

!testRun: #CleaningTrailerTest #test04CleaningTrailerWithCleanerBleachNotReducesWhenProductHasPollutionIndexLessThanThree stamp: 'ja 6/28/2021 16:46:00'!
PASSED!

!testRun: #CleaningTrailerTest #test05CleaningTrailerWithCleanerBleachNotReducesPollutionIndexToProductA stamp: 'ja 6/28/2021 16:46:00'!
PASSED!

!testRun: #CleaningTrailerTest #test06CleaningTrailerWithCleanerUVRaysReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:46:00'!
PASSED!

!testRun: #CleaningTrailerTest #test07CleaningTrailerWithCleanersReducesPollutionIndexToTheProducts stamp: 'ja 6/28/2021 16:46:00'!
PASSED!

TestCase subclass: #ShippingTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classDefinition: #ShippingTest category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/28/2021 16:49:57'!
TestCase subclass: #ShippingTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!
!ShippingTest methodsFor: 'no messages' stamp: 'ja 6/28/2021 17:19:56'!
test01CanNotShippWhenThereIsNotTransportationAvailable! !
!ShippingTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 17:23:26' prior: 50916833!
test01CanNotShippWhenThereIsNotTransportationAvailable

	! !

!classDefinition: #DispatchWarehouse category: 'ISW1-2020-1C-2doParcial' stamp: 'ja 6/28/2021 17:28:44'!
Object subclass: #DispatchWarehouse
	instanceVariableNames: 'vehicles'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!
!ShippingTest methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 17:28:32' prior: 50916838!
test01CanNotShippWhenThereIsNotTransportationAvailable

	| dispatchWarehouse |
	
	dispatchWarehouse _ DispatchWarehouse with: OrderedCollection new.! !

----QUIT----(28 June 2021 17:30:07) CuisUniversity-4532.image priorSource: 18713770!

----STARTUP---- (28 June 2021 19:09:42) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/System/Collections-CompactArrays.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/Features/Compression.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/Features/Sound.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/Features/Cryptography-DigitalSignatures.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/Features/Identities-UUID.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/System/Network-Kernel.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/20-TusLibros/Iteracion 4/WebClient.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/20-TusLibros/Iteracion 4/StringsServicesServer.st----!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/Morphic/Morphic-Widgets-Extras.pck.st----!

CodePackage subclass: #ColorExtrasPackage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Color-Extras'!

!classDefinition: #ColorExtrasPackage category: 'Color-Extras' stamp: 'Install-Color-Extras 6/28/2021 19:15:16'!
CodePackage subclass: #ColorExtrasPackage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Color-Extras'!

ColorExtrasPackage class
	instanceVariableNames: ''!

!classDefinition: 'ColorExtrasPackage class' category: 'Color-Extras' stamp: 'Install-Color-Extras 6/28/2021 19:15:16'!
ColorExtrasPackage class
	instanceVariableNames: ''!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/Features/Color-Extras.pck.st----!

CodePackage subclass: #MorphicMisc1Package
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Morphic-Misc1'!

!classDefinition: #MorphicMisc1Package category: 'Morphic-Misc1' stamp: 'Install-Morphic-Misc1 6/28/2021 19:15:18'!
CodePackage subclass: #MorphicMisc1Package
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Morphic-Misc1'!
!MorphicMisc1Package commentStamp: '<historical>' prior: 0!
My purpose in life is to check that any base image methods overridden have not been updated.
See #MorphMisc1Package class>>prePackageInstall!

MorphicMisc1Package class
	instanceVariableNames: ''!

!classDefinition: 'MorphicMisc1Package class' category: 'Morphic-Misc1' stamp: 'Install-Morphic-Misc1 6/28/2021 19:15:18'!
MorphicMisc1Package class
	instanceVariableNames: ''!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/Morphic/Morphic-Misc1/Morphic-Misc1.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/linux64/Packages/Morphic/Morphic-Widgets-Extras.pck.st----!

----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/20-TusLibros/TusLibros-80.st----!

----End fileIn of /home/jampuero/Documentos/isw1/tps-catedra-2021/2021-1c/20-TusLibros/Iteracion 4/WordsClientDemo.st----!

Object subclass: #TusLibrosInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosInterface category: 'TusLibros-Model' stamp: 'ja 6/28/2021 19:30:32'!
Object subclass: #TusLibrosInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosInterface class methodsFor: 'no messages' stamp: 'ja 6/28/2021 19:42:57'!
start

	! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 19:46:42'!
startIn: aPortNumber

	| server interface |
	
	interface _ self new initializeWith: TusLibrosSystemFacade new.
	
	server _ WebServer new listenOn: aPortNumber.
	
	server addService: '/createCart' action: [].

	server addService: '/addToCart' action: [].
	
	server addService: '/listCart' action: [].
	
	server addService: '/checkoutCart' action: [].
	
	server addService: '/listPurchases' action: [].
	! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 19:48:03' prior: 50966968!
startIn: aPortNumber

	| server interface |
	
	interface _ self new initializeWith: TusLibrosSystemFacade new.
	
	server _ WebServer new listenOn: aPortNumber.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 19:52:26' prior: 50966985!
startIn: aPortNumber

	| server interface |
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalog
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)).
	
	server _ WebServer new listenOn: aPortNumber.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 19:52:45'!
createSalesBook

	^ OrderedCollection new.! !

!methodRemoval: TusLibrosInterface class #start stamp: 'ja 6/28/2021 19:52:52'!
start

	!
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 19:57:29'!
merchantProcessor

	^ MerchantProcessor new.! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 19:59:45'!
defaultCatalog

	^ Dictionary new
		at: 'libro1' put: 10*peso;
		at: 'libro2' put: 20*peso;
		at: 'libro3' put: 30*peso;
		at: 'libro4' put: 15*peso;
		yourself .
		! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 19:59:56'!
validUsersAndPasswords

	! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:00:50' prior: 50967059!
validUsersAndPasswords

	^ Dictionary new
		at: 'jose' put: 'password1';
		at: 'ciro' put: 'password2';
		yourself .
		! !

!classDefinition: #TusLibrosInterface category: 'TusLibros-Model' stamp: 'ja 6/28/2021 20:01:42'!
Object subclass: #TusLibrosInterface
	instanceVariableNames: 'facade'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosInterface methodsFor: 'no messages' stamp: 'ja 6/28/2021 20:01:39'!
initializeWith: aFacade

	facade _ aFacade ! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:02:06'!
createCart: aRequest! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:02:15'!
addToCart: aRequest! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:02:22'!
listCart: aRequest! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:02:29'!
checkoutCart: aRequest! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:02:34'!
listPurchases: aRequest! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:02:47' prior: 50967087!
addToCart: aRequest

	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:11:59' prior: 50967104!
addToCart: aRequest

	[aRequest fields do:[ :requestFields | | cartId isbn quantity |
		cartId _ (requestFields at: 'cartId') asNumber.
		isbn _ requestFields at: 'isbn' .
		quantity _ (requestFields at: 'quantity') asNumber .
		
		 ]] 
		on: Error 
		do: [ :anError |
			aRequest send400Response: (anError messageText) ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:12:21' prior: 50967108!
addToCart: aRequest

	| cartId isbn quantity |

	[aRequest fields do:[ :requestFields | 
		cartId _ (requestFields at: 'cartId') asNumber.
		isbn _ requestFields at: 'isbn' .
		quantity _ (requestFields at: 'quantity') asNumber .
		
		 ]] 
		on: Error 
		do: [ :anError |
			aRequest send400Response: (anError messageText) ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:13:15' prior: 50967083!
createCart: aRequest

	| clientId password |

	[aRequest fields do:[ :requestFields | 
		clientId _ requestFields at: 'clientId'.
		password _ requestFields at: 'password' .
		
		 ]] 
		on: Error 
		do: [ :anError |
			aRequest send400Response: (anError messageText) ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:23:52' prior: 50967136!
createCart: aRequest

	| clientId password cartId|

	[aRequest fields do:[ :requestFields | 
		clientId _ requestFields at: 'clientId'.
		password _ requestFields at: 'password']]
	on: Error 
	do: [ :anError |
		aRequest send400Response: (anError messageText) ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: cartId ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:24:19' prior: 50967148!
createCart: aRequest

	| clientId password cartId|

	[aRequest fields do:[ :requestFields | 
		clientId _ requestFields at: 'clientId'.
		password _ requestFields at: 'password']]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: cartId ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:26:04' prior: 50967122!
addToCart: aRequest

	| cartId isbn quantity |

	[aRequest fields do:[ :requestFields | 
		cartId _ (requestFields at: 'cartId') asNumber.
		isbn _ requestFields at: 'isbn' .
		quantity _ (requestFields at: 'quantity') asNumber .
		
		 ]] 
		on: Error 
		do: [ :anError |
			aRequest send400Response: (anError messageText) ]
		
! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:29:25' prior: 50967184!
addToCart: aRequest

	| cartId isbn quantity |

	[aRequest fields do:[ :requestFields | 
		cartId _ (requestFields at: 'cartId') asNumber.
		isbn _ requestFields at: 'isbn' .
		quantity _ (requestFields at: 'quantity') asNumber .]] 
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade add: quantity of: isbn toCartIdentifiedAs: cartId.
	aRequest send200Response: 'OK' ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:33:16' prior: 50967091!
listCart: aRequest

	| cartId response |

	[aRequest fields do:[ :requestFields | 
		cartId _ (requestFields at: 'cartId') asNumber]]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[response _ facade listCartIdentifiedAs: cartId .
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:33:43' prior: 50967095!
checkoutCart: aRequest

	| cartId response |

	[aRequest fields do:[ :requestFields | 
		cartId _ (requestFields at: 'cartId') asNumber]]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[response _ facade listCartIdentifiedAs: cartId .
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:37:32' prior: 50967234!
checkoutCart: aRequest

	| cartId creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[aRequest fields do:[ :requestFields | 
		cartId _ (requestFields at: 'cartId') asNumber.
		creditCartNumber _ requestFields at: 'ccn'.
		creditCardExpirationMonthOfYear _ requestFields at: 'cced'.
		creditCardOwner _ requestFields at: 'cco'.
		]]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:38:17' prior: 50967099!
listPurchases: aRequest
! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:39:28' prior: 50967277!
listPurchases: aRequest

	| clientId password response|

	[aRequest fields do:[ :requestFields | 
		clientId _ requestFields at: 'clientId'.
		password _ requestFields at: 'password']]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	aRequest send200Response: response ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 20:39:41' prior: 50967282!
listPurchases: aRequest

	| clientId password response|

	[aRequest fields do:[ :requestFields | 
		clientId _ requestFields at: 'clientId'.
		password _ requestFields at: 'password']]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

----SNAPSHOT----(28 June 2021 20:40:25) CuisUniversity-4532.image priorSource: 18726679!

----QUIT----(28 June 2021 20:56:41) CuisUniversity-4532.image priorSource: 20341352!

----STARTUP---- (28 June 2021 23:26:01) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/28/2021 23:29:23'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/28/2021 23:29:23'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/28/2021 23:29:23'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/28/2021 23:29:23'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/28/2021 23:29:23'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/28/2021 23:29:23'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/28/2021 23:29:23'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/28/2021 23:29:23'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/28/2021 23:30:59'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test01ShouldNotAcceptEmptyTrailerFromNormalWorkingRobot stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test02ShouldNotAcceptEmptyTrailerFromMechanicalFailureRobot stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test03ShouldNotAcceptSensorsFailureRobot stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:31:00'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test01ShouldNotAcceptEmptyTrailerFromNormalWorkingRobot stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test02ShouldNotAcceptEmptyTrailerFromMechanicalFailureRobot stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test03ShouldNotAcceptSensorsFailureRobot stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:31:04'!
PASSED!

!classRemoval: #WorkingNormal stamp: 'ja 6/28/2021 23:32:16'!
RobotStatus subclass: #WorkingNormal
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #SensorsFailure stamp: 'ja 6/28/2021 23:32:17'!
RobotStatus subclass: #SensorsFailure
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #OutOfOrder stamp: 'ja 6/28/2021 23:32:17'!
RobotStatus subclass: #OutOfOrder
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #MechanicalFailure stamp: 'ja 6/28/2021 23:32:18'!
RobotStatus subclass: #MechanicalFailure
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #RobotStatus stamp: 'ja 6/28/2021 23:32:18'!
Object subclass: #RobotStatus
	instanceVariableNames: 'robot'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #Robot stamp: 'ja 6/28/2021 23:32:19'!
Object subclass: #Robot
	instanceVariableNames: 'status trailer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #Trailer stamp: 'ja 6/28/2021 23:32:19'!
ProductCarrier subclass: #Trailer
	instanceVariableNames: 'weightCapacity heightCapacity container'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #CleaningTrailer stamp: 'ja 6/28/2021 23:32:20'!
ProductCarrier subclass: #CleaningTrailer
	instanceVariableNames: 'cleaners trailer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #ProductCarrier stamp: 'ja 6/28/2021 23:32:21'!
Object subclass: #ProductCarrier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #ProductB stamp: 'ja 6/28/2021 23:32:21'!
Product subclass: #ProductB
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #ProductA stamp: 'ja 6/28/2021 23:32:22'!
Product subclass: #ProductA
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #Product stamp: 'ja 6/28/2021 23:32:22'!
Object subclass: #Product
	instanceVariableNames: 'weight height pollutionIndex'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #DispatchWarehouse stamp: 'ja 6/28/2021 23:32:23'!
Object subclass: #DispatchWarehouse
	instanceVariableNames: 'vehicles'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #UVRays stamp: 'ja 6/28/2021 23:32:24'!
Cleaner subclass: #UVRays
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #Bleach stamp: 'ja 6/28/2021 23:32:24'!
Cleaner subclass: #Bleach
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #Cleaner stamp: 'ja 6/28/2021 23:32:25'!
Object subclass: #Cleaner
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #TrailerTest stamp: 'ja 6/28/2021 23:32:25'!
TestCase subclass: #TrailerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #ShippingTest stamp: 'ja 6/28/2021 23:32:26'!
TestCase subclass: #ShippingTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #RobotTest stamp: 'ja 6/28/2021 23:32:26'!
TestCase subclass: #RobotTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #ProductTest stamp: 'ja 6/28/2021 23:32:27'!
TestCase subclass: #ProductTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!classRemoval: #CleaningTrailerTest stamp: 'ja 6/28/2021 23:32:27'!
TestCase subclass: #CleaningTrailerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-1C-2doParcial'!

!methodRemoval: CashierTest #shouldRaise:when: stamp: 'ja 6/28/2021 23:33:37'!
shouldRaise: errorMessage when: aBlock

	| aRobot aTrailer aCashier |
	
	aTrailer := Trailer with: 20 and: 100 .
	aRobot := Robot with: aTrailer.
	
	aCashier := Cashier new.

	self
		should: [ aBlock value: aRobot value: aCashier ]
		raise: Error
		withMessageText: errorMessage.
!

!methodRemoval: CashierTest #test01ShouldNotAcceptEmptyTrailerFromNormalWorkingRobot stamp: 'ja 6/28/2021 23:33:37'!
test01ShouldNotAcceptEmptyTrailerFromNormalWorkingRobot

	self 
		shouldRaise: Cashier trailerIsEmptyErrorDescription 
		when: [ :aRobot :aCashier | aCashier receiveOrderFromNormal: aRobot ]
!

!methodRemoval: CashierTest #test02ShouldNotAcceptEmptyTrailerFromMechanicalFailureRobot stamp: 'ja 6/28/2021 23:33:37'!
test02ShouldNotAcceptEmptyTrailerFromMechanicalFailureRobot

	self 
		shouldRaise: Cashier trailerIsEmptyErrorDescription 
		when: [ :aRobot :aCashier | 
			aRobot withMechanicalFailure.
			aCashier receiveOrderFromMechanicalFailure: aRobot 
		]
!

!methodRemoval: CashierTest #test03ShouldNotAcceptSensorsFailureRobot stamp: 'ja 6/28/2021 23:33:45'!
test03ShouldNotAcceptSensorsFailureRobot

	self 
		shouldRaise: Cashier robotSensorsFailureErrorDescription 
		when: [ :aRobot :aCashier | 
			aRobot withSensorsFailure.
			aCashier receiveOrderFromSensorsFailure: aRobot 
		]
!

!methodRemoval: CashierTest #test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot stamp: 'ja 6/28/2021 23:33:50'!
test04ShouldChangeRobotStatusToOutOfOrderWhenMechanicalFailureRobot

	self 
		shouldRaise: Robot outOfOrderErrorDescription
		when: [ :aRobot :aCashier |
			aRobot take: (ProductA with: 1  and: 1 withPollutionIndex: 0).
			aRobot withMechanicalFailure.
			
			aCashier receiveOrderFromMechanicalFailure: aRobot.			
			
			aRobot take: (ProductA with: 1 and: 1 withPollutionIndex: 0).
		]
!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:33:54'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/28/2021 23:33:54'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/28/2021 23:33:54'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/28/2021 23:33:54'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/28/2021 23:33:54'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/28/2021 23:33:54'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:34:01'!
PASSED!

!methodRemoval: Cashier #receiveOrderFromMechanicalFailure: stamp: 'ja 6/28/2021 23:34:33'!
receiveOrderFromMechanicalFailure: aRobot
	
	aRobot outOfOrder.
	^ self acceptProductsFrom: aRobot.!

!methodRemoval: Cashier #receiveOrderFromNormal: stamp: 'ja 6/28/2021 23:34:33'!
receiveOrderFromNormal: aRobot
	
	^ self acceptProductsFrom: aRobot!

!methodRemoval: Cashier #receiveOrderFromSensorsFailure: stamp: 'ja 6/28/2021 23:34:33'!
receiveOrderFromSensorsFailure: aRobot
	
	aRobot outOfOrder.
	self signalRobotSensorsFailure!

!methodRemoval: Cashier #acceptProductsFrom: stamp: 'ja 6/28/2021 23:34:49'!
acceptProductsFrom: aRobot

	| aTrailer |

	aTrailer := aRobot trailer.	
	self assertTrailerNotEmpty: aTrailer.
		
	"Comentario: en este punto el cashier realizara el checkout de los productos."

	^ true!

!methodRemoval: Cashier #assertTrailerNotEmpty: stamp: 'ja 6/28/2021 23:35:04'!
assertTrailerNotEmpty: aTrailer
	
	aTrailer isEmpty ifTrue: [self signalTrailerIsEmpty]!

!methodRemoval: Cashier class #trailerIsEmptyErrorDescription stamp: 'ja 6/28/2021 23:35:55'!
trailerIsEmptyErrorDescription
	
	^ 'This robots trailer is empty!!'!

!methodRemoval: Cashier class #robotSensorsFailureErrorDescription stamp: 'ja 6/28/2021 23:36:04'!
robotSensorsFailureErrorDescription
	
	^ 'This robot presents sensors failures!!'!

!methodRemoval: Cashier #signalRobotSensorsFailure stamp: 'ja 6/28/2021 23:36:38'!
signalRobotSensorsFailure
	
	self error: self class robotSensorsFailureErrorDescription!

!methodRemoval: Cashier #signalTrailerIsEmpty stamp: 'ja 6/28/2021 23:36:44'!
signalTrailerIsEmpty
	
	self error: self class trailerIsEmptyErrorDescription!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:36:50'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:36:59'!
PASSED!

----QUIT----(28 June 2021 23:38:10) CuisUniversity-4532.image priorSource: 20341442!

----STARTUP---- (28 June 2021 23:51:33) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 6/28/2021 23:52:57'!
PASSED!

----QUIT----(28 June 2021 23:54:34) CuisUniversity-4532.image priorSource: 20370512!

----STARTUP---- (29 June 2021 19:31:23) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 6/29/2021 19:31:54'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 6/29/2021 19:31:57'!
PASSED!

client _ WordsClientWindowModel open.!

client _ WordsClientWindowModel new.!

client _ WordsClientWindow open !

client _ WordsClientWindow open.!

server _ TusLibrosInterface startIn: 8080.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/29/2021 19:39:50' prior: 50967166!
createCart: aRequest

	| clientId password cartId|
	self halt.
	[aRequest fields do:[ :requestFields | 
		clientId _ requestFields at: 'clientId'.
		password _ requestFields at: 'password']]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: cartId ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !

aRequest fields!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/29/2021 19:45:49' prior: 50968596!
createCart: aRequest

	| clientId password cartId|
	self halt.
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: cartId ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/29/2021 19:45:52' prior: 50968615!
createCart: aRequest

	| clientId password cartId |
	self halt.
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: cartId ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/29/2021 19:47:33' prior: 50968634!
createCart: aRequest

	| clientId password cartId |
	self halt.
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: cartId printString ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/29/2021 19:47:40' prior: 50968653!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: cartId printString ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/29/2021 19:49:06' prior: 50968672!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: (WebUtils jsonEncode: cartId) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !

----QUIT----(29 June 2021 20:09:53) CuisUniversity-4532.image priorSource: 20374411!

----STARTUP---- (30 June 2021 18:59:53) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


Object subclass: #TusLibrosClientWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindow category: 'TusLibros-Model' stamp: 'ja 6/30/2021 19:02:39'!
Object subclass: #TusLibrosClientWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

Panel subclass: #TusLibrosClientWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindow category: 'TusLibros-Model' stamp: 'ja 6/30/2021 19:03:16'!
Panel subclass: #TusLibrosClientWindow
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 6/30/2021 19:03:41'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

client _ WordsClientWindow open.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:07:14' prior: 50967198!
addToCart: aRequest

	| cartId isbn quantity |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	isbn _ requestFields at: 'isbn' .
	quantity _ (requestFields at: 'quantity') asNumber .] 
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade add: quantity of: isbn toCartIdentifiedAs: cartId.
	aRequest send200Response: 'OK' ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:07:50' prior: 50967251!
checkoutCart: aRequest

	| cartId creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields | 
	requestFields _ aRequest fields.
		cartId _ (requestFields at: 'cartId') asNumber.
		creditCartNumber _ requestFields at: 'ccn'.
		creditCardExpirationMonthOfYear _ requestFields at: 'cced'.
		creditCardOwner _ requestFields at: 'cco'.
		]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:07:56' prior: 50968773!
checkoutCart: aRequest

	| cartId creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	creditCartNumber _ requestFields at: 'ccn'.
	creditCardExpirationMonthOfYear _ requestFields at: 'cced'.
	creditCardOwner _ requestFields at: 'cco'.]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:08:15' prior: 50967217!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[response _ facade listCartIdentifiedAs: cartId .
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:08:29' prior: 50967300!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password']
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosInterface allInstances do:[:anInstance | anInstance destroy].!

server _ TusLibrosInterface startIn: 8080. !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:20:48' prior: 50968825!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[response _ facade listCartIdentifiedAs: cartId .
		self halt.
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:21:16' prior: 50968865!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[response _ facade listCartIdentifiedAs: cartId .
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:27:22' prior: 50968799!
checkoutCart: aRequest

	| cartId creditCartNumber creditCardExpirationMonthOfYearString creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	creditCartNumber _ requestFields at: 'ccn'.
	creditCardExpirationMonthOfYearString := requestFields at: 'cced'.
        creditCardExpirationMonthOfYear := Month 
            month: (creditCardExpirationMonthOfYearString first: 2) asNumber 
            year: (creditCardExpirationMonthOfYearString last: 4) asNumber.
	creditCardOwner _ requestFields at: 'cco'.]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

MerchantProcessor subclass: #MerchantProcessorForInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #MerchantProcessorForInterface category: 'TusLibros-Model' stamp: 'ja 6/30/2021 19:29:38'!
MerchantProcessor subclass: #MerchantProcessorForInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!MerchantProcessorForInterface methodsFor: 'no messages' stamp: 'ja 6/30/2021 19:29:49' overrides: 50965506!
debit: anAmount from: aCreditCard
! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:30:03' prior: 50967045!
merchantProcessor

	^ MerchantProcessorForInterface new.! !

server _ TusLibrosInterface startIn: 8080. !

TusLibrosInterface allInstances do:[:anInstance | anInstance destroy].!
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:34:38' prior: 50967008!
startIn: aPortNumber

	| server interface |
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalog
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)).
	
	server _ WebServer reset default.
	server listenOn: aPortNumber.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	! !

server _ TusLibrosInterface startIn: 8080. !

server!

self allInstances .!

self allInstances delete !

server _ TusLibrosInterface startIn: 8080. !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/28/2021 19:52:26' prior: 50968961!
startIn: aPortNumber

	| server interface |
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalog
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)).
	
	server _ WebServer new listenOn: aPortNumber.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:37:10' prior: 50968996!
startIn: aPortNumber

	| server interface |
	
	server _ WebServer new listenOn: aPortNumber.
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalog
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)) andServer: server.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	! !

!classDefinition: #TusLibrosInterface category: 'TusLibros-Model' stamp: 'ja 6/30/2021 19:37:41'!
Object subclass: #TusLibrosInterface
	instanceVariableNames: 'facade server'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:37:39'!
initializeWith: aFacade andServer: aServer

	facade _ aFacade .
	server _ aServer ! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:38:29'!
destroy
	
	server ifNotNil:[server destroy].! !

TusLibrosInterface allInstances do:[:anInstance | anInstance destroy].!

TusLibrosInterface allInstances!

TusLibrosInterface allInstances do:[:anInstance | anInstance destroy].!

server _ TusLibrosInterface startIn: 8081. !

TusLibrosInterface allInstances do:[:anInstance | anInstance destroy].!

TusLibrosInterface allInstances!

TusLibrosInterface allInstances!

self destroy.!

server _ TusLibrosInterface startIn: 8081. !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:44:20' prior: 50968842!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password']
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
		self halt.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:45:01' prior: 50969089!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password']
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosInterface allInstances do:[:anInstance | anInstance destroy].!


client _ WordsClientWindow open.!


client _ WordsClientWindow open.!
!TusLibrosClientWindow class methodsFor: 'no messages' stamp: 'ja 6/30/2021 19:48:10'!
open
	
	^self new initializeWith: 'Tus Libros Client Window'.! !
!TusLibrosClientWindow methodsFor: 'no messages' stamp: 'ja 6/30/2021 19:49:11'!
initializeWith: aTitle

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModel new).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:54:36' overrides: 50959724!
buildMorphicWindow! !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 19:59:38' prior: 50969151 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.! !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:00:01' prior: 50969156 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow.! !

!classDefinition: #TusLibrosClientWindow category: 'TusLibros-Model' stamp: 'ja 6/30/2021 20:02:01'!
Panel subclass: #TusLibrosClientWindow
	instanceVariableNames: 'sentenceTextBoxMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:01:59'!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow new.!

clientTusLibros _ TusLibrosClientWindow open.!

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 6/30/2021 20:03:56'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'sentence'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModel methodsFor: 'no messages' stamp: 'ja 6/30/2021 20:03:54'!
sentenceText: aSentence

	sentence := aSentence.
	^true.! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:04:15' overrides: 16896425!
initialize 

	sentence _ ''.
! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:04:35'!
sentenceText
	
	^sentence.! !

clientTusLibros _ TusLibrosClientWindow open.!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:05:51' overrides: 50959810!
defaultExtent

	^ 1035@485
	! !

clientTusLibros _ TusLibrosClientWindow open.!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:07:53' prior: 50969180!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:09:30' prior: 50969241!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph;
	
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:10:43' prior: 50969278!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:11:26' prior: 50969312!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph;
	
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:11:44' prior: 50969345!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:12:06' prior: 50969377!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 25;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 90;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:12:21' prior: 50969412!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 90;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:14:03' prior: 50969447!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 90;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:15:35' prior: 50969482!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 90;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:15:59' prior: 50969515!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #sentenceText textSetter: #sentenceText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !

clientTusLibros _ TusLibrosClientWindow open. !

clientTusLibros _ TusLibrosClientWindow open. !
!WordsClientWindowModel methodsFor: 'TextModelMorphSelectors' stamp: 'ja 6/30/2021 20:21:55' prior: 50966878!
sentenceText
	self halt.
	^sentence.! !
!WordsClientWindowModel methodsFor: 'TextModelMorphSelectors' stamp: 'ja 6/30/2021 20:22:03' prior: 50966882!
sentenceText: aSentence
	self halt.
	sentence := aSentence.
	^true.! !

clientTusLibros _ TusLibrosClientWindow open. !
!WordsClientWindowModel methodsFor: 'TextModelMorphSelectors' stamp: 'ja 6/30/2021 20:22:45' prior: 50969609!
sentenceText
	
	^sentence.! !
!WordsClientWindowModel methodsFor: 'TextModelMorphSelectors' stamp: 'ja 6/30/2021 20:22:49' prior: 50969614!
sentenceText: aSentence
	
	sentence := aSentence.
	^true.! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:22:59' prior: 50969229!
sentenceText
	self halt.
	^sentence.! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:23:03' prior: 50969219!
sentenceText: aSentence
	self halt.
	sentence := aSentence.
	^true.! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModel methodsFor: 'nil' stamp: 'ja 6/30/2021 20:23:34' overrides: 16881414!
halt
	"This is the typical message to use for inserting breakpoints during 
	debugging. It behaves like halt:, but does not call on halt: in order to 
	avoid putting this message on the stack. Halt is especially useful when 
	the breakpoint message is an arbitrary one."

	Halt signal! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:24:52' prior: 50969638!
sentenceText: aSentence
	
	sentence := aSentence.
	^true.! !

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 6/30/2021 20:25:24'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'sentence user'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:25:21' prior: 50969633!
sentenceText
	
	^user.! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:25:29' prior: 50969658!
sentenceText: aSentence
	
	user := aSentence.
	^true.! !

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 6/30/2021 20:25:46'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'sentence user password'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:25:44'!
passwordText: aSentence
	
	password := aSentence.
	^true.! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:26:01'!
passwordText
	
	^password .! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:26:15'!
userNameText
	
	^user.! !

!methodRemoval: TusLibrosClientWindowModel #sentenceText stamp: 'ja 6/30/2021 20:26:15'!
sentenceText
	
	^user.!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:26:29'!
userNameText: aSentence
	
	user := aSentence.
	^true.! !

!methodRemoval: TusLibrosClientWindowModel #sentenceText: stamp: 'ja 6/30/2021 20:26:29'!
sentenceText: aSentence
	
	user := aSentence.
	^true.!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:27:06' prior: 50969561!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #sendWordsFromSentenceRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:27:22' prior: 50969718!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^firstRowLayoutMorph.! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:27:47'!
createCartRequest

	! !

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 6/30/2021 20:29:48'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'sentence user password interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:29:44' prior: 50969225 overrides: 16896425!
initialize 

	user _ ''.
	password _ ''.
	interface _ TusLibrosInterface startIn: 8082.
! !

!methodRemoval: TusLibrosClientWindowModel #halt stamp: 'ja 6/30/2021 20:30:05'!
halt
	"This is the typical message to use for inserting breakpoints during 
	debugging. It behaves like halt:, but does not call on halt: in order to 
	avoid putting this message on the stack. Halt is especially useful when 
	the breakpoint message is an arbitrary one."

	Halt signal!

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 6/30/2021 20:32:11'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'sentence user password interface cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:32:07' prior: 50969806!
createCartRequest

	cartId _ interface sendRequest: user ! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:32:39' prior: 50969847!
createCartRequest

	cartId _ interface sendRequest: user and: password ! !

Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'user password interface cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 6/30/2021 20:32:53'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'user password interface cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:33:14'!
sendRequest: aUser and: aPass
	
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:36:14' prior: 50969873!
sendRequest: aUser and: aPass
	
	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	
	
	fieldDict := Dictionary newFromPairs: {'sentence'. urlEncodedSentence.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/words') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:37:10' prior: 50969878!
sendRequest: aUser and: aPass
	
	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	
	resp:= WebClient htmlSubmit: (self url,'/words') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:39:17' prior: 50969895!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: (self url,'/words') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:39:58' prior: 50969912!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ( 'https://localhost8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:41:19' prior: 50969026!
startIn: aPortNumber

	| server interface |
	
	server _ WebServer new listenOn: aPortNumber.
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalog
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)) andServer: server.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	
	^ self
	! !
!TusLibrosInterface class methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:41:48' prior: 50969949!
startIn: aPortNumber

	| server interface |
	
	server _ WebServer new listenOn: aPortNumber.
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalog
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)) andServer: server.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	
	^ interface 
	! !

TusLibrosInterface allInstances do:[:anInstance | anInstance destroy].!

clientTusLibros _ TusLibrosClientWindow open. !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:44:29' prior: 50969929!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ( 'https://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

TusLibrosInterface allInstances do:[:anInstance | anInstance destroy].!

clientTusLibros _ TusLibrosClientWindow open. !

----SNAPSHOT----(30 June 2021 20:47:07) CuisUniversity-4532.image priorSource: 20385870!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:47:44' prior: 50970015!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ( 'https://localhost:8082/createCart?clientId=',aUser,'&password=',aPass) fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

TusLibrosInterface allInstances do:[:x | x destroy]!

client _ TusLibrosClientWindow open.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 20:49:24' prior: 50970040!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ( 'https://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

----QUIT----(30 June 2021 21:23:30) CuisUniversity-4532.image priorSource: 20428323!

----STARTUP---- (30 June 2021 23:07:08) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:08:09' prior: 50969820 overrides: 16896425!
initialize 

	user _ ''.
	password _ ''.
	self halt.
	interface _ TusLibrosInterface startIn: 8082.
! !

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:09:52' prior: 50969235 overrides: 50959810!
defaultExtent

	^ 1050@485
	! !

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:10:21' prior: 50970096 overrides: 50959810!
defaultExtent

	^ 2000@485
	! !

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:10:42' prior: 50970103 overrides: 50959810!
defaultExtent

	^ 1500@485
	! !

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:11:43' prior: 50969853!
createCartRequest
	
	self halt.
	cartId _ interface sendRequest: user and: password ! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:12:14' prior: 50970062!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	self halt.
	resp:= WebClient htmlSubmit: ( 'https://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:14:02' prior: 50970116!
createCartRequest
	
	cartId _ interface sendRequest: user and: password ! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:14:13' prior: 50970122!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ( 'https://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:14:19' prior: 50970147!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ('https://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

other _ WordsClientWindow open.!

WordsRestInterface allInstances do:[:x | x destroy]!

StringsServicesRestInterface allInstances do:[:x | x destroy].!

TusLibrosInterface allInstances do:[:x | x destroy].!

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:21:12' prior: 50970087 overrides: 16896425!
initialize 

	user _ ''.
	password _ ''.
	interface _ TusLibrosInterface startIn: 8082.
! !

TusLibrosInterface allInstances do:[:x | x destroy].!

other _ WordsClientWindow open.!

TusLibrosInterface allInstances!

TusLibrosInterface allInstances!

TusLibrosInterface allInstances!

self !

WordsRestInterface allInstances!
!WordsRestInterface methodsFor: 'initialization' stamp: 'ja 6/30/2021 23:28:01' prior: 50966940!
port
	
	^port ifNil: [port:=6060].! !

other _ WordsClientWindow open.!

TusLibrosInterface allInstances!

TusLibrosInterface allInstances!

TusLibrosInterface allInstances do:[:x | x destroy].!

TusLibrosInterface allInstances reverse do:[:x | x destroy].!

TusLibrosInterface allInstances reverse do:[:x | x destroy].!

TusLibrosInterface allInstances reverse!

client _ TusLibrosClientWindow open.!

Object subclass: #TusLibrosRESTInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosRESTInterface category: 'TusLibros-Model' stamp: 'ja 6/30/2021 23:40:08'!
Object subclass: #TusLibrosRESTInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosRESTInterface methodsFor: 'no messages' stamp: 'ja 6/30/2021 23:40:38'!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ('https://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:41:00' prior: 50970192 overrides: 16896425!
initialize 

	user _ ''.
	password _ ''.
	interface _ TusLibrosRESTInterface startIn: 8082.
! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:41:05' prior: 50970253 overrides: 16896425!
initialize 

	user _ ''.
	password _ ''.
	interface _ TusLibrosRESTInterface new.
! !

TusLibrosInterface allInstances do:[:x | x destroy].!

server _ TusLibrosInterface startIn: 8082.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:44:24' prior: 50968691!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
		self halt.
	aRequest send200Response: (WebUtils jsonEncode: cartId) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !

client _ TusLibrosClientWindow open.!
!TusLibrosRESTInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:46:11' prior: 50970234!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ('http://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRESTInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:47:04' prior: 50970291!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	self halt.
	resp:= WebClient htmlSubmit: ('http://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

TusLibrosInterface allInstances do:[:x | x destroy].!

server _ TusLibrosInterface startIn: 8082.!

client _ TusLibrosClientWindow open.!

TusLibrosInterface allInstances do:[:x | x destroy].!
!TusLibrosRESTInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:49:00' prior: 50970309!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	self halt.
	resp:= WebClient htmlSubmit: ('http://localhost:8083/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

server _ TusLibrosInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:50:51' prior: 50970270!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
		
	aRequest send200Response: (WebUtils jsonEncode: cartId) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !
!TusLibrosRESTInterface methodsFor: 'as yet unclassified' stamp: 'ja 6/30/2021 23:51:24' prior: 50970333!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	self halt.
	resp:= WebClient htmlSubmit: ('http://localhost:8083/createCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

TusLibrosInterface allInstances do:[:x | x destroy].!

server _ TusLibrosInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

self content.!

(WebUtils jsonDecode: ((resp content) readStream))!

(WebUtils jsonDecode: ((resp content) readStream))!
!TusLibrosRESTInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 00:03:18' prior: 50970373!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |

	"urlEncodedSentence := 'clientId=',aUser,'&password=',aPass.	"
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	self halt.
	resp:= WebClient htmlSubmit: ('http://localhost:8083/createCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

----QUIT----(1 July 2021 00:04:16) CuisUniversity-4532.image priorSource: 20429705!

----STARTUP---- (1 July 2021 15:25:47) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!TusLibrosRESTInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 15:58:16' prior: 50970400!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	self halt.
	resp:= WebClient htmlSubmit: ('http://localhost:8083/createCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

!classRenamed: #TusLibrosInterface as: #TusLibrosRestInterface stamp: 'ja 7/1/2021 16:02:14'!
Smalltalk renameClassNamed: #TusLibrosInterface as: #TusLibrosRestInterface!

!classRenamed: #TusLibrosRESTInterface as: #TusLibrosInterface stamp: 'ja 7/1/2021 16:02:23'!
Smalltalk renameClassNamed: #TusLibrosRESTInterface as: #TusLibrosInterface!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:02:24' prior: 50970261 overrides: 16896425!
initialize 

	user _ ''.
	password _ ''.
	interface _ TusLibrosInterface new.
! !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:03:56' prior: 50969762!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:10:34' prior: 50970141!
createCartRequest
	
	cartId _ interface sendRequest: user and: password .
	
	"desde este metodo si todo funcioana bien se llama al catalogo"! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:12:59' prior: 50970501!
createCartRequest
	
	cartId _ interface sendRequest: user and: password .
	self halt.
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."! !

TusLibrosInterface allInstances do:[:x | x destroy].!
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:14:05'!
README! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:14:47' prior: 50970522!
README

	"
	server _ TusLibrosRestInterface startIn: 8083.


	TusLibrosRestInterface allInstances do:[:x | x destroy].


	client _ TusLibrosClientWindow open.
	"! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:16:55' prior: 50969980!
startIn: aPortNumber

	| server interface |
	
	server _ WebServer new listenOn: aPortNumber.
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalog
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)) andServer: server.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	
	! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:51:34' prior: 50970509!
createCartRequest
	
	cartId _ interface sendRequest: user and: password .
	self halt.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."! !

Panel subclass: #TusLibrosClientWindowX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowX category: 'TusLibros-Model' stamp: 'ja 7/1/2021 16:51:59'!
Panel subclass: #TusLibrosClientWindowX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosClientWindowX subclass: #TusLibrosClientWindow
	instanceVariableNames: 'sentenceTextBoxMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindow category: 'TusLibros-Model' stamp: 'ja 7/1/2021 16:52:09'!
TusLibrosClientWindowX subclass: #TusLibrosClientWindow
	instanceVariableNames: 'sentenceTextBoxMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowX class methodsFor: 'no messages' stamp: 'ja 7/1/2021 16:53:34'!
open

	self subclassResponsibility ! !

!classRenamed: #TusLibrosClientWindow as: #TusLibrosClientWindowCreate stamp: 'ja 7/1/2021 16:55:59'!
Smalltalk renameClassNamed: #TusLibrosClientWindow as: #TusLibrosClientWindowCreate!

!classRenamed: #TusLibrosClientWindowX as: #TusLibrosClientWindow stamp: 'ja 7/1/2021 16:56:23'!
Smalltalk renameClassNamed: #TusLibrosClientWindowX as: #TusLibrosClientWindow!
!TusLibrosClientWindow class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:58:10' prior: 50970611!
open

	^ self new initializeDefaultWindow! !
!TusLibrosClientWindow methodsFor: 'no messages' stamp: 'ja 7/1/2021 16:58:46'!
initializeDefaultWindow

	TusLibrosClientWindow open.! !

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 16:59:56' prior: 50970632!
initializeDefaultWindow

	TusLibrosClientWindowCreate open.! !

client _ TusLibrosClientWindow open.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:06:07' prior: 50970165!
sendRequest: aUser and: aPass
	
"	| fieldDict resp  |

	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ('https://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content]."! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:13:05'!
defaultCatalogWithPrice

	^ Dictionary new
		at: 'libro1' put: 10*peso;
		at: 'libro2' put: 20*peso;
		at: 'libro3' put: 30*peso;
		at: 'libro4' put: 15*peso;
		yourself .
		! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:13:05' prior: 50970542!
startIn: aPortNumber

	| server interface |
	
	server _ WebServer new listenOn: aPortNumber.
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalogWithPrice
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)) andServer: server.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	
	! !

!methodRemoval: TusLibrosRestInterface class #defaultCatalog stamp: 'ja 7/1/2021 17:13:05'!
defaultCatalog

	^ Dictionary new
		at: 'libro1' put: 10*peso;
		at: 'libro2' put: 20*peso;
		at: 'libro3' put: 30*peso;
		at: 'libro4' put: 15*peso;
		yourself .
		!
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:18:02'!
defaultCatalog

	^ Dictionary new
		at: 'libro1' put: '';
		at: 'libro2' put: 20*peso;
		at: 'libro3' put: 30*peso;
		at: 'libro4' put: 'Business Adventures de John Brooks';
		yourself .
		! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:18:10' prior: 50970718!
defaultCatalog

	^ Dictionary new
		at: 'libro1' put: '';
		at: 'libro2' put: 20*peso;
		at: 'libro3' put: 30*peso;
		at: 'libro4' put: 'Business Adventures';
		yourself .
		! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:18:44' prior: 50970728!
defaultCatalog

	^ Dictionary new
		at: 'libro1' put: 'Molecular Biology of the Cell';
		at: 'libro2' put: 20*peso;
		at: 'libro3' put: 30*peso;
		at: 'libro4' put: 'Business Adventures';
		yourself .
		! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:19:50' prior: 50970738!
defaultCatalog

	^ Dictionary new
		at: 'libro1' put: 'Molecular Biology of the Cell';
		at: 'libro2' put: 'The Mythical Man-Month';
		at: 'libro3' put: 'The Principia';
		at: 'libro4' put: 'Business Adventures';
		yourself .
		! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:21:46' prior: 50970679!
startIn: aPortNumber

	| server interface |
	
	server _ WebServer new listenOn: aPortNumber.
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalogWithPrice
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)) andServer: server.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	
	server addService: '/catalog' action: [:request | self defaultCatalog]
	
	! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:22:31' prior: 50970761!
startIn: aPortNumber

	| server interface |
	
	server _ WebServer new listenOn: aPortNumber.
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalogWithPrice
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)) andServer: server.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].
	
	server addService: '/catalog' action: [:request | self defaultCatalog: request]
	
	! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:24:38'!
defaultCatalog: aRequest

	| catalog |
		
	[catalog _ self defaultCatalog.
	aRequest send200Response: 'OK' ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	
	! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:25:46' prior: 50970827!
defaultCatalog: aRequest

	| catalog |
		
	[catalog _ self defaultCatalog.
	aRequest send200Response: (WebUtils jsonEncode: catalog) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:40:01' prior: 50970573!
createCartRequest
	
	cartId _ interface sendRequest: user and: password .
	self halt.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:40:58' prior: 50970853!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequest: user and: password .
	self halt.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	! !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:41:36' prior: 50970865!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequest: user and: password .
	self halt.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:42:35'!
sendRequestForCatalog
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new.
	
	resp:= WebClient htmlSubmit: ('http://localhost:8083/createCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:43:22'!
port

	^ 8083! !

!classDefinition: #TusLibrosInterface category: 'TusLibros-Model' stamp: 'ja 7/1/2021 17:43:49'!
Object subclass: #TusLibrosInterface
	instanceVariableNames: 'port'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:43:48' prior: 50970902!
port

	^port ifNil: [port:=6060].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:43:56' prior: 50970914!
port

	^port ifNil: [port:=8083].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:44:21'!
url 

	^'http://localhost:', self port asString! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:44:53' prior: 50970424!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	self halt.
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:45:14' prior: 50970890!
sendRequestForCatalog
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new.
	
	resp:= WebClient htmlSubmit: (self url,'/catalog') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:47:28' prior: 50970877!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequest: user and: password .
	self halt.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	self halt.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 17:58:46' prior: 50970960!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequest: user and: password .
	self halt.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	self halt.
	
	! !

Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/1/2021 17:59:30'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart class methodsFor: 'no messages' stamp: 'ja 7/1/2021 18:00:17'!
openWith: aCatalog for: aCartId

	! !

TusLibrosClientWindow subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/1/2021 18:00:55'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRenamed: #TusLibrosClientWindowModelAddToCart as: #TusLibrosClientWindowAddToCart stamp: 'ja 7/1/2021 18:01:08'!
Smalltalk renameClassNamed: #TusLibrosClientWindowModelAddToCart as: #TusLibrosClientWindowAddToCart!
!TusLibrosClientWindowAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 18:02:57' prior: 50971007!
openWith: aCatalog for: aCartId

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId.! !
!TusLibrosClientWindowAddToCart methodsFor: 'no messages' stamp: 'ja 7/1/2021 18:03:26'!
 initializeWith: aTittle with: aCatalog for: aCartId! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 18:03:47' prior: 50971041!
initializeWith: aTitle with: aCatalog for: aCartId

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModel new).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !

Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/1/2021 18:14:46'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

Object subclass: #TusLibrosClientWindowModelZZZ
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelZZZ category: 'TusLibros-Model' stamp: 'ja 7/1/2021 18:20:03'!
Object subclass: #TusLibrosClientWindowModelZZZ
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosClientWindowModelZZZ stamp: 'ja 7/1/2021 18:23:54'!
Object subclass: #TusLibrosClientWindowModelZZZ
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/1/2021 18:24:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/1/2021 18:24:05'!
PASSED!
!TusLibrosClientWindowModel methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 18:25:57' prior: 50970980!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequest: user and: password .
	self halt.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	self halt.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId .
	
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 18:26:31' prior: 50971047!
initializeWith: aTitle with: aCatalog for: aCartId

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart new).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 18:26:47' overrides: 50959810!
defaultExtent

	^ 1500@485! !

!methodRemoval: TusLibrosClientWindowCreate #defaultExtent stamp: 'ja 7/1/2021 18:26:58'!
defaultExtent

	^ 1500@485
	!

other _ WordsClientWindow open.!

----SNAPSHOT----(1 July 2021 18:39:11) CuisUniversity-4532.image priorSource: 20440517!

----QUIT----(1 July 2021 18:39:19) CuisUniversity-4532.image priorSource: 20467160!

----STARTUP---- (1 July 2021 19:11:17) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


client _ TusLibrosClientWindow open. !

other _ WordsClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:19:21' overrides: 50959724!
buildMorphicWindow! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:23:15' prior: 50971267 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow.! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:23:55'!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !

!classDefinition: #TusLibrosClientWindowAddToCart category: 'TusLibros-Model' stamp: 'ja 7/1/2021 19:24:45'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: 'cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowAddToCart category: 'TusLibros-Model' stamp: 'ja 7/1/2021 19:24:48'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: 'cartId catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:24:43' prior: 50971226!
initializeWith: aTitle with: aCatalog for: aCartId

	cartId _ aCartId.
	catalog _ aCatalog .
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart new).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:31:32' prior: 50971281!
build1stRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow |
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Results');
	addMorph: wordsListMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:31:50' prior: 50971361!
build1stRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow |
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:33:14' prior: 50971344!
initializeWith: aTitle with: aCatalog for: aCartId

	cartId _ aCartId.
	catalog _ aCatalog .
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !
!TusLibrosClientWindowModelAddToCart class methodsFor: 'no messages' stamp: 'ja 7/1/2021 19:33:58'!
with: aCatalog for: aCartId

	^ self new initializeWith: aCatalog for: aCartId ! !

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/1/2021 19:34:27'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/1/2021 19:34:29'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'no messages' stamp: 'ja 7/1/2021 19:34:26'!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:34:47'!
catalog

	^ catalog! !

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/1/2021 19:35:11'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId selectedIndex'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:35:09'!
wordsListIndex: anIndex
	
	selectedIndex := anIndex.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:35:19'!
wordsListIndex
	
	^selectedIndex.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:35:37' prior: 50971459!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	selectedIndex _ 0! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:36:08'!
catalogListIndex
	
	^selectedIndex.! !

!methodRemoval: TusLibrosClientWindowModelAddToCart #wordsListIndex stamp: 'ja 7/1/2021 19:36:09'!
wordsListIndex
	
	^selectedIndex.!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:36:23'!
catalogListIndex: anIndex
	
	selectedIndex := anIndex.! !

!methodRemoval: TusLibrosClientWindowModelAddToCart #wordsListIndex: stamp: 'ja 7/1/2021 19:36:23'!
wordsListIndex: anIndex
	
	selectedIndex := anIndex.!
!WordsRestInterface methodsFor: 'sending requests' stamp: 'ja 7/1/2021 19:37:55' prior: 50966923!
sendRequest: sentence

	| fieldDict resp urlEncodedSentence |

	urlEncodedSentence := self correctlyEncodeSpacesForUrlRequestParameter: sentence.	
	fieldDict := Dictionary newFromPairs: {'sentence'. urlEncodedSentence.}.		
	
	resp:= WebClient htmlSubmit: (self url,'/words') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content].! !

'atr perri manan en la pera' substrings !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:54:26' prior: 50971465!
catalog

	^ catalog keysAndValuesDo: [:anISBN :aNameBook | anISBN,'-',aNameBook,' ']! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:54:41' prior: 50971535!
catalog

	^ (catalog keysAndValuesDo: [:anISBN :aNameBook | anISBN,'-',aNameBook,' ']) substrings ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:55:58' prior: 50971542!
catalog

	" la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	^ (catalog keysAndValuesDo: [:anISBN :aNameBook | anISBN,'-',aNameBook,' ']) substrings ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:56:01' prior: 50971549!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	^ (catalog keysAndValuesDo: [:anISBN :aNameBook | anISBN,'-',aNameBook,' ']) substrings ! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:59:37' prior: 50971559!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	| catalogList |
	
	catalogList _ ''.
	
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList,anISBN,'-',aNameBook,' '].
	
	^catalogList substrings ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 19:59:39' prior: 50971575!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ ''.
	
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList,anISBN,'-',aNameBook,' '].
	
	^catalogList substrings ! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 20:01:17' prior: 50971587!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ ''.
	
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList,anISBN,'-',aNameBook,' '].
	self halt.
	^catalogList substrings ! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 20:01:33' prior: 50970928!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 20:01:37' prior: 50971618!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

catalogList,anISBN,'-',aNameBook,' '!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 20:04:37' prior: 50971606!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ ''.
	
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList _ catalogList,anISBN,'-',aNameBook,' '].
	self halt.
	^catalogList substrings ! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/1/2021 20:39:15' prior: 50970748!
defaultCatalog

	^ Dictionary new
		at: 'libro1' put: 'MolecularBiologyOfTheCell';
		at: 'libro2' put: 'TheMythicalManMonth';
		at: 'libro3' put: 'ThePrincipia';
		at: 'libro4' put: 'BusinessAdventures';
		yourself .
		! !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

client _ TusLibrosClientWindow open. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

----QUIT----(1 July 2021 20:54:40) CuisUniversity-4532.image priorSource: 20467249!

----STARTUP---- (2 July 2021 15:47:28) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 15:51:59' prior: 50971389!
build1stRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Show Selected Word In Transcript'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 15:52:16' prior: 50971699!
build1stRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 15:52:37' prior: 50971733!
build1stRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #showWordInTranscript label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].
!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. 
!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 15:58:59' prior: 50971767!
build1stRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:07:49'!
addToCartActionButton! !

!classRenamed: #TusLibrosClientWindowModel as: #TusLibrosClientWindowModelCreate stamp: 'ja 7/2/2021 16:08:16'!
Smalltalk renameClassNamed: #TusLibrosClientWindowModel as: #TusLibrosClientWindowModelCreate!
!TusLibrosClientWindowCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:08:17' prior: 50969137!
initializeWith: aTitle

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelCreate new).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newWordsArrived send: #refreshListOfWords to: self.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:10:26' prior: 50971842!
addToCartActionButton

	(selectedIndex = 0) ifFalse: [  ]! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:11:35' prior: 50971274 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow;
	addMorph: self build2stRow.! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:11:47' prior: 50971881 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:12:08'!
build2ndRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:13:07' prior: 50971898!
build2ndRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:13:31' prior: 50971933!
build2ndRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:13:40' prior: 50971968!
build2ndRow

	| wordsListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:15:18' prior: 50971210!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequest: user and: password .
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	self halt.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId .
	
	! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:15:26' prior: 50972037!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequest: user and: password .
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId .
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:17:01'!
cart! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:17:16'!
cartListIndex! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:17:31'!
cartListIndex: anIndex! !

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/2/2021 16:18:33'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId selectedIndex cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/2/2021 16:18:35'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId selectedIndex cart cartSelectedIndex'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:18:31' prior: 50971489!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	selectedIndex _ 0.
	cart _ ''.
	cartSelectedIndex _ 0.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:18:39' prior: 50972103!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	selectedIndex _ 0.
	
	cart _ ''.
	cartSelectedIndex _ 0.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:18:49' prior: 50972070!
cart

	^ cart! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:19:08' prior: 50972078!
cartListIndex: anIndex

	cartSelectedIndex _ anIndex ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:19:17' prior: 50972074!
cartListIndex

	^ cartSelectedIndex ! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:42:32' prior: 50971807!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:43:32'!
quantityText: aNumber

	! !

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/2/2021 16:43:51'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId selectedIndex cart cartSelectedIndex quantity'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:43:49' prior: 50972112!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	selectedIndex _ 0.
	
	cart _ ''.
	cartSelectedIndex _ 0.
	
	quantity _ 0! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:44:07' prior: 50972190!
quantityText: aNumber

	quantity _ aNumber ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:44:17'!
quantityText

	^quantity! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:44:42' prior: 50972144!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. 
!

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/2/2021 16:46:31' prior: 50972205!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	selectedIndex _ 0.
	
	cart _ ''.
	cartSelectedIndex _ 0.
	
	quantity _ ''! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 16:59:25' prior: 50972224!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 20. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:02:27' prior: 50972293!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:04:08' prior: 50972214!
quantityText: aNumber

	quantity _ aNumber.
	^true.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:09:00'!
sendRequestForAddToCart: aCartId of: anISBN with: aQuantity
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new.
	
	resp:= WebClient htmlSubmit: (self url,'/catalog') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:09:59' prior: 50972410!
sendRequestForAddToCart: aCartId of: anISBN with: aQuantity
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new.
	
	resp:= WebClient htmlSubmit: (self url,'/addToCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:12:18' prior: 50972424!
sendRequestForAddToCart: aCartId of: anISBN with: aQuantity
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
	 	at: 'isbn' put: anISBN;
		at: 'quantity' put: aQuantity;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/addToCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:12:29' prior: 50972438!
sendRequestForAddToCart: aCartId of: anISBN with: aQuantity
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
	 	at: 'isbn' put: anISBN;
		at: 'quantity' put: aQuantity;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/addToCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:12:37' prior: 50970943!
sendRequestForCatalog
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new.
	
	resp:= WebClient htmlSubmit: (self url,'/catalog') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:13:02' prior: 50971874!
addToCartActionButton

	(selectedIndex = 0) ifFalse: [ 
		 ]! !

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/2/2021 17:14:14'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId selectedIndex cart cartSelectedIndex quantity interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/2/2021 17:14:12' prior: 50972278!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	selectedIndex _ 0.
	
	cart _ ''.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:15:22' prior: 50972485!
addToCartActionButton

	(selectedIndex = 0) ifFalse: [ interface sendRequestForAddToCart: cartId of: selectedIndex with: quantity ]! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:15:33' prior: 50972512!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ interface sendRequestForAddToCart: cartId of: selectedIndex with: quantity ]! !

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/2/2021 17:18:54'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId selectedIndex cart cartSelectedIndex quantity interface catalogListISBN'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:18:51' prior: 50971654!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ ''.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList _ catalogList,anISBN,'-',aNameBook,' '].
	self halt.
	^catalogList substrings ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:19:14' prior: 50972540!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ ''.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList _ catalogList,anISBN,'-',aNameBook,' '. catalogList add: anISBN].
	self halt.
	^catalogList substrings ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:19:33' prior: 50972554!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ ''.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList _ catalogList,anISBN,'-',aNameBook,' '. catalogListISBN add: anISBN].
	self halt.
	^catalogList substrings ! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:21:53' prior: 50972520!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN |
		
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity ]! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:22:03' prior: 50972584!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:46:54' prior: 50972595!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		[interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity]
		on: Error
		do:[] ]! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:49:07' prior: 50972613!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedTitle |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedTitle _ catalog at: selectedISBN.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 17:59:56' prior: 50972625!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		]
		! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:00:53'!
sendRequesForListCart: aCartId 
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/listCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:03:19' prior: 50972638!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		self halt.
		]
		! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:06:16' prior: 50972455!
sendRequestForAddToCart: aCartId of: anISBN with: aQuantity
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
	 	at: 'isbn' put: anISBN;
		at: 'quantity' put: aQuantity;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/addToCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:07:04' prior: 50972665!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		self halt.
		]
		! !

resp content!

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:12:08' prior: 50968754!
addToCart: aRequest

	| cartId isbn quantity |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	isbn _ requestFields at: 'isbn' .
	quantity _ (requestFields at: 'quantity') asNumber .] 
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade add: quantity of: isbn toCartIdentifiedAs: cartId.
	aRequest send200Response: (WebUtils jsonEncode: 'OK') ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

resp content!

resp content!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:15:01' prior: 50968882!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[response _ facade listCartIdentifiedAs: cartId .
		self halt.
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:15:49' prior: 50970457!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindow methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:18:21' prior: 50971241 overrides: 50959810!
defaultExtent

	^ 1000@485! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:18:51' prior: 50972749!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[response _ facade listCartIdentifiedAs: cartId .
	response _ response asDictionary.
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

resp content!

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:21:15' prior: 50972824!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[response _ facade listCartIdentifiedAs: cartId .
	self halt.
	response _ response asDictionary.
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

pp _ Bag with: 'a' with: 'a' with: 'x'.!

pp _ pp asDictionary.!

pp asDictionary.!

pp _ Bag with: 'a' with: 'a' with: 'x'.!

pp asDictionary !

pp _ Bag with: 'a' with: 'a' with: 'x'.!

pp asArray.!

pp asArray asDictionary.!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:36:01' prior: 50972849!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | responseAsDictionary |
		
	response _ facade listCartIdentifiedAs: cartId .
	responseAsDictionary _ Dictionary new.
	response do:[:anItem | responseAsDictionary at: anItem put: (responseAsDictionary at: anItem ifAbsent:[1] + 1)].
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:36:20' prior: 50972875!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | responseAsDictionary |
		
	response _ facade listCartIdentifiedAs: cartId .
	responseAsDictionary _ Dictionary new.
	response do:[:anItem | responseAsDictionary at: anItem put: ((responseAsDictionary at: anItem ifAbsent:[0]) + 1)].
	aRequest send200Response: (WebUtils jsonEncode: response)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy].
!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

resp content!

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:38:32' prior: 50972898!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | responseAsDictionary |
		
	response _ facade listCartIdentifiedAs: cartId .
	responseAsDictionary _ Dictionary new.
	response do:[:anItem | responseAsDictionary at: anItem put: ((responseAsDictionary at: anItem ifAbsent:[0]) + 1)].
	aRequest send200Response: (WebUtils jsonEncode: responseAsDictionary)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. 
!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/2/2021 18:40:08' prior: 50972651!
sendRequesForListCart: aCartId 
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/listCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

resp content!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

----SNAPSHOT----(2 July 2021 18:49:48) CuisUniversity-4532.image priorSource: 20481321!

----QUIT----(2 July 2021 18:49:53) CuisUniversity-4532.image priorSource: 20522412!

----STARTUP---- (3 July 2021 13:08:06) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:19:42' prior: 50972928!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | isbnByAmount |
		
	response _ facade listCartIdentifiedAs: cartId .
	isbnByAmount _ Dictionary new.
	response do:[:anItem | isbnByAmount at: anItem put: ((isbnByAmount at: anItem ifAbsent:[0]) + 1)].
	aRequest send200Response: (WebUtils jsonEncode: isbnByAmount)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

'a bc dd' substrings !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:32:34' prior: 50972707!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart _ cart,anISBN,' '. ] ]
		self halt.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:32:37' prior: 50973009!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart _ cart,anISBN,' '] ]
		self halt.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:32:43' prior: 50973027!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart _ cart,anISBN,' '] ].
		self halt.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:33:36' prior: 50972569!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ ''.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList _ catalogList,anISBN,'-',aNameBook,' '. catalogListISBN add: anISBN].
	self halt.
	^ catalogListISBN 
	"^catalogList substrings "! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:35:37' prior: 50973063!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ OrderedCollection new.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList add: anISBN,' ',aNameBook. catalogListISBN add: anISBN].
	self halt.
	
	^catalogList! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:35:40' prior: 50973085!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ OrderedCollection new.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: [:anISBN :aNameBook | catalogList add: anISBN,' ',aNameBook. catalogListISBN add: anISBN].
	
	self halt.
	
	^catalogList! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:36:02' prior: 50973100!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ OrderedCollection new.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: 
		[:anISBN :aNameBook | catalogList add: anISBN,' ',aNameBook. catalogListISBN add: anISBN].
	
	self halt.
	
	^catalogList! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:36:04' prior: 50973115!
catalog

	"la idea es que esto devuelva algo asi  como 123-olivertwist 455-colmilloblanco "
	
	| catalogList |
	
	catalogList _ OrderedCollection new.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: 
		[:anISBN :aNameBook | catalogList add: anISBN,' ',aNameBook. 
							catalogListISBN add: anISBN].
	
	self halt.
	
	^catalogList! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:37:20' prior: 50973045!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/3/2021 13:37:43' prior: 50972502!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	selectedIndex _ 0.
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:45:49' prior: 50972003!
build2ndRow

	| cartListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:46:38' prior: 50973177!
build2ndRow

	| cartListMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:46:45' prior: 50973206!
build2ndRow

	| cartListMorphXXX firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	cartListMorphXXX := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorphXXX  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorphXXX;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:47:01' prior: 50973235!
build2ndRow

	| cartListMorphXXX firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	cartListMorphXXX := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorphXXX  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorphXXX;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: 'cartId catalog cartListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowAddToCart category: 'TusLibros-Model' stamp: 'ja 7/3/2021 13:47:21'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: 'cartId catalog cartListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:47:40' prior: 50973265!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:48:29' prior: 50972347!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton: self  label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:48:37' prior: 50973339!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton  label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:48:47' prior: 50973387!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton  label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:51:20' prior: 50973435!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton:  label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:51:43'!
addToCartActionButton: unaCosa
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		]
		! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. 
!

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 13:52:52' prior: 50973483!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton  label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

!methodRemoval: TusLibrosClientWindowModelAddToCart #addToCartActionButton: stamp: 'ja 7/3/2021 13:53:12'!
addToCartActionButton: unaCosa
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		]
		!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:02:02' prior: 50973554!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: (#addToCartActionButton: asMessageWith: self) label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:02:51'!
addToCartActionButton: ppp
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		]
		! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:07:15' prior: 50973618!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: (#addToCartActionButton: asMessageWith: model) label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:08:37' prior: 50973688!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton: label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:10:21' prior: 50973738!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #addToCartActionButton:self label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:13:37' prior: 50973792!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: #xxx  action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:14:01' prior: 50973846!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: #zzz  action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

!methodRemoval: TusLibrosClientWindowModelAddToCart #addToCartActionButton: stamp: 'ja 7/3/2021 14:14:07'!
addToCartActionButton: ppp
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		]
		!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:14:59'!
zzz
	
	^ cart! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:16:08' prior: 50973964!
zzz
	
	^ true! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

!methodRemoval: TusLibrosClientWindowModelAddToCart #zzz stamp: 'ja 7/3/2021 14:18:08'!
zzz
	
	^ true!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 14:18:20' prior: 50973894!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:08:41'!
refreshCartListOfItems
	
	cartListMorph updateList.
	cartListMorph setSelectionIndex: 0.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:14:22' prior: 50971418!
initializeWith: aTitle with: aCatalog for: aCartId

	cartId _ aCartId.
	catalog _ aCatalog .
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshListOfWords to: self.! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:15:09' prior: 50974041!
initializeWith: aTitle with: aCatalog for: aCartId

	cartId _ aCartId.
	catalog _ aCatalog .
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:16:06' prior: 50973145!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]
		! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:21:16' prior: 50974077!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		cart _ OrderedCollection new. "esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:22:01' prior: 50974102!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		cart _ OrderedCollection new. "esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:22:06' prior: 50974125!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		cart _ OrderedCollection new. 
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:22:14' prior: 50974151!
addToCartActionButton
	
	(selectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:23:05'!
deleteToCartActionButton! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:24:12' prior: 50974202!
deleteToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		
		]! !

pp _ Bag with: 'x' with: 'x' with: 't' with: 'p'.!

pp remove: 'x'.!

pp.!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:28:02' prior: 50974207!
deleteToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		| selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		]! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:28:40' prior: 50974216!
deleteToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		| selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: selectedIndex .
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:30:07'!
sendRequestForRemoveToCart: aCartId of: anISBN
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
	 	at: 'isbn' put: anISBN;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/removeToCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:30:19' prior: 50974254!
sendRequestForRemoveToCart: aCartId of: anISBN
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
	 	at: 'isbn' put: anISBN;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/removeToCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:31:46' prior: 50970794!
startIn: aPortNumber

	| server interface |
	
	server _ WebServer new listenOn: aPortNumber.
	
	interface _ self new initializeWith: (TusLibrosSystemFacade 
		authenticatingWith: self validUsersAndPasswords
		acceptingItemsOf: self defaultCatalogWithPrice
		registeringOn: self createSalesBook
		debitingThrought: self merchantProcessor
		measuringTimeWith: (ManualClock now: DateAndTime now)) andServer: server.
	
	server addService: '/createCart' action: [:request | interface createCart: request ].

	server addService: '/addToCart' action: [:request | interface addToCart: request].
	
	server addService: '/listCart' action: [:request | interface listCart: request].
	
	server addService: '/checkoutCart' action: [:request | interface checkoutCart: request].
	
	server addService: '/listPurchases' action: [:request | interface listPurchases: request].

	server addService: '/removeToCart' action: [:request | interface removeToCart: request].
	
	server addService: '/catalog' action: [:request | self defaultCatalog: request].
	
	! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 15:35:49'!
removeToCart: aRequest

	| cartId isbn |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	isbn _ requestFields at: 'isbn' .] 
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade remove: isbn toCartIdentifiedAs: cartId.
	aRequest send200Response: (WebUtils jsonEncode: 'OK') ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/3/2021 15:37:50'!
remove: aBook toCartIdentifiedAs: aCartId

	self withCartSessionIdentifiedAs: aCartId do: [ :cartSession | cartSession removeToCart: aBook ]! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/3/2021 15:41:08' prior: 50974339!
remove: aBook toCartIdentifiedAs: aCartId
	
	"hay que terminar de implementar esto"
	self withCartSessionIdentifiedAs: aCartId do: [ :cartSession | cartSession removeToCart: aBook ]! !
!CartTest methodsFor: 'tests' stamp: 'ja 7/3/2021 15:44:34'!
test09CannotRemoveAnItemThatIsNotInTheCart

	| cart |

	cart := testObjectsFactory createCart.

	cart add: 2 of: testObjectsFactory itemSellByTheStore.
	self assert: (cart occurrencesOf: testObjectsFactory itemSellByTheStore) = 2! !

CustomTemplate new yourself; templateErrorMessage .!
!CartTest methodsFor: 'tests' stamp: 'ja 7/3/2021 15:49:41' prior: 50974355!
test09CannotRemoveAnItemThatIsNotInTheCart

	| cart |

	cart := testObjectsFactory createCart.

	cart add: 2 of: testObjectsFactory itemSellByTheStore.
	
	self should: [ cart remove: testObjectsFactory anotherItemSellByTheStore]
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: cart invalidItemErrorMessage.
			self assert: (cart occurrencesOf: testObjectsFactory itemSellByTheStore) = 2].! !
!CartTest methodsFor: 'tests' stamp: 'ja 7/3/2021 15:51:22' prior: 50974367!
test09CannotRemoveAnItemThatIsNotInTheCart

	| cart itemAddedToCart |

	cart := testObjectsFactory createCart.
	itemAddedToCart _ testObjectsFactory itemSellByTheStore.
	cart add: 2 of: itemAddedToCart.
	
	self should: [ cart remove: testObjectsFactory anotherItemSellByTheStore]
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: cart invalidItemErrorMessage.
			self assert: (cart occurrencesOf: itemAddedToCart) = 2].! !

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/3/2021 15:51:26'!
FAILURE!
!CartTest methodsFor: 'tests' stamp: 'ja 7/3/2021 15:52:18' prior: 50974384!
test09CannotRemoveAnItemThatIsNotInTheCart

	| cart itemAddedToCart |

	cart := testObjectsFactory createCart.
	itemAddedToCart _ testObjectsFactory itemSellByTheStore.
	cart add: 2 of: itemAddedToCart.
	
	self should: [ cart remove: testObjectsFactory anotherItemSellByTheStore]
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: cart itemIsNotInTheCartErrorDescription.
			self assert: (cart occurrencesOf: itemAddedToCart) = 2].! !

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/3/2021 15:52:24'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'ja 7/3/2021 15:53:59'!
remove: anItem

	items remove: anItem ifAbsent:[]! !
!Cart methodsFor: 'assertions' stamp: 'ja 7/3/2021 15:54:22' prior: 50974426!
remove: anItem

	items remove: anItem ifAbsent:[self error: self signalInvalidItem ]! !
!Cart methodsFor: 'assertions' stamp: 'ja 7/3/2021 15:55:05' prior: 50974431!
remove: anItem

	items remove: anItem ifAbsent:[self error: self itemIsNotInTheCartErrorDescription]! !
!Cart methodsFor: 'error signal' stamp: 'ja 7/3/2021 15:55:37'!
itemIsNotInTheCartErrorDescription

	^ 'Item Is Not In The Cart'! !

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/3/2021 15:55:57'!
PASSED!

----SNAPSHOT----(3 July 2021 15:56:25) CuisUniversity-4532.image priorSource: 20522501!
!CartTest methodsFor: 'tests' stamp: 'ja 7/3/2021 15:57:59'!
test10CanBeRemovedFromTherCartAndNoLongerAppears

	| cart itemAddedToCart |

	cart := testObjectsFactory createCart.
	itemAddedToCart _ testObjectsFactory itemSellByTheStore.
	cart add: 2 of: itemAddedToCart.
	
	self should: [ cart remove: testObjectsFactory anotherItemSellByTheStore]
		raise: Error
		withExceptionDo: [:anError |  
			self assert: anError messageText equals: cart itemIsNotInTheCartErrorDescription.
			self assert: (cart occurrencesOf: itemAddedToCart) = 2].! !
!CartTest methodsFor: 'tests' stamp: 'ja 7/3/2021 15:58:52' prior: 50974482!
test10CanBeRemovedFromTherCartAndNoLongerAppears

	| cart itemAddedToCart |

	cart := testObjectsFactory createCart.
	itemAddedToCart _ testObjectsFactory itemSellByTheStore.
	
	cart add: 2 of: itemAddedToCart.
	
	cart remove:  itemAddedToCart.
	
	self assert: (cart occurrencesOf: itemAddedToCart) = 1.! !

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/3/2021 15:59:03'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/3/2021 15:59:03'!
PASSED!
!CartSession methodsFor: 'cart' stamp: 'ja 7/3/2021 16:08:08'!
removeToCart: aBook

	^cart ! !
!CartSession methodsFor: 'cart' stamp: 'ja 7/3/2021 16:08:26' prior: 50974547!
removeToCart: aBook

	^cart remove: aBook ! !
!CartSession methodsFor: 'cart' stamp: 'ja 7/3/2021 16:08:30' prior: 50974551!
removeToCart: aBook

	^ cart remove: aBook ! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/3/2021 16:09:42' prior: 50974347!
remove: aBook toCartIdentifiedAs: aCartId
	
	self withCartSessionIdentifiedAs: aCartId do: [ :cartSession | cartSession removeToCart: aBook ]! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - checkout' stamp: 'ja 7/3/2021 16:34:46'!
test20CanRemoveItemsToACreatedCart

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.

	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.
	self assert: ((systemFacade listCartIdentifiedAs: cartId) occurrencesOf: self validBook) equals: 1
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - remove' stamp: 'ja 7/3/2021 16:36:04' prior: 50974568!
test20CanRemoveItemsToACreatedCart

	| cartId bookAddedToCart|

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	bookAddedToCart _ self validBook.
	systemFacade add: 1 of: bookAddedToCart toCartIdentifiedAs: cartId.
	systemFacade remove: bookAddedToCart toCartIdentifiedAs: cartId.
	self assert: ((systemFacade listCartIdentifiedAs: cartId) occurrencesOf: self validBook) equals: 1
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - remove' stamp: 'ja 7/3/2021 16:36:13' prior: 50974582!
test20CanRemoveItemsToACreatedCart

	| cartId bookAddedToCart|

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	bookAddedToCart _ self validBook.
	systemFacade add: 1 of: bookAddedToCart toCartIdentifiedAs: cartId.
	systemFacade remove: bookAddedToCart toCartIdentifiedAs: cartId.
	self assert: ((systemFacade listCartIdentifiedAs: cartId) occurrencesOf: self validBook) equals: 0.
		! !

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/3/2021 16:36:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/3/2021 16:36:14'!
PASSED!
!TusLibrosSystemFacadeTest methodsFor: 'tests - remove' stamp: 'ja 7/3/2021 16:36:26' prior: 50974599!
test20CanRemoveItemsToACreatedCart

	| cartId bookAddedToCart|

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	bookAddedToCart _ self validBook.
	
	systemFacade add: 1 of: bookAddedToCart toCartIdentifiedAs: cartId.
	
	systemFacade remove: bookAddedToCart toCartIdentifiedAs: cartId.
	
	self assert: ((systemFacade listCartIdentifiedAs: cartId) occurrencesOf: self validBook) equals: 0.
		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - remove' stamp: 'ja 7/3/2021 16:38:45'!
test21CanNotRemoveItemToNotCreatedCart

	| cartId bookAddedToCart|

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	bookAddedToCart _ self validBook.
	
	systemFacade add: 1 of: bookAddedToCart toCartIdentifiedAs: cartId.
	
	self
		should: [systemFacade remove: bookAddedToCart toCartIdentifiedAs: self invalidCartId]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade invalidCartIdErrorDescription ]
		! !

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/3/2021 16:38:50'!
PASSED!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  
!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 17:54:03' prior: 50974229!
deleteToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		| selectedISBN selectedBooks |
		self halt.
		selectedISBN _ cart at: selectedIndex .
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:06:56' prior: 50972768!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !
!TusLibrosClientWindowCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:07:46' prior: 50974854!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

TusLibrosClientWindow subclass: #TusLibrosClientWindowCreate
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowCreate category: 'TusLibros-Model' stamp: 'ja 7/3/2021 18:11:14'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowCreate
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:21:19' prior: 50974898!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph sentenceTextBoxMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	sentenceTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	sentenceTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph textMorph acceptContents ] .
	sentenceTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: sentenceTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !
!TusLibrosClientWindowCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:21:30' prior: 50974963!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph userNameTextBoxMorph sentenceTextBoxMorph2 |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	userNameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	userNameTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | userNameTextBoxMorph textMorph acceptContents ] .
	userNameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
	
	sentenceTextBoxMorph2 := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	sentenceTextBoxMorph2 textMorph setProperty: #keyStroke: toValue: [ :key | sentenceTextBoxMorph2 textMorph acceptContents ] .
	sentenceTextBoxMorph2  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: userNameTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: sentenceTextBoxMorph2;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !
!TusLibrosClientWindowCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:21:42' prior: 50975009!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph userNameTextBoxMorph passwordTextBoxMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	userNameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	userNameTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | userNameTextBoxMorph textMorph acceptContents ] .
	userNameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	passwordTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph textMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
		
	firstRowLayoutMorph := LayoutMorph newRow.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: userNameTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: passwordTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:28:28' prior: 50974823!
deleteToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		| selectedISBN selectedBooks |
		self halt.
		selectedISBN _ cart at: cartSelectedIndex .
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:32:54' prior: 50975117!
deleteToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		| selectedISBN selectedBooks |
		self halt.
		selectedISBN _ cart at: cartSelectedIndex.
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]! !

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/3/2021 18:33:18'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:33:18' prior: 50973162!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	catalogSelectedIndex _ 0.
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:33:18' prior: 50971505!
catalogListIndex: anIndex
	
	catalogSelectedIndex := anIndex.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:33:18' prior: 50974177!
addToCartActionButton
	
	(catalogSelectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: catalogSelectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:33:18' prior: 50971496!
catalogListIndex
	
	^catalogSelectedIndex.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:33:36' prior: 50973130!
catalog

	"la idea es que esto devuelva algo asi  como 123 olivertwist 455 colmilloblanco "
	
	| catalogList |
	
	catalogList _ OrderedCollection new.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: 
		[:anISBN :aNameBook | catalogList add: anISBN,' ',aNameBook. 
							catalogListISBN add: anISBN].
	
	self halt.
	
	^catalogList! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:36:35' prior: 50973310!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow addToCartButtonMorph checkoutButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:37:18' prior: 50975243!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph checkoutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: removeToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/3/2021 18:37:47' prior: 50975277!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph checkoutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #deleteToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: removeToCartButtonMorph;
	addMorph: checkoutButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

----QUIT----(3 July 2021 18:46:18) CuisUniversity-4532.image priorSource: 20570518!

----STARTUP---- (4 July 2021 10:55:06) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !
!TusLibrosClientWindowCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:20:59' prior: 50975055!
build1stRow

	| sendRequestButtonMorph firstRowLayoutMorph userNameTextBoxMorph passwordTextBoxMorph |
	
	sendRequestButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #createCartRequest  label: 'Create cart'.
	
	userNameTextBoxMorph := TextModelMorph textProvider: self model textGetter: #userNameText textSetter: #userNameText:. 
	userNameTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | userNameTextBoxMorph textMorph acceptContents ] .
	userNameTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
	
	passwordTextBoxMorph := TextModelMorph textProvider: self model textGetter: #passwordText textSetter: #passwordText:. 
	passwordTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | passwordTextBoxMorph textMorph acceptContents ] .
	passwordTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 200; morphHeight: 50. 
		
	firstRowLayoutMorph := LayoutMorph newColumn.
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter user name:');
	addMorph: userNameTextBoxMorph.
	
	firstRowLayoutMorph separation: 10;
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Enter password:');
	addMorph: passwordTextBoxMorph;
 	addMorph: sendRequestButtonMorph.
	
	^ firstRowLayoutMorph.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:25:03'!
ttt

	|firstColumnLayoutMorphOfSecondRow | 
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:25:45' prior: 50975420!
ttt

	| mmm | 
	
	mmm := LayoutMorph newColumn.
	mmm separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.
	
	mmm layoutSpec fixedWidth: 390.
		
	^mmm.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:26:05' prior: 50971890 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self ttt
	"addMorph: self build1stRow;
	addMorph: self build2ndRow."! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:27:44' prior: 50975436!
ttt

	| mmm | 
	
	mmm := LayoutMorph newRow .
	mmm separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.
	
	mmm layoutSpec fixedWidth: 390.
		
	^mmm.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.  !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:36:18'!
buid1stMainRow

	| mmm | 
	
	mmm := LayoutMorph newRow .
	mmm separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.
	
	mmm layoutSpec fixedWidth: 390.
		
	^mmm.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:36:18' prior: 50975447 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buid1stMainRow
	"addMorph: self build1stRow;
	addMorph: self build2ndRow."! !

!methodRemoval: TusLibrosClientWindowAddToCart #ttt stamp: 'ja 7/4/2021 11:36:18'!
ttt

	| mmm | 
	
	mmm := LayoutMorph newRow .
	mmm separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.
	
	mmm layoutSpec fixedWidth: 390.
		
	^mmm.
	!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:36:36' prior: 50975475!
buid1stMainRow

	| mainRow | 
	
	mainRow := LayoutMorph newRow .
	mainRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self build1stRow;
	addMorph: self build2ndRow.
	
	mainRow layoutSpec fixedWidth: 390.
		
	^mainRow.
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:39:55'!
sendRequestForCreateCartWithUser: aUser andPassword: aPass
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

!methodRemoval: TusLibrosInterface #sendRequest:and: stamp: 'ja 7/4/2021 11:39:55'!
sendRequest: aUser and: aPass
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:40:34' prior: 50972053!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequestForCreateCartWithUser: user andPassword: password .
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId .
	
	! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/4/2021 11:40:47' prior: 50975544!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequestForCreateCartWithUser: user andPassword: password.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId .
	
	! !

----QUIT----(4 July 2021 11:42:37) CuisUniversity-4532.image priorSource: 20598419!

----STARTUP---- (6 July 2021 19:48:17) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 19:50:17'!
checkoutToCartActionButton! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 19:50:37'!
removeToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		| selectedISBN selectedBooks |
		self halt.
		selectedISBN _ cart at: cartSelectedIndex.
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]! !

!methodRemoval: TusLibrosClientWindowModelAddToCart #deleteToCartActionButton stamp: 'ja 7/6/2021 19:50:37'!
deleteToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		| selectedISBN selectedBooks |
		self halt.
		selectedISBN _ cart at: cartSelectedIndex.
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 19:50:50' prior: 50975311!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph checkoutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: removeToCartButtonMorph;
	addMorph: checkoutButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 19:52:53' prior: 50975582!
checkoutToCartActionButton

	interface sendRequestForCheckoutToCart: cartId .
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 19:54:38' prior: 50975672!
checkoutToCartActionButton

	interface sendRequestForCheckoutToCart: cartId .
		
	"al hacer checkout se debe levantar una pantalla"! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 19:55:41'!
sendRequestForCheckoutToCart: aCartId 
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/checkoutCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosClientWindowAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:08:43'!
openWith: aCatalog for: aCartId andUserName: aUserName 

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId.! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:08:43' prior: 50975560!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequestForCreateCartWithUser: user andPassword: password.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId andUserName: user .
	
	! !

!methodRemoval: TusLibrosClientWindowAddToCart class #openWith:for: stamp: 'ja 7/6/2021 20:08:43'!
openWith: aCatalog for: aCartId

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId.!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:10:12'!
initializeWith: aTitle with: aCatalog for: aCartId andUserName: anUserName 

	cartId _ aCartId.
	catalog _ aCatalog .
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:10:12' prior: 50975700!
openWith: aCatalog for: aCartId andUserName: aUserName 

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId andUserName: anUserName.! !

!methodRemoval: TusLibrosClientWindowAddToCart #initializeWith:with:for: stamp: 'ja 7/6/2021 20:10:12'!
initializeWith: aTitle with: aCatalog for: aCartId

	cartId _ aCartId.
	catalog _ aCatalog .
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.!
!TusLibrosClientWindowAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:10:17' prior: 50975752!
openWith: aCatalog for: aCartId andUserName: anUserName 

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId andUserName: anUserName.! !

!classDefinition: #TusLibrosClientWindowAddToCart category: 'TusLibros-Model' stamp: 'ja 7/6/2021 20:10:42'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: 'cartId catalog cartListMorph userName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:10:40' prior: 50975733!
initializeWith: aTitle with: aCatalog for: aCartId andUserName: anUserName 

	cartId _ aCartId.
	catalog _ aCatalog .
	userName _ anUserName.
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowModelAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:11:47'!
with: aCatalog for: aCartId andUserName: anUserName 

	^ self new initializeWith: aCatalog for: aCartId ! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:11:47' prior: 50975799!
initializeWith: aTitle with: aCatalog for: aCartId andUserName: anUserName 

	cartId _ aCartId.
	catalog _ aCatalog .
	userName _ anUserName.
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId andUserName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !

!methodRemoval: TusLibrosClientWindowModelAddToCart class #with:for: stamp: 'ja 7/6/2021 20:11:48'!
with: aCatalog for: aCartId

	^ self new initializeWith: aCatalog for: aCartId !
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/6/2021 20:12:20'!
initializeWith: aCatalog for: aCartId andUserName: anUserName  

	catalog _ aCatalog .
	cartId _ aCartId.
	catalogSelectedIndex _ 0.
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !
!TusLibrosClientWindowModelAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:12:20' prior: 50975818!
with: aCatalog for: aCartId andUserName: anUserName 

	^ self new initializeWith: aCatalog for: aCartId andUserName: anUserName ! !

!methodRemoval: TusLibrosClientWindowModelAddToCart #initializeWith:for: stamp: 'ja 7/6/2021 20:12:20'!
initializeWith: aCatalog for: aCartId 

	catalog _ aCatalog .
	cartId _ aCartId.
	catalogSelectedIndex _ 0.
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/6/2021 20:12:39'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN userName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/6/2021 20:12:38' prior: 50975850!
initializeWith: aCatalog for: aCartId andUserName: anUserName  

	catalog _ aCatalog .
	cartId _ aCartId.
	userName _ anUserName.
	catalogSelectedIndex _ 0.
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:14:02'!
sendRequestForCheckoutToCart: aCartId for: anUserName  
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/checkoutCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

!methodRemoval: TusLibrosInterface #sendRequestForCheckoutToCart: stamp: 'ja 7/6/2021 20:14:02'!
sendRequestForCheckoutToCart: aCartId 
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/checkoutCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:14:19' prior: 50975679!
checkoutToCartActionButton

	interface sendRequestForCheckoutToCart: cartId for: userName.
		
	"al hacer checkout se debe levantar una pantalla"! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:14:45' prior: 50975904!
sendRequestForCheckoutToCart: aCartId for: anUserName  
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
		at: 'userName' put: anUserName;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/checkoutCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:15:57' prior: 50968899!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYearString creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	creditCartNumber _ requestFields at: 'ccn'.
	creditCardExpirationMonthOfYearString := requestFields at: 'cced'.
        creditCardExpirationMonthOfYear := Month 
            month: (creditCardExpirationMonthOfYearString first: 2) asNumber 
            year: (creditCardExpirationMonthOfYearString last: 4) asNumber.
	creditCardOwner _ requestFields at: 'cco'.]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:19:45' prior: 50975957!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYearString creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones"
	creditCartNumber _ requestFields at: 'ccn'.
	creditCardExpirationMonthOfYearString := requestFields at: 'cced'.
        creditCardExpirationMonthOfYear := Month 
            month: (creditCardExpirationMonthOfYearString first: 2) asNumber 
            year: (creditCardExpirationMonthOfYearString last: 4) asNumber.
	creditCardOwner _ requestFields at: 'cco'.]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/6/2021 20:27:51'!
PASSED!

Object subclass: #CreditCard
	instanceVariableNames: 'expiration number'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #CreditCard category: 'TusLibros-Model' stamp: 'ja 7/6/2021 20:37:47'!
Object subclass: #CreditCard
	instanceVariableNames: 'expiration number'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!CreditCard class methodsFor: 'instance creation' stamp: 'ja 7/6/2021 20:38:14' prior: 50965439!
expiringOn: aMonth 

	^self new initializeExpiringOn: aMonth! !
!CreditCard class methodsFor: 'instance creation' stamp: 'ja 7/6/2021 20:38:46'!
expiringOn: aMonth withNumber: aCreditCardNumber  

	^self new initializeExpiringOn: aMonth! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:38:46' prior: 50966659!
expiredCreditCard

	^CreditCard expiringOn: self expiredMonthOfYear withNumber: aCreditCardNumber ! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:38:46' prior: 50965222!
checkOutCartWithCreditCardNumbered: aCreditCartNumber ownedBy: anOwner expiringOn: anExpirationMonthOfYear

	^(Cashier
		toCheckout: cart
		ownedBy: owner
		charging: (CreditCard expiringOn: anExpirationMonthOfYear withNumber: aCreditCardNumber)
		throught: systemFacade merchantProcessor
		on: self today
		registeringOn: systemFacade salesBook) checkOut ! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:38:46' prior: 50966671!
notExpiredCreditCard

	^CreditCard expiringOn: self notExpiredMonthOfYear withNumber: aCreditCardNumber! !

!methodRemoval: CreditCard class #expiringOn: stamp: 'ja 7/6/2021 20:38:46'!
expiringOn: aMonth 

	^self new initializeExpiringOn: aMonth!
!CartSession methodsFor: 'cart' stamp: 'ja 7/6/2021 20:39:22' prior: 50976190!
checkOutCartWithCreditCardNumbered: aCreditCardNumber ownedBy: anOwner expiringOn: anExpirationMonthOfYear

	^(Cashier
		toCheckout: cart
		ownedBy: owner
		charging: (CreditCard expiringOn: anExpirationMonthOfYear withNumber: aCreditCardNumber)
		throught: systemFacade merchantProcessor
		on: self today
		registeringOn: systemFacade salesBook) checkOut ! !
!StoreTestObjectsFactory methodsFor: 'credit card' stamp: 'ja 7/6/2021 20:40:23' prior: 50976205!
notExpiredCreditCard

	^CreditCard expiringOn: self notExpiredMonthOfYear withNumber: '123451234512345'! !
!StoreTestObjectsFactory methodsFor: 'credit card' stamp: 'ja 7/6/2021 20:40:35' prior: 50976183!
expiredCreditCard

	^CreditCard expiringOn: self expiredMonthOfYear withNumber: '123451234512345'! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/6/2021 20:40:46'!
PASSED!
!CreditCard methodsFor: 'initialization' stamp: 'ja 7/6/2021 20:41:26'!
initializeExpiringOn: aMonth withNumber: aCreditCardNumber 

	expiration := aMonth ! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:41:26' prior: 50976176!
expiringOn: aMonth withNumber: aCreditCardNumber  

	^self new initializeExpiringOn: aMonth withNumber: aCreditCardNumber! !

!methodRemoval: CreditCard #initializeExpiringOn: stamp: 'ja 7/6/2021 20:41:26'!
initializeExpiringOn: aMonth

	expiration := aMonth !
!CreditCard methodsFor: 'initialization' stamp: 'ja 7/6/2021 20:42:41' prior: 50976372!
initializeExpiringOn: aMonth withNumber: aCreditCardNumber 

	expiration := aMonth.
	number _ aCreditCardNumber 
	! !
!TusLibrosRestInterface class methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:48:06'!
validUsersAndCreditCards
	
	| notExpiredDate |
	
	notExpiredDate _ StoreTestObjectsFactory new yourself; notExpiredMonthOfYear.
	
	^ Dictionary new
		at: 'jose' put: (CreditCard expiringOn: notExpiredDate withNumber: '123451234512345');
		at: 'ciro' put: (CreditCard expiringOn: notExpiredDate withNumber: '678906789067890');
		yourself .
		! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:52:21' prior: 50975993!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYearString creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
	creditCardExpirationMonthOfYearString := requestFields at: 'cced'.
        creditCardExpirationMonthOfYear := Month 
            month: (creditCardExpirationMonthOfYearString first: 2) asNumber 
            year: (creditCardExpirationMonthOfYearString last: 4) asNumber.
	creditCardOwner _ requestFields at: 'cco'.]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:53:18' prior: 50976411!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYearString creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
        creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!CreditCard methodsFor: 'initialization' stamp: 'ja 7/6/2021 20:53:42'!
number

	^ number ! !
!CreditCard methodsFor: 'initialization' stamp: 'ja 7/6/2021 20:53:51'!
expiration

	^ expiration ! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:54:48' prior: 50976451!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYearString creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardckodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
        creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:55:28' prior: 50976491!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYearString creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
        creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 20:55:35' prior: 50976526!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: 'OK']
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/6/2021 21:00:22'!
PASSED!

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

resp content!

resp isSuccess !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/6/2021 21:07:02' prior: 50975933!
checkoutToCartActionButton

	interface sendRequestForCheckoutToCart: cartId for: userName.
		
	"al hacer checkout se debe levantar una pantalla"
	
	interface sendRequestForListPurchases: userName.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 21:12:07'!
sendRequestForListPurchases: anUserName

	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 21:13:12' prior: 50976744!
sendRequestForListPurchases: anUserName

	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'clientId' put: anUserName;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/listPurchases') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/6/2021 21:13:39' prior: 50976733!
checkoutToCartActionButton

	| purchases |
	interface sendRequestForCheckoutToCart: cartId for: userName.
		
	"al hacer checkout se debe levantar una pantalla"
	
	purchases _  interface sendRequestForListPurchases: userName.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/6/2021 21:13:54' prior: 50976764!
checkoutToCartActionButton

	| purchases |
	interface sendRequestForCheckoutToCart: cartId for: userName.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	purchases _  interface sendRequestForListPurchases: userName.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/6/2021 21:21:17' prior: 50976775!
checkoutToCartActionButton

	| purchases |
	interface sendRequestForCheckoutToCart: cartId for: userName.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	purchases _  interface sendRequestForListPurchases: userName.
	self halt.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/6/2021 21:21:49'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/6/2021 21:21:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/6/2021 21:21:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/6/2021 21:21:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/6/2021 21:21:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/6/2021 21:21:50'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/6/2021 21:21:50'!
PASSED!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 21:23:16' prior: 50969109!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ self class validUsersAndPasswords at: clientId]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/6/2021 21:23:42' prior: 50976786!
checkoutToCartActionButton

	| purchases |
	interface sendRequestForCheckoutToCart: cartId for: userName.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	purchases _  interface sendRequestForListPurchases: userName.
	self halt.! !

TusLibrosRestInterface allInstances do:[:x | x destroy].
!

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.
!

resp content!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 21:26:05' prior: 50975941!
sendRequestForCheckoutToCart: aCartId for: anUserName  
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
		at: 'userName' put: anUserName;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/checkoutCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

resp isSuccess!

resp isSuccess!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/6/2021 21:28:07' prior: 50976561!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: (WebUtils jsonEncode: 'OK')]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy].!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/6/2021 22:13:25'!
PASSED!

----QUIT----(6 July 2021 22:13:29) CuisUniversity-4532.image priorSource: 20605575!

----STARTUP---- (7 July 2021 00:54:46) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

resp content!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 00:58:41' prior: 50976926!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ self class validUsersAndPasswords at: clientId]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
		self halt.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 01:05:13' prior: 50977156!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ self class validUsersAndPasswords at: clientId]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 01:08:39' prior: 50976749!
sendRequestForListPurchases: anUserName

	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'clientId' put: anUserName;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/listPurchases') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

----QUIT----(7 July 2021 01:08:40) CuisUniversity-4532.image priorSource: 20655764!

----STARTUP---- (7 July 2021 01:08:46) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

resp content!

resp isSuccess !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 01:16:52' prior: 50977176!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ self class validUsersAndPasswords at: clientId]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
		self halt.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 01:20:25' prior: 50977234!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ self class validUsersAndPasswords at: clientId]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	response valuesDo: [:prices | prices asString ].
		self halt.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

45*peso.!

(45*peso )asString !

45*peso !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 01:24:07' prior: 50977259!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ self class validUsersAndPasswords at: clientId]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	response keysAndValuesDo:[:book :price | response at: book put: price asString ].
		self halt.
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 01:24:29' prior: 50977282!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ self class validUsersAndPasswords at: clientId]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	response keysAndValuesDo:[:book :price | response at: book put: price asString ].
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 01:27:15'!
PASSED!

----QUIT----(7 July 2021 01:27:38) CuisUniversity-4532.image priorSource: 20658079!

----STARTUP---- (7 July 2021 15:22:16) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

!classDefinition: #TusLibrosClientWindowTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 15:47:34'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowTicket
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 15:47:08' prior: 50976946!
checkoutToCartActionButton

	| purchases |
	interface sendRequestForCheckoutToCart: cartId for: userName.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	purchases _  interface sendRequestForListPurchases: userName.
	self halt.
	TusLibrosClientWindowTicket for: cartId andUserName: userName.! !
!TusLibrosClientWindowTicket class methodsFor: 'no messages' stamp: 'ja 7/7/2021 15:48:06'!
for: cartId andUserName: userName

	! !
!TusLibrosClientWindowTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 15:49:00' prior: 50977502!
for: aCartId andUserName: anUserName

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId andUserName: anUserName.! !
!TusLibrosClientWindowTicket methodsFor: 'no messages' stamp: 'ja 7/7/2021 15:49:44'!
initializeWith: aTitle for: aCartId andUserName: anUserName! !

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 15:50:34'!
Object subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 15:50:25' prior: 50977515!
initializeWith: aTitle for: aCartId andUserName: anUserName

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId andUserName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowModelTicket class methodsFor: 'no messages' stamp: 'ja 7/7/2021 15:50:54'!
for: aCartId andUserName: anUserName! !
!TusLibrosClientWindowModelTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 15:51:17' prior: 50977545!
for: aCartId andUserName: anUserName

	^ self new initializeFor: aCartId andUserName: anUserName ! !
!TusLibrosClientWindowModelTicket methodsFor: 'no messages' stamp: 'ja 7/7/2021 15:51:30'!
initializeFor: aCartId andUserName: anUserName! !

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 15:52:43'!
Object subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 15:52:45'!
Object subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId userName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 15:52:47'!
Object subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId userName ticketSelectedIndex'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 15:52:40' prior: 50977557!
initializeFor: aCartId andUserName: anUserName

	cartId _ aCartId.
	userName _ anUserName.
	
	ticketSelectedIndex _ 0.! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 15:54:02'!
ticketSelectedIndex

	^ ticketSelectedIndex.! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 15:54:21'!
ticketSelectedIndex: anIndex

	ticketSelectedIndex _ anIndex ! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 15:54:30'!
ticket! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 15:58:41' overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow.! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:04:55'!
build1stRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph checkoutButtonMorph ticketListMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Eliminar del carrito'.	
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #ticket indexGetter: #ticketSelectedIndex indexSetter: #ticketSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph;
	addMorph: removeToCartButtonMorph;
	addMorph: checkoutButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:05:12' prior: 50977618!
build1stRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph ticketListMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Eliminar del carrito'.	
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #ticket indexGetter: #ticketSelectedIndex indexSetter: #ticketSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph;
	addMorph: removeToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 16:05:53' prior: 50977488!
checkoutToCartActionButton

	| purchases |
	interface sendRequestForCheckoutToCart: cartId for: userName.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	purchases _  interface sendRequestForListPurchases: userName.
	self halt.
	TusLibrosClientWindowTicket for: cartId andUserName: userName.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 16:06:36' prior: 50977680!
checkoutToCartActionButton

	| purchases ticket |
	ticket _ interface sendRequestForCheckoutToCart: cartId for: userName.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	purchases _  interface sendRequestForListPurchases: userName.
	self halt.
	TusLibrosClientWindowTicket for: cartId andUserName: userName.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 16:06:43' prior: 50977694!
checkoutToCartActionButton

	| purchases ticket |
	ticket _ interface sendRequestForCheckoutToCart: cartId for: userName.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	"purchases _  interface sendRequestForListPurchases: userName.
	self halt."
	TusLibrosClientWindowTicket for: cartId andUserName: userName.! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 16:11:13' prior: 50965734!
checkOutCartIdentifiedAs: aCartId withCreditCardNumbered: aCreditCartNumber ownedBy: anOwner expiringOn: anExpirationMonthOfYear

	self
		withCartSessionIdentifiedAs: aCartId
		do: [ :cartSession | | ticket |
			ticket _ cartSession
			checkOutCartWithCreditCardNumbered: aCreditCartNumber
			ownedBy: anOwner
			expiringOn: anExpirationMonthOfYear.
			ticket ]
! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:12:43' prior: 50976980!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket |ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	aRequest send200Response: (WebUtils jsonEncode: 'OK')]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:13:06' prior: 50977738!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	self halt.
	aRequest send200Response: (WebUtils jsonEncode: 'OK')]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelAddToCart methodsFor: 'adding - cart' stamp: 'ja 7/7/2021 16:16:01' prior: 50975196!
addToCartActionButton
	
	(catalogSelectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		self halt.
		selectedISBN _ catalogListISBN at: catalogSelectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		
		self triggerEvent: #newItemsArrived with: self.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'adding - cart' stamp: 'ja 7/7/2021 16:16:10' prior: 50977813!
addToCartActionButton
	
	(catalogSelectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		
		selectedISBN _ catalogListISBN at: catalogSelectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		"esto lo seteo en vacio cada vez que agregamos al carrito para que lo que ya se encontraba en este no se repita"
		"en un futuro cart tiene que tener el isbn y el titulo del libro"
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		
		self triggerEvent: #newItemsArrived with: self.
		]
		! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 16:19:01' prior: 50977723!
checkOutCartIdentifiedAs: aCartId withCreditCardNumbered: aCreditCartNumber ownedBy: anOwner expiringOn: anExpirationMonthOfYear

	^ self
		withCartSessionIdentifiedAs: aCartId
		do: [ :cartSession | | ticket |
			ticket _ cartSession
			checkOutCartWithCreditCardNumbered: aCreditCartNumber
			ownedBy: anOwner
			expiringOn: anExpirationMonthOfYear.
			ticket ]
! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

self total.!

self total.!
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:28:01' prior: 50977773!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	self halt.
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total].
	ticketDicc at: 'Total' put: ticket total.
	
	aRequest send200Response: (WebUtils jsonEncode: 'OK')]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:28:13' prior: 50977890!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	self halt.
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total].
	ticketDicc at: 'Total' put: ticket total.
	
	aRequest send200Response: (WebUtils jsonEncode: ticketDicc)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:29:21' prior: 50977930!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	self halt.
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total asString].
	ticketDicc at: 'Total' put: ticket total.
	
	aRequest send200Response: (WebUtils jsonEncode: ticketDicc)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:29:31' prior: 50977971!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total asString].
	ticketDicc at: 'Total' put: ticket total.
	
	aRequest send200Response: (WebUtils jsonEncode: ticketDicc)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:32:17' prior: 50978012!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total asString].
	ticketDicc at: 'Total' put: ticket total.
	self halt.
	aRequest send200Response: (WebUtils jsonEncode: ticketDicc)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:34:40' prior: 50978062!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total asString].
	ticketDicc at: 'Total' put: ticket total asString.
	self halt.
	aRequest send200Response: (WebUtils jsonEncode: ticketDicc)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:36:28' prior: 50978107!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total asString].
	ticketDicc at: 'Total' put: ticket total asString.
	
	aRequest send200Response: (WebUtils jsonEncode: ticketDicc)]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:38:02' prior: 50972685!
sendRequestForAddToCart: aCartId of: anISBN with: aQuantity
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
	 	at: 'isbn' put: anISBN;
		at: 'quantity' put: aQuantity;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/addToCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:38:16' prior: 50972956!
sendRequesForListCart: aCartId 
	
	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'cartId' put: aCartId;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/listCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:39:41'!
for: aCartId withUserName: anUserName

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId andUserName: anUserName.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:39:41' prior: 50977709!
checkoutToCartActionButton

	| purchases ticket |
	ticket _ interface sendRequestForCheckoutToCart: cartId for: userName.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	"purchases _  interface sendRequestForListPurchases: userName.
	self halt."
	TusLibrosClientWindowTicket for: cartId withUserName: userName.! !

!methodRemoval: TusLibrosClientWindowTicket class #for:andUserName: stamp: 'ja 7/7/2021 16:39:41'!
for: aCartId andUserName: anUserName

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId andUserName: anUserName.!
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 16:40:09' prior: 50978244!
checkoutToCartActionButton

	| purchases ticket |
	ticket _ interface sendRequestForCheckoutToCart: cartId for: userName.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	"purchases _  interface sendRequestForListPurchases: userName.
	self halt."
	TusLibrosClientWindowTicket for: cartId withUserName: userName.! !
!TusLibrosClientWindowTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:40:33'!
for: aCartId withUserName: anUserName andTicket: aTicket 

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId andUserName: anUserName.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:40:33' prior: 50978266!
checkoutToCartActionButton

	| purchases ticket |
	ticket _ interface sendRequestForCheckoutToCart: cartId for: userName.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	"purchases _  interface sendRequestForListPurchases: userName.
	self halt."
	TusLibrosClientWindowTicket for: cartId withUserName: userName andTicket: ticket.! !

!methodRemoval: TusLibrosClientWindowTicket class #for:withUserName: stamp: 'ja 7/7/2021 16:40:33'!
for: aCartId withUserName: anUserName

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId andUserName: anUserName.!
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:41:00'!
initializeWith: aTitle for: aCartId userName: anUserName

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId andUserName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:41:00' prior: 50978280!
for: aCartId withUserName: anUserName andTicket: aTicket 

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId userName: anUserName.! !

!methodRemoval: TusLibrosClientWindowTicket #initializeWith:for:andUserName: stamp: 'ja 7/7/2021 16:41:00'!
initializeWith: aTitle for: aCartId andUserName: anUserName

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId andUserName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.!
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:41:26'!
initializeWith: aTitle for: aCartId userName: anUserName andTicket: aTicket 

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId andUserName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:41:26' prior: 50978328!
for: aCartId withUserName: anUserName andTicket: aTicket 

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId userName: anUserName andTicket: aTicket.! !

!methodRemoval: TusLibrosClientWindowTicket #initializeWith:for:userName: stamp: 'ja 7/7/2021 16:41:26'!
initializeWith: aTitle for: aCartId userName: anUserName

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId andUserName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.!
!TusLibrosClientWindowModelTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:42:02'!
for: aCartId userName: anUserName

	^ self new initializeFor: aCartId andUserName: anUserName ! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:42:02' prior: 50978353!
initializeWith: aTitle for: aCartId userName: anUserName andTicket: aTicket 

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId userName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !

!methodRemoval: TusLibrosClientWindowModelTicket class #for:andUserName: stamp: 'ja 7/7/2021 16:42:02'!
for: aCartId andUserName: anUserName

	^ self new initializeFor: aCartId andUserName: anUserName !
!TusLibrosClientWindowModelTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:42:26'!
for: aCartId userName: anUserName andTicket: aTicket 

	^ self new initializeFor: aCartId andUserName: anUserName ! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:42:26' prior: 50978402!
initializeWith: aTitle for: aCartId userName: anUserName andTicket: aTicket 

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId userName: anUserName andTicket: aTicket).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !

!methodRemoval: TusLibrosClientWindowModelTicket class #for:userName: stamp: 'ja 7/7/2021 16:42:26'!
for: aCartId userName: anUserName

	^ self new initializeFor: aCartId andUserName: anUserName !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:43:01'!
initializeFor: aCartId userName: anUserName

	cartId _ aCartId.
	userName _ anUserName.
	
	ticketSelectedIndex _ 0.! !
!TusLibrosClientWindowModelTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:43:01' prior: 50978425!
for: aCartId userName: anUserName andTicket: aTicket 

	^ self new initializeFor: aCartId userName: anUserName ! !

!methodRemoval: TusLibrosClientWindowModelTicket #initializeFor:andUserName: stamp: 'ja 7/7/2021 16:43:01'!
initializeFor: aCartId andUserName: anUserName

	cartId _ aCartId.
	userName _ anUserName.
	
	ticketSelectedIndex _ 0.!
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:43:23'!
initializeFor: aCartId userName: anUserName andTicket: aTicket 

	cartId _ aCartId.
	userName _ anUserName.
	
	ticketSelectedIndex _ 0.! !
!TusLibrosClientWindowModelTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:43:23' prior: 50978465!
for: aCartId userName: anUserName andTicket: aTicket 

	^ self new initializeFor: aCartId userName: anUserName andTicket: aTicket ! !

!methodRemoval: TusLibrosClientWindowModelTicket #initializeFor:userName: stamp: 'ja 7/7/2021 16:43:23'!
initializeFor: aCartId userName: anUserName

	cartId _ aCartId.
	userName _ anUserName.
	
	ticketSelectedIndex _ 0.!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 16:44:04'!
Object subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId userName ticketSelectedIndex ticket'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:44:01' prior: 50978479!
initializeFor: aCartId userName: anUserName andTicket: aTicket 

	cartId _ aCartId.
	userName _ anUserName.
	ticket _ self xxx: aTicket.
	
	ticketSelectedIndex _ 0.! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:44:23' prior: 50977607!
ticket

	^ ticket ! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:45:25'!
xxx: aTicket

	| ticketList |
	
	ticketList _ OrderedCollection new.
	
	
	! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:45:41' prior: 50978526!
xxx: aTicket

	| ticketToShow |
	
	ticketToShow _ OrderedCollection new.
	
	
	! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:46:43' prior: 50978533!
xxx: aTicket

	| ticketToShow |
	
	ticketToShow _ OrderedCollection new.
	
	aTicket keysAndValuesDo: [:anItem :aPrice | ticketToShow add: anItem,' ',aPrice].
	
	^ ticketToShow 
	! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:47:37'!
list: aTicket

	| ticketToShow |
	
	ticketToShow _ OrderedCollection new.
	
	aTicket keysAndValuesDo: [:anItem :aPrice | ticketToShow add: anItem,' ',aPrice].
	
	^ ticketToShow 
	! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:47:37' prior: 50978513!
initializeFor: aCartId userName: anUserName andTicket: aTicket 

	cartId _ aCartId.
	userName _ anUserName.
	ticket _ self list: aTicket.
	
	ticketSelectedIndex _ 0.! !

!methodRemoval: TusLibrosClientWindowModelTicket #xxx: stamp: 'ja 7/7/2021 16:47:37'!
xxx: aTicket

	| ticketToShow |
	
	ticketToShow _ OrderedCollection new.
	
	aTicket keysAndValuesDo: [:anItem :aPrice | ticketToShow add: anItem,' ',aPrice].
	
	^ ticketToShow 
	!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:49:37' prior: 50977650!
build1stRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph ticketListMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Realizar otra compra'.	
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #ticket indexGetter: #ticketSelectedIndex indexSetter: #ticketSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph;
	addMorph: removeToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:50:22' prior: 50978583!
build1stRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph ticketListMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Realizar otra compra'.	
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Cerrar sesin'.	
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #ticket indexGetter: #ticketSelectedIndex indexSetter: #ticketSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph;
	addMorph: removeToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:50:35' prior: 50978613!
build1stRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph ticketListMorph logOutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Realizar otra compra'.	
	
	logOutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Cerrar sesin'.	
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #ticket indexGetter: #ticketSelectedIndex indexSetter: #ticketSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph;
	addMorph: removeToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:51:06' prior: 50978648!
build1stRow

	| firstColumnLayoutMorphOfSecondRow continueShoppingButtonMorph ticketListMorph logOutButtonMorph |
	
	continueShoppingButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Realizar otra compra'.	
	
	logOutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Cerrar sesin'.	
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #ticket indexGetter: #ticketSelectedIndex indexSetter: #ticketSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph;
	addMorph: continueShoppingButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:51:37' prior: 50978683!
build1stRow

	| firstColumnLayoutMorphOfSecondRow continueShoppingButtonMorph ticketListMorph logOutButtonMorph |
	
	continueShoppingButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #continueShoppingActionButton label: 'Realizar otra compra'.	
	
	logOutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #logOutActionButton label: 'Cerrar sesin'.	
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #ticket indexGetter: #ticketSelectedIndex indexSetter: #ticketSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph;
	addMorph: continueShoppingButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:52:47' prior: 50978718!
build1stRow

	| firstColumnLayoutMorphOfSecondRow continueShoppingButtonMorph ticketListMorph logOutButtonMorph |
	
	continueShoppingButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #continueShoppingActionButton label: 'Realizar otra compra'.	
	
	logOutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #logOutActionButton label: 'Cerrar sesin'.	
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #ticket indexGetter: #ticketSelectedIndex indexSetter: #ticketSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph;
	addMorph: continueShoppingButtonMorph;
	addMorph: logOutButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 7/7/2021 16:56:08'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN userName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/7/2021 16:56:17'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN userName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'user password interface cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelCreate category: 'TusLibros-Model' stamp: 'ja 7/7/2021 16:56:21'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'user password interface cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId userName ticketSelectedIndex ticket'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 16:56:25'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId userName ticketSelectedIndex ticket'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'userNameX passwordX'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 7/7/2021 16:57:49'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'userNameX passwordX'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:58:16' prior: 50970451 overrides: 16896425!
initialize 

	userNameX _ ''.
	passwordX _ ''.
	interface _ TusLibrosInterface new.
! !

TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'interface cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelCreate category: 'TusLibros-Model' stamp: 'ja 7/7/2021 16:58:30'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'interface cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:58:48' prior: 50975709!
createCartRequest
	
	| catalog |
	cartId _ interface sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId andUserName: userNameX .
	
	! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:58:56' prior: 50969696!
passwordText
	
	^passwordX .! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:59:03' prior: 50969691!
passwordText: aSentence
	
	passwordX := aSentence.
	^true.! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:59:10' prior: 50969700!
userNameText
	
	^userNameX .! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 16:59:16' prior: 50969708!
userNameText: aSentence
	
	userNameX := aSentence.
	^true.! !

TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/7/2021 16:59:41'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 17:00:01' prior: 50978289!
checkoutToCartActionButton

	| ticket |
	ticket _ interface sendRequestForCheckoutToCart: cartId for: userNameX.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	"purchases _  interface sendRequestForListPurchases: userName.
	self halt."
	TusLibrosClientWindowTicket for: cartId withUserName: userNameX andTicket: ticket.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/7/2021 17:00:15' prior: 50975892!
initializeWith: aCatalog for: aCartId andUserName: anUserName  

	catalog _ aCatalog .
	cartId _ aCartId.
	userNameX _ anUserName.
	catalogSelectedIndex _ 0.
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:00:59' prior: 50978559!
initializeFor: aCartId userName: anUserName andTicket: aTicket 

	cartId _ aCartId.
	
	ticket _ self list: aTicket.
	
	ticketSelectedIndex _ 0.! !

TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId ticketSelectedIndex ticket'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:01:07'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId ticketSelectedIndex ticket'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:03:42'!
continueShoppingActionButton! !

Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'userNameX passwordX interfaceX'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModel category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:07:13'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'userNameX passwordX interfaceX'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:07:17' prior: 50979017!
continueShoppingActionButton

	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId andUserName: userNameX .! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:07:31' prior: 50978877 overrides: 16896425!
initialize 

	userNameX _ ''.
	passwordX _ ''.
	interfaceX _ TusLibrosInterface new.
! !

TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelCreate category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:07:47'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:09:58' prior: 50978899!
createCartRequest
	
	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId andUserName: userNameX .
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:11:32' prior: 50978986!
initializeFor: aCartId userName: anUserName andTicket: aTicket 

	cartId _ aCartId.
	interfaceX _ TusLibrosInterface new.
	ticket _ self list: aTicket.
	
	ticketSelectedIndex _ 0.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowAddToCart class methodsFor: 'instance creation' stamp: 'ja 7/7/2021 17:14:34'!
openWith: aCatalog for: aCartId userName: anUserName 

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId andUserName: anUserName.! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:14:34' prior: 50979037!
continueShoppingActionButton

	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX .! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:14:34' prior: 50979088!
createCartRequest
	
	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX .
	
	! !

!methodRemoval: TusLibrosClientWindowAddToCart class #openWith:for:andUserName: stamp: 'ja 7/7/2021 17:14:34'!
openWith: aCatalog for: aCartId andUserName: anUserName 

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId andUserName: anUserName.!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:14:48' prior: 50979151!
createCartRequest
	
	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX .
	
	! !
!TusLibrosClientWindowAddToCart class methodsFor: 'instance creation' stamp: 'ja 7/7/2021 17:15:18'!
openWith: aCatalog for: aCartId userName: anUserName andPassword: aPassword  

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId andUserName: anUserName.! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:15:18' prior: 50979177!
createCartRequest
	
	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: aPassword .
	
	! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:15:19' prior: 50979134!
continueShoppingActionButton

	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: aPassword .! !

!methodRemoval: TusLibrosClientWindowAddToCart class #openWith:for:userName: stamp: 'ja 7/7/2021 17:15:19'!
openWith: aCatalog for: aCartId userName: anUserName 

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId andUserName: anUserName.!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:15:24' prior: 50979204!
createCartRequest
	
	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:16:03'!
initializeWith: aTitle with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword  

	cartId _ aCartId.
	catalog _ aCatalog .
	userName _ anUserName.
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId andUserName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:16:03' prior: 50979194!
openWith: aCatalog for: aCartId userName: anUserName andPassword: aPassword  

	^self new initializeWith: 'Tus Libros Client Window - Add To Cart' with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword.! !

!methodRemoval: TusLibrosClientWindowAddToCart #initializeWith:with:for:andUserName: stamp: 'ja 7/7/2021 17:16:03'!
initializeWith: aTitle with: aCatalog for: aCartId andUserName: anUserName 

	cartId _ aCartId.
	catalog _ aCatalog .
	userName _ anUserName.
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId andUserName: anUserName).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.!
!TusLibrosClientWindowModelAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:16:34'!
with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword  

	^ self new initializeWith: aCatalog for: aCartId andUserName: anUserName ! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:16:34' prior: 50979266!
initializeWith: aTitle with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword  

	cartId _ aCartId.
	catalog _ aCatalog .
	userName _ anUserName.
	
	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !

!methodRemoval: TusLibrosClientWindowModelAddToCart class #with:for:andUserName: stamp: 'ja 7/7/2021 17:16:34'!
with: aCatalog for: aCartId andUserName: anUserName 

	^ self new initializeWith: aCatalog for: aCartId andUserName: anUserName !
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/7/2021 17:16:57'!
initializeWith: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword   

	catalog _ aCatalog .
	cartId _ aCartId.
	userNameX _ anUserName.
	catalogSelectedIndex _ 0.
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !
!TusLibrosClientWindowModelAddToCart class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:16:57' prior: 50979318!
with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword  

	^ self new initializeWith: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword ! !

!methodRemoval: TusLibrosClientWindowModelAddToCart #initializeWith:for:andUserName: stamp: 'ja 7/7/2021 17:16:57'!
initializeWith: aCatalog for: aCartId andUserName: anUserName  

	catalog _ aCatalog .
	cartId _ aCartId.
	userNameX _ anUserName.
	catalogSelectedIndex _ 0.
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.!
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/7/2021 17:17:10' prior: 50979356!
initializeWith: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword   

	catalog _ aCatalog .
	cartId _ aCartId.
	userNameX _ anUserName.
	catalogSelectedIndex _ 0.
	
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:17:33'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN password'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/7/2021 17:17:31' prior: 50979392!
initializeWith: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword   

	catalog _ aCatalog .
	cartId _ aCartId.
	userNameX _ anUserName.
	catalogSelectedIndex _ 0.
	password _ aPassword .
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !
!TusLibrosClientWindowTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:18:19'!
for: aCartId withUserName: anUserName withPassword: aPassword andTicket: aTicket 

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId userName: anUserName andTicket: aTicket.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:18:19' prior: 50978958!
checkoutToCartActionButton

	| ticket |
	ticket _ interface sendRequestForCheckoutToCart: cartId for: userNameX.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	"purchases _  interface sendRequestForListPurchases: userName.
	self halt."
	TusLibrosClientWindowTicket for: cartId withUserName: userNameX withPassword: password andTicket: ticket.! !

!methodRemoval: TusLibrosClientWindowTicket class #for:withUserName:andTicket: stamp: 'ja 7/7/2021 17:18:19'!
for: aCartId withUserName: anUserName andTicket: aTicket 

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId userName: anUserName andTicket: aTicket.!
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:18:50'!
initializeWith: aTitle for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket 

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId userName: anUserName andTicket: aTicket).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:18:50' prior: 50979432!
for: aCartId withUserName: anUserName withPassword: aPassword andTicket: aTicket 

	^self new initializeWith: 'Tus Libros Client Window - Ticket' for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket.! !

!methodRemoval: TusLibrosClientWindowTicket #initializeWith:for:userName:andTicket: stamp: 'ja 7/7/2021 17:18:50'!
initializeWith: aTitle for: aCartId userName: anUserName andTicket: aTicket 

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId userName: anUserName andTicket: aTicket).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.!
!TusLibrosClientWindowModelTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:19:45'!
for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket 

	^ self new initializeFor: aCartId userName: anUserName andTicket: aTicket ! !
!TusLibrosClientWindowTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:19:45' prior: 50979467!
initializeWith: aTitle for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket 

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !

!methodRemoval: TusLibrosClientWindowModelTicket class #for:userName:andTicket: stamp: 'ja 7/7/2021 17:19:45'!
for: aCartId userName: anUserName andTicket: aTicket 

	^ self new initializeFor: aCartId userName: anUserName andTicket: aTicket !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:20:42'!
initializeFor: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket 

	cartId _ aCartId.
	interfaceX _ TusLibrosInterface new.
	ticket _ self list: aTicket.
	
	ticketSelectedIndex _ 0.! !
!TusLibrosClientWindowModelTicket class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:20:42' prior: 50979514!
for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket 

	^ self new initializeFor: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket ! !

!methodRemoval: TusLibrosClientWindowModelTicket #initializeFor:userName:andTicket: stamp: 'ja 7/7/2021 17:20:42'!
initializeFor: aCartId userName: anUserName andTicket: aTicket 

	cartId _ aCartId.
	interfaceX _ TusLibrosInterface new.
	ticket _ self list: aTicket.
	
	ticketSelectedIndex _ 0.!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:21:04'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId ticketSelectedIndex ticket password'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:21:06'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId ticketSelectedIndex ticket password user'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:21:03' prior: 50979550!
initializeFor: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket 

	cartId _ aCartId.
	interfaceX _ TusLibrosInterface new.
	ticket _ self list: aTicket.
	password _ aPassword.
	user _ anUserName.
	
	ticketSelectedIndex _ 0.! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:21:26' prior: 50979222!
continueShoppingActionButton

	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: user andPassword: password.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: password .! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:21:31' prior: 50979613!
continueShoppingActionButton

	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: user andPassword: password.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: user andPassword: password .! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:25:14'!
logOutActionButton

	TusLibrosClientWindow open. ! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:29:12'!
build1stColumn

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:29:12' prior: 50975504!
buid1stMainRow

	| mainRow | 
	
	mainRow := LayoutMorph newRow .
	mainRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self build1stColumn;
	addMorph: self build2ndRow.
	
	mainRow layoutSpec fixedWidth: 390.
		
	^mainRow.
	! !

!methodRemoval: TusLibrosClientWindowAddToCart #build1stRow stamp: 'ja 7/7/2021 17:29:12'!
build1stRow

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	!
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:29:25'!
build2ndColumn

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph checkoutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: removeToCartButtonMorph;
	addMorph: checkoutButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:29:25' prior: 50979715!
buid1stMainRow

	| mainRow | 
	
	mainRow := LayoutMorph newRow .
	mainRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: self build1stColumn;
	addMorph: self build2ndColumn.
	
	mainRow layoutSpec fixedWidth: 390.
		
	^mainRow.
	! !

!methodRemoval: TusLibrosClientWindowAddToCart #build2ndRow stamp: 'ja 7/7/2021 17:29:25'!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph checkoutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: removeToCartButtonMorph;
	addMorph: checkoutButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:31:36'!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow removeToCartButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Historial de compras'.	
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: removeToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:33:06' prior: 50979856!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow historyButtonMorph |
	
	historyButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Historial de compras'.	
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: historyButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:33:39' prior: 50975486 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buid1stMainRow;
	addMorph: self build2ndRow.
	"addMorph: self build1stRow;
	addMorph: self build2ndRow."! !
!TusLibrosClientWindowAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:33:56' prior: 50979876!
build2ndRow

	| firstColumnLayoutMorphOfSecondRow historyButtonMorph |
	
	historyButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #historyToCartActionButton label: 'Historial de compras'.	
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: historyButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'nil' stamp: 'ja 7/7/2021 17:34:07'!
historyToCartActionButton! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 17:35:44' prior: 50979443!
checkoutToCartActionButton

	| ticket |
	ticket _ interface sendRequestForCheckoutToCart: cartId for: userNameX.
	self halt.
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	
	TusLibrosClientWindowTicket for: cartId withUserName: userNameX withPassword: password andTicket: ticket.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:36:54' prior: 50979926!
historyToCartActionButton
	
	| purchases |
	
	purchases _  interface sendRequestForListPurchases: userNameX .
	! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:37:01' prior: 50979951!
historyToCartActionButton
	
	| purchases |
	
	purchases _  interface sendRequestForListPurchases: userNameX .
	
	! !

!classDefinition: #TusLibrosClientWindowPurchases category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:38:56'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowPurchases
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:38:39' prior: 50979959!
historyToCartActionButton
	
	| purchases |
	
	purchases _  interface sendRequestForListPurchases: userNameX .
	
	TusLibrosClientWindowPurchases new.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:40:27' prior: 50979975!
historyToCartActionButton
	
	| purchases |
	
	purchases _  interface sendRequestForListPurchases: userNameX .
	
	TusLibrosClientWindowPurchases withPurchases: purchases.! !
!TusLibrosClientWindowPurchases class methodsFor: 'no messages' stamp: 'ja 7/7/2021 17:41:16'!
withPurchases: aPurchases

	^ self new initializeWith: aPurchases ! !
!TusLibrosClientWindowPurchases methodsFor: 'no messages' stamp: 'ja 7/7/2021 17:41:30'!
initializeWith: aPurchases ! !
!TusLibrosClientWindowPurchases class methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:43:13' prior: 50979993!
withPurchases: aPurchases

	^ self new initializeWith: 'Tus Libros - Historial' withPurchases: aPurchases ! !

!methodRemoval: TusLibrosClientWindowPurchases #initializeWith: stamp: 'ja 7/7/2021 17:43:23'!
initializeWith: aPurchases !
!TusLibrosClientWindowPurchases methodsFor: 'no messages' stamp: 'ja 7/7/2021 17:43:35'!
initializeWith: aTitle withPurchases: aPurchases ! !

!classDefinition: #TusLibrosClientWindowModelPurchases category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:44:31'!
Object subclass: #TusLibrosClientWindowModelPurchases
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:44:23' prior: 50980014!
initializeWith: aTitle withPurchases: aPurchases 

self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelPurchases with: aPurchases).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowModelPurchases class methodsFor: 'no messages' stamp: 'ja 7/7/2021 17:45:13'!
with: aPurchases

	^ self new initializeWith: aPurchases! !

!classDefinition: #TusLibrosClientWindowModelPurchases category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:45:33'!
Object subclass: #TusLibrosClientWindowModelPurchases
	instanceVariableNames: 'purchases'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelPurchases methodsFor: 'no messages' stamp: 'ja 7/7/2021 17:45:31'!
initializeWith: aPurchases

	purchases _ aPurchases 	! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:46:12'!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow.! !

!methodRemoval: TusLibrosClientWindowModelPurchases #buildMorphicWindow stamp: 'ja 7/7/2021 17:46:26'!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow.!
!TusLibrosClientWindowPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:46:35' overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow.! !
!TusLibrosClientWindowPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:46:39'!
build1stRow! !
!TusLibrosClientWindowPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:47:52' prior: 50980085!
build1stRow

	| firstColumnLayoutMorphOfSecondRow ticketListMorph |
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #purchases indexGetter: #purchasesSelectedIndex indexSetter: #purchasesSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros');
	addMorph: ticketListMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.! !
!TusLibrosClientWindowPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:48:12' prior: 50980089!
build1stRow

	| firstColumnLayoutMorphOfSecondRow ticketListMorph |
	
	ticketListMorph := PluggableListMorph model: self model listGetter: #purchases indexGetter: #purchasesSelectedIndex indexSetter: #purchasesSelectedIndex.
	ticketListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Historial de compras');
	addMorph: ticketListMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.! !
!TusLibrosClientWindowPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:48:22' prior: 50980113!
build1stRow

	| firstColumnLayoutMorphOfSecondRow historyListMorph |
	
	historyListMorph := PluggableListMorph model: self model listGetter: #purchases indexGetter: #purchasesSelectedIndex indexSetter: #purchasesSelectedIndex.
	historyListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Historial de compras');
	addMorph: historyListMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:48:58'!
purchases
	 
	^ purchases ! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:49:11'!
purchasesSelectedIndex
	 
	 ! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:49:21'!
purchasesSelectedIndex: anIndex
	 
	 ! !

!classDefinition: #TusLibrosClientWindowModelPurchases category: 'TusLibros-Model' stamp: 'ja 7/7/2021 17:49:47'!
Object subclass: #TusLibrosClientWindowModelPurchases
	instanceVariableNames: 'purchases purchasesSelectedIndex'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:49:45' prior: 50980058!
initializeWith: aPurchases

	purchases _ aPurchases 	.
	purchasesSelectedIndex _ 0.! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:49:54' prior: 50980166!
purchasesSelectedIndex
	 
	 ^ purchasesSelectedIndex ! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:50:03' prior: 50980171!
purchasesSelectedIndex: anIndex
	 
	 purchasesSelectedIndex _ anIndex ! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelAddToCart methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:52:03' prior: 50979984!
historyToCartActionButton
	
	| purchases |
	
	purchases _  interface sendRequestForListPurchases: userNameX .
	self halt.
	TusLibrosClientWindowPurchases withPurchases: purchases.! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 17:52:09' prior: 50977202!
sendRequestForListPurchases: anUserName

	| resp fieldDict |
	
	fieldDict _ Dictionary new
	 	at: 'clientId' put: anUserName;
		yourself.
	
	resp:= WebClient htmlSubmit: (self url,'/listPurchases') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 17:56:51' prior: 50965768!
listPurchasesOf: aUser authenticatingWith: aPassword

	^self if: aUser authenticatesWith: aPassword do: [ | sales items total |
		sales := self salesDoneBy: aUser.
		sales 
			inject: Dictionary new
			into: [ :salesOrderedByBook :aSale |
				self list: aSale on: salesOrderedByBook.
				salesOrderedByBook ] ]! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 17:57:41' prior: 50980240!
listPurchasesOf: aUser authenticatingWith: aPassword

	^self if: aUser authenticatesWith: aPassword do: [ | sales items total |
		 sales := self salesDoneBy: aUser.
	        items := sales
	            inject: Dictionary new
	            into: [ :quantitiesByItem :aSale | 
	                self list: aSale on: quantitiesByItem.
	                quantitiesByItem ].
	        total := sales sum: [ :aSale | aSale total ] ifEmpty: [ 0 ].
	        Array with: items with: total  ]! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 17:58:11' prior: 50980253!
listPurchasesOf: aUser authenticatingWith: aPassword

	^self if: aUser authenticatesWith: aPassword do: [ | sales items total |
		 sales := self salesDoneBy: aUser.
	        items := sales
	            inject: Dictionary new
	            into: [ :salesOrderedByBook :aSale | 
	                self list: aSale on: salesOrderedByBook.
	                salesOrderedByBook ].
	        total := sales sum: [ :aSale | aSale total ] ifEmpty: [ 0 ].
	        Array with: items with: total  ]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 17:59:17'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 17:59:17'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 17:59:17'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 17:59:17'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 17:59:17'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 17:59:17'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 17:59:17'!
PASSED!
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 17:59:59' prior: 50980272!
listPurchasesOf: aUser authenticatingWith: aPassword

	^self if: aUser authenticatesWith: aPassword do: [ | sales items total |
		 sales := self salesDoneBy: aUser.
	        items := sales
	            inject: Dictionary new
	            into: [ :salesOrderedByBook :aSale | 
	                self list: aSale on: salesOrderedByBook.
	                salesOrderedByBook ].
	        total := sales sum: [ :aSale | aSale total ] ifEmpty: [ 0 ].
	        sales at: 'Total' put: total  ]! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 18:00:11' prior: 50980419!
listPurchasesOf: aUser authenticatingWith: aPassword

	^self if: aUser authenticatesWith: aPassword do: [ | sales items total |
		 sales := self salesDoneBy: aUser.
	        items := sales
	            inject: Dictionary new
	            into: [ :salesOrderedByBook :aSale | 
	                self list: aSale on: salesOrderedByBook.
	                salesOrderedByBook ].
	        total := sales sum: [ :aSale | aSale total ] ifEmpty: [ 0 ].
	        items at: 'Total' put: total  ]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 18:00:16'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:00:16'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 18:00:16'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 18:00:16'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:00:16'!
ERROR!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 18:00:16'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 18:00:16'!
PASSED!
!TusLibrosSystemFacadeTest methodsFor: 'tests - checkout' stamp: 'ja 7/7/2021 18:00:49' prior: 50966370!
test10CanCheckoutACart

	| cartId purchases |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.
	systemFacade
		checkOutCartIdentifiedAs: cartId
		withCreditCardNumbered: testObjectsFactory notExpiredCreditCardNumber
		ownedBy: testObjectsFactory notExpiredCreditCardOwner
		expiringOn: testObjectsFactory notExpiredMonthOfYear.

	purchases := systemFacade listPurchasesOf: self validUser authenticatingWith: self validUserPassword.
	self halt
	self assert: (purchases at: self validBook) equals: testObjectsFactory itemSellByTheStorePrice.
! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - checkout' stamp: 'ja 7/7/2021 18:00:52' prior: 50980585!
test10CanCheckoutACart

	| cartId purchases |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.
	systemFacade
		checkOutCartIdentifiedAs: cartId
		withCreditCardNumbered: testObjectsFactory notExpiredCreditCardNumber
		ownedBy: testObjectsFactory notExpiredCreditCardOwner
		expiringOn: testObjectsFactory notExpiredMonthOfYear.

	purchases := systemFacade listPurchasesOf: self validUser authenticatingWith: self validUserPassword.
	self halt.
	self assert: (purchases at: self validBook) equals: testObjectsFactory itemSellByTheStorePrice.
! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 18:02:47' prior: 50980438!
listPurchasesOf: aUser authenticatingWith: aPassword

	^self if: aUser authenticatesWith: aPassword do: [ | sales items total |
		 sales := self salesDoneBy: aUser.
	        items := sales
	            inject: Dictionary new
	            into: [ :salesOrderedByBook :aSale | 
	                self list: aSale on: salesOrderedByBook.
	                salesOrderedByBook ].
	        total := sales sum: [ :aSale | aSale total ] ifEmpty: [ 0 ].
	        items at: 'Total' put: total.
	items ]! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 18:02:53' prior: 50980633!
listPurchasesOf: aUser authenticatingWith: aPassword

	^self if: aUser authenticatesWith: aPassword do: [ | sales items total |
		 sales := self salesDoneBy: aUser.
	        items := sales
	            inject: Dictionary new
	            into: [ :salesOrderedByBook :aSale | 
	                self list: aSale on: salesOrderedByBook.
	                salesOrderedByBook ].
	        total := sales sum: [ :aSale | aSale total ] ifEmpty: [ 0 ].
	        items at: 'Total' put: total.
		items ]! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - checkout' stamp: 'ja 7/7/2021 18:03:26' prior: 50980609!
test10CanCheckoutACart

	| cartId purchases |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.
	systemFacade
		checkOutCartIdentifiedAs: cartId
		withCreditCardNumbered: testObjectsFactory notExpiredCreditCardNumber
		ownedBy: testObjectsFactory notExpiredCreditCardOwner
		expiringOn: testObjectsFactory notExpiredMonthOfYear.

	purchases := systemFacade listPurchasesOf: self validUser authenticatingWith: self validUserPassword.
	
	self assert: (purchases at: self validBook) equals: testObjectsFactory itemSellByTheStorePrice.
! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:03:31'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 18:03:31'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:03:31'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 18:03:31'!
PASSED!
!TusLibrosSystemFacadeTest methodsFor: 'tests - checkout' stamp: 'ja 7/7/2021 18:05:10' prior: 50966412!
test12CanNotCheckoutAnEmptyCart

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	self
		should: [systemFacade
			checkOutCartIdentifiedAs: cartId
			withCreditCardNumbered: testObjectsFactory notExpiredCreditCardNumber
			ownedBy: testObjectsFactory notExpiredCreditCardOwner
			expiringOn: testObjectsFactory notExpiredMonthOfYear ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade cartCanNotBeEmptyErrorMessage.
			self assert: ((systemFacade listPurchasesOf: self validUser authenticatingWith: self validUserPassword) at: 'Total') = 0 ]

		! !

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:05:14'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 18:05:20'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:20'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 18:05:20'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 18:05:20'!
PASSED!
!TusLibrosSystemFacadeTest methodsFor: 'tests - checkout' stamp: 'ja 7/7/2021 18:05:29' prior: 50966437!
test13CanNotCheckoutWithAnExpiredCreditCard

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.
	self
		should: [systemFacade
			checkOutCartIdentifiedAs: cartId
			withCreditCardNumbered: testObjectsFactory notExpiredCreditCardNumber
			ownedBy: testObjectsFactory notExpiredCreditCardOwner
			expiringOn: testObjectsFactory expiredMonthOfYear ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade canNotChargeAnExpiredCreditCardErrorMessage.
			self assert:((systemFacade listPurchasesOf: self validUser authenticatingWith: self validUserPassword) at: 'Total') = 0 ]

		! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - checkout' stamp: 'ja 7/7/2021 18:05:35' prior: 50966464!
test19CanNotCheckOutCartWhenSessionIsExpired

	| cartId |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 2 of: self validBook toCartIdentifiedAs: cartId.
	self advanceTime: (systemFacade sessionDuration + 1 minutes) .
	self should: [
		systemFacade
			checkOutCartIdentifiedAs: cartId
			withCreditCardNumbered: testObjectsFactory notExpiredCreditCardNumber
			ownedBy: testObjectsFactory notExpiredCreditCardOwner
			expiringOn: testObjectsFactory notExpiredMonthOfYear ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: systemFacade sessionHasExpiredErrorDescription.
			self assert: ((systemFacade listPurchasesOf: self validUser authenticatingWith: self validUserPassword) at: 'Total') = 0 ]


	! !

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:36'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 18:05:41'!
PASSED!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelAddToCart methodsFor: 'catalog' stamp: 'ja 7/7/2021 18:07:25' prior: 50975228!
catalog

	"la idea es que esto devuelva algo asi  como 123 olivertwist 455 colmilloblanco "
	
	| catalogList |
	
	catalogList _ OrderedCollection new.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: 
		[:anISBN :aNameBook | catalogList add: anISBN,' ',aNameBook. 
							catalogListISBN add: anISBN].
	
	
	^catalogList! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:09:34' prior: 50980186!
initializeWith: aPurchases

	purchases _ self list: aPurchases 	.
	purchasesSelectedIndex _ 0.! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:09:42'!
list: aPurchases 	

	! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:10:16' prior: 50981229!
list: aPurchases 	

	| ticketToShow |
	
	ticketToShow _ OrderedCollection new.
	
	aPurchases keysAndValuesDo: [:anItem :aPrice | ticketToShow add: anItem,' ',aPrice].
	
	^ ticketToShow 
	! !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:10:26' prior: 50981234!
list: aPurchases 	

	| purchasesToShow |
	
	purchasesToShow _ OrderedCollection new.
	
	aPurchases keysAndValuesDo: [:anItem :aPrice | purchasesToShow add: anItem,' ',aPrice].
	
	^ purchasesToShow 
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:11:45' prior: 50980137!
build1stRow

	| firstColumnLayoutMorphOfSecondRow historyListMorph |
	
	historyListMorph := PluggableListMorph model: self model listGetter: #purchases indexGetter: #purchasesSelectedIndex indexSetter: #purchasesSelectedIndex:.
	historyListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Historial de compras');
	addMorph: historyListMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!LineItem methodsFor: 'accessing' stamp: 'ja 7/7/2021 18:26:12'!
quantity

	^ quantity! !
!TusLibrosSystemFacade methodsFor: 'private' stamp: 'ja 7/7/2021 18:27:09' prior: 50965790!
list: aSale on: salesOrderedByBook

	"Esto es un indicio de que por ahi conviene empezar a pensar en modelar un SaleBook - Hernan"
	aSale lineItemsDo: [ :aLineItem | | oldQuantity newQuantity |
		oldQuantity := salesOrderedByBook at: aLineItem item ifAbsentPut: [ 0 ].
		newQuantity := oldQuantity + aLineItem quantity.
		salesOrderedByBook at: aLineItem item put: newQuantity ]! !
!TusLibrosSystemFacade methodsFor: 'private' stamp: 'ja 7/7/2021 18:27:21' prior: 50981290!
list: aSale on: quantityOrderedByBook

	"Esto es un indicio de que por ahi conviene empezar a pensar en modelar un SaleBook - Hernan"
	aSale lineItemsDo: [ :aLineItem | | oldQuantity newQuantity |
		oldQuantity := quantityOrderedByBook at: aLineItem item ifAbsentPut: [ 0 ].
		newQuantity := oldQuantity + aLineItem quantity.
		quantityOrderedByBook at: aLineItem item put: newQuantity ]! !
!TusLibrosSystemFacade methodsFor: 'private' stamp: 'ja 7/7/2021 18:27:37' prior: 50981305!
list: aSale on: quantityByBook

	"Esto es un indicio de que por ahi conviene empezar a pensar en modelar un SaleBook - Hernan"
	aSale lineItemsDo: [ :aLineItem | | oldQuantity newQuantity |
		oldQuantity := quantityByBook at: aLineItem item ifAbsentPut: [ 0 ].
		newQuantity := oldQuantity + aLineItem quantity.
		quantityByBook at: aLineItem item put: newQuantity ]! !
!TusLibrosSystemFacade methodsFor: 'facade protocol' stamp: 'ja 7/7/2021 18:28:01' prior: 50980652!
listPurchasesOf: aUser authenticatingWith: aPassword

	^self if: aUser authenticatesWith: aPassword do: [ | sales items total |
		 sales := self salesDoneBy: aUser.
	        items := sales
	            inject: Dictionary new
	            into: [ :quantityByBook :aSale | 
	                self list: aSale on: quantityByBook.
	                quantityByBook ].
	        total := sales sum: [ :aSale | aSale total ] ifEmpty: [ 0 ].
	        items at: 'Total' put: total.
		items ]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 18:28:05'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 18:28:05'!
FAILURE!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 18:28:05'!
PASSED!
!TusLibrosSystemFacadeTest methodsFor: 'tests - checkout' stamp: 'ja 7/7/2021 18:28:21' prior: 50980671!
test10CanCheckoutACart

	| cartId purchases |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 1 of: self validBook toCartIdentifiedAs: cartId.
	systemFacade
		checkOutCartIdentifiedAs: cartId
		withCreditCardNumbered: testObjectsFactory notExpiredCreditCardNumber
		ownedBy: testObjectsFactory notExpiredCreditCardOwner
		expiringOn: testObjectsFactory notExpiredMonthOfYear.

	purchases := systemFacade listPurchasesOf: self validUser authenticatingWith: self validUserPassword.
	
	self assert: (purchases at: self validBook) equals: 1.
! !
!TusLibrosSystemFacadeTest methodsFor: 'tests - list purchases' stamp: 'ja 7/7/2021 18:28:34' prior: 50966198!
test14ListPurchasesIncludesBoughtItems

	| cartId purchases |

	cartId := systemFacade createCartFor: self validUser authenticatedWith: self validUserPassword.
	systemFacade add: 2 of: self validBook toCartIdentifiedAs: cartId.
	systemFacade add: 1 of: self anotherValidBook toCartIdentifiedAs: cartId.
	systemFacade
		checkOutCartIdentifiedAs: cartId
		withCreditCardNumbered: '1111222233334444'
		ownedBy: 'Juan Perez'
		expiringOn: testObjectsFactory notExpiredMonthOfYear.

	purchases := systemFacade listPurchasesOf: self validUser authenticatingWith: self validUserPassword.

	self assert: (purchases at: self validBook) equals: 2.
	self assert: (purchases at: self anotherValidBook) equals: 1.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 18:28:36'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 18:28:37'!
PASSED!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelPurchases methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:30:41' prior: 50981244!
list: aPurchases 	

	| purchasesToShow |
	
	purchasesToShow _ OrderedCollection new.
	
	aPurchases keysAndValuesDo: [:anItem :aPrice | purchasesToShow add: anItem,' ',aPrice].
	
	^ purchasesToShow reverse
	! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:30:51' prior: 50978549!
list: aTicket

	| ticketToShow |
	
	ticketToShow _ OrderedCollection new.
	
	aTicket keysAndValuesDo: [:anItem :aPrice | ticketToShow add: anItem,' ',aPrice].
	
	^ ticketToShow reverse
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !

resp content!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:31:57' prior: 50975514!
sendRequestForCreateCartWithUser: aUser andPassword: aPass
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	self halt.
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !

resp isSuccess!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:32:35' prior: 50981691!
sendRequestForCreateCartWithUser: aUser andPassword: aPass
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:35:08' prior: 50970354!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
		
	aRequest send200Response: (WebUtils jsonEncode: cartId) ]
	on: Error
	do: [:anError | 
		aRequest send400Response: anError messageText ]
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:36:16' prior: 50981724!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
		
	aRequest send200Response: (WebUtils jsonEncode: cartId) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: anError messageText ]
	! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:36:49' prior: 50981748!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
		
	aRequest send200Response: (WebUtils jsonEncode: cartId) ]
	on: Error
	do: [:anError | 
		aRequest send200Response: (WebUtils jsonEncode: anError messageText)]
	! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:37:56' prior: 50979249!
createCartRequest
	
	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	self halt.
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open. !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:40:34' prior: 50981787!
createCartRequest
	
	| catalog |
	cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:41:11' prior: 50981767!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
		
	aRequest send200Response: (WebUtils jsonEncode: cartId) ]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]
	! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:42:09' prior: 50981810!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | 
		self halt.].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

self messageText.!

self errorMessage .!

self errorMessage .!

self request .!

self messageText.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:54:34'!
messageTextError: aMessageText

	| first last |
	
	first _ 86.
	last _ aMessageText reverse indexOf: $" ifAbsent: [0].
	
	^ aMessageText copyFrom: first to: last ! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:55:26' prior: 50981875!
messageTextError: aMessageText

	| first last xxx |
	
	first _ 86.
	last _ aMessageText reverse indexOf: $" ifAbsent: [0].
	
	xxx _ aMessageText copyFrom: first to: last .
	
	^ xxx! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:55:36' prior: 50981884!
messageTextError: aMessageText

	| first last xxx |
	
	first _ 86.
	self halt.
	last _ aMessageText reverse indexOf: $" ifAbsent: [0].
	
	xxx _ aMessageText copyFrom: first to: last .
	
	^ xxx! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:56:06' prior: 50981849!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | 
		interfaceX messageTextError: anError messageText].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:58:44' prior: 50981893!
messageTextError: aMessageText

	| first last xxx |
	
	first _ 86.
	
	last _ aMessageText size - 19.
	self halt.
	xxx _ aMessageText copyFrom: first to: last .
	
	^ xxx! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 18:59:40' prior: 50981928!
messageTextError: aMessageText

	| first last xxx |
	
	first _ 87.
	
	last _ aMessageText size - 19.
	self halt.
	xxx _ aMessageText copyFrom: first to: last .
	
	^ xxx! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:00:35' prior: 50981942!
messageTextError: aMessageText

	| first last |
	first _ 87.
	last _ aMessageText size - 19.
	^ aMessageText copyFrom: first to: last .
	! !
!TusLibrosInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:01:03' prior: 50981951!
messageTextError: aMessageText

	^ aMessageText copyFrom: 87 to: (aMessageText size - 19) .
	! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:02:56' prior: 50981903!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		TusLibrosClientWindowModel openWith: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

!classDefinition: #TusLibrosClientWindowModelError category: 'TusLibros-Model' stamp: 'ja 7/7/2021 19:03:37'!
Panel subclass: #TusLibrosClientWindowModelError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:03:23' prior: 50981966!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		TusLibrosClientWindowModelError openWith: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

Panel subclass: #TusLibrosClientWindowError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowError category: 'TusLibros-Model' stamp: 'ja 7/7/2021 19:04:36'!
Panel subclass: #TusLibrosClientWindowError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

Object subclass: #TusLibrosClientWindowModelError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelError category: 'TusLibros-Model' stamp: 'ja 7/7/2021 19:04:45'!
Object subclass: #TusLibrosClientWindowModelError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:05:02' prior: 50981997!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		TusLibrosClientWindowError openWith: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !
!TusLibrosClientWindowError class methodsFor: 'no messages' stamp: 'ja 7/7/2021 19:06:00'!
openWith: aMessage

	^ self new intializeWith: 'Ocurrio un error inesparado' withMessage: aMessage! !
!TusLibrosClientWindowError methodsFor: 'no messages' stamp: 'ja 7/7/2021 19:06:25'!
 intializeWith: aTitle withMessage: aMessage! !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:07:02' prior: 50982073!
intializeWith: aTitle withMessage: aMessage

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelError withMessage: aMessage).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.! !
!TusLibrosClientWindowModelError class methodsFor: 'no messages' stamp: 'ja 7/7/2021 19:07:39'!
withMessage: aMessage

	^ self new initializeWithMessage: aMessage ! !

!classDefinition: #TusLibrosClientWindowModelError category: 'TusLibros-Model' stamp: 'ja 7/7/2021 19:08:03'!
Object subclass: #TusLibrosClientWindowModelError
	instanceVariableNames: 'errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelError methodsFor: 'no messages' stamp: 'ja 7/7/2021 19:08:00'!
initializeWithMessage: aMessage 

	errorMessage _ aMessage ! !
!TusLibrosClientWindowModelError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:08:30'!
errorMessage
	
	^ errorMessage ! !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:08:58' overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self build1stRow.! !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:09:05'!
build1stRow.! !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:09:48' prior: 50982123!
build1stRow

	| firstColumnLayoutMorphOfSecondRow |
	
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Ticket Tus Libros').
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:10:12' prior: 50982127!
build1stRow

	| firstColumnLayoutMorphOfSecondRow |
	
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents: '').
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !

TextModelMorph subclass: #TusLibrosClientWindowError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowError category: 'TusLibros-Model' stamp: 'ja 7/7/2021 19:13:18'!
TextModelMorph subclass: #TusLibrosClientWindowError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:13:52' prior: 50982045!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		TusLibrosClientWindowError withText: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:14:58' prior: 50982170!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		self halt.
		TusLibrosClientWindowError withText: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:16:11' prior: 50982199!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		self halt.
		^TusLibrosClientWindowError withText: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

Panel subclass: #TusLibrosClientWindowError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowError category: 'TusLibros-Model' stamp: 'ja 7/7/2021 19:17:11'!
Panel subclass: #TusLibrosClientWindowError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:17:29' prior: 50982225!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		self halt.
		^TusLibrosClientWindowError openWith: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:19:51' prior: 50982142!
build1stRow

	| firstColumnLayoutMorphOfSecondRow continueShoppingButtonMorph |
	
	continueShoppingButtonMorph := TextModelMorph withText: 'Realizar otra compra'.	
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Error:');
	addMorph: continueShoppingButtonMorph.
	
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:21:06' prior: 50982288!
build1stRow

	| firstColumnLayoutMorphOfSecondRow continueShoppingButtonMorph |
	
	continueShoppingButtonMorph := TextModelMorph withText: self model errorMessage.	
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Error:');
	addMorph: continueShoppingButtonMorph.
	
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	
	! !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:21:28' overrides: 50959810!
defaultExtent

	^ 500@200! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:23:28' prior: 50982332 overrides: 50959810!
defaultExtent

	^ 1000@100! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:23:41' prior: 50982265!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userNameX andPassword: passwordX]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		^TusLibrosClientWindowError openWith: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userNameX andPassword: passwordX .
	
	! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:25:34' prior: 50981829!
createCart: aRequest

	| clientId password cartId |
	
	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ requestFields at: 'password' ]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[cartId _ facade createCartFor: clientId  authenticatedWith: password.
	aRequest send200Response: (WebUtils jsonEncode: cartId) ]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]
	! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:26:02' prior: 50978153!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	"estos datos debe de conocerlos el servidor para facilitar las operaciones para esto hardcodeo un dicc con los datos"
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total asString].
	ticketDicc at: 'Total' put: ticket total asString.
	
	aRequest send200Response: (WebUtils jsonEncode: ticketDicc)]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:26:12' prior: 50972723!
addToCart: aRequest

	| cartId isbn quantity |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	isbn _ requestFields at: 'isbn' .
	quantity _ (requestFields at: 'quantity') asNumber .] 
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade add: quantity of: isbn toCartIdentifiedAs: cartId.
	aRequest send200Response: (WebUtils jsonEncode: 'OK') ]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:26:20' prior: 50972986!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | isbnByAmount |
		
	response _ facade listCartIdentifiedAs: cartId .
	isbnByAmount _ Dictionary new.
	response do:[:anItem | isbnByAmount at: anItem put: ((isbnByAmount at: anItem ifAbsent:[0]) + 1)].
	aRequest send200Response: (WebUtils jsonEncode: isbnByAmount)]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:26:25' prior: 50977305!
listPurchases: aRequest

	| clientId password response|

	[ | requestFields | 
	requestFields _ aRequest fields.
	clientId _ requestFields at: 'clientId'.
	password _ self class validUsersAndPasswords at: clientId]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
	
	
	[response _ facade listPurchasesOf: clientId authenticatingWith: password.
	response keysAndValuesDo:[:book :price | response at: book put: price asString ].
	aRequest send200Response: (WebUtils jsonEncode: response) ]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]! !
!TusLibrosRestInterface methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 19:26:32' prior: 50974322!
removeToCart: aRequest

	| cartId isbn |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	isbn _ requestFields at: 'isbn' .] 
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[facade remove: isbn toCartIdentifiedAs: cartId.
	aRequest send200Response: (WebUtils jsonEncode: 'OK') ]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText) ]! !

!methodRemoval: TusLibrosRestInterface #sendRequest:and: stamp: 'ja 7/7/2021 19:26:38'!
sendRequest: aUser and: aPass
	
"	| fieldDict resp  |

	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPass.
	
	resp:= WebClient htmlSubmit: ('https://localhost:8082/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream)) asOrderedCollection .] 
		ifFalse:[^self error: resp content]."!
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 19:28:07' prior: 50979937!
checkoutToCartActionButton

	| ticket |
	[ticket _ interface sendRequestForCheckoutToCart: cartId for: userNameX]
	on: Error
	do:[:anError | | message | 
		message _ interface messageTextError: anError messageText.
		^TusLibrosClientWindowError openWith: message].
	
		
	"al hacer checkout se debe levantar una pantalla con el ticket"
	
	TusLibrosClientWindowTicket for: cartId withUserName: userNameX withPassword: password andTicket: ticket.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 19:28:16' prior: 50982533!
checkoutToCartActionButton

	| ticket |
	[ticket _ interface sendRequestForCheckoutToCart: cartId for: userNameX]
	on: Error
	do:[:anError | | message | 
		message _ interface messageTextError: anError messageText.
		^TusLibrosClientWindowError openWith: message].
	
		
	TusLibrosClientWindowTicket for: cartId withUserName: userNameX withPassword: password andTicket: ticket.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 19:32:36' prior: 50982551!
checkoutToCartActionButton

	| ticket |
	[ticket _ interface sendRequestForCheckoutToCart: cartId for: userNameX]
	on: Error
	do:[:anError | | message | 
		message _ interface messageTextError: anError messageText.
		^TusLibrosClientWindowError openWith: message].
	
	TusLibrosClientWindowTicket for: cartId withUserName: userNameX withPassword: password andTicket: ticket.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 19:34:26'!
PASSED!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

----QUIT----(7 July 2021 19:56:04) CuisUniversity-4532.image priorSource: 20665947!

----STARTUP---- (7 July 2021 19:56:17) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


----SNAPSHOT----(7 July 2021 19:56:26) CuisUniversity-4532.image priorSource: 20834213!

----QUIT----(7 July 2021 19:56:29) CuisUniversity-4532.image priorSource: 20834408!

----STARTUP---- (7 July 2021 21:37:06) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!


TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'cartId userName password'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelCreate category: 'TusLibros-Model' stamp: 'ja 7/7/2021 21:40:47'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'cartId userName password'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:41:04' prior: 50982349!
createCartRequest
	
	| catalog |
	
	[cartId _ interfaceX sendRequestForCreateCartWithUser: userName andPassword: password]
	on: Error
	do:[:anError | | message | 
		message _ interfaceX messageTextError: anError messageText.
		^TusLibrosClientWindowError openWith: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interfaceX sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userName andPassword: password.
	
	! !

!classDefinition: #TusLibrosClientWindowModelCreate category: 'TusLibros-Model' stamp: 'ja 7/7/2021 21:41:30'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'cartId userName password interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:41:28' prior: 50979055 overrides: 16896425!
initialize 

	userName _ ''.
	password _ ''.
	interface _ TusLibrosInterface new.
! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:41:39' prior: 50978932!
userNameText: aSentence
	
	userName := aSentence.
	^true.! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:41:44' prior: 50978927!
userNameText
	
	^userName.! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:41:49' prior: 50978921!
passwordText: aSentence
	
	password := aSentence.
	^true.! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:41:55' prior: 50978916!
passwordText
	
	^password.! !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:42:14' prior: 50982752!
createCartRequest
	
	| catalog |
	
	[cartId _ interface sendRequestForCreateCartWithUser: userName andPassword: password]
	on: Error
	do:[:anError | | message | 
		message _ interface messageTextError: anError messageText.
		^TusLibrosClientWindowError openWith: message].
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userName andPassword: password.
	
	! !

Object subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'cartId userName password interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelCreate category: 'TusLibros-Model' stamp: 'ja 7/7/2021 21:42:33'!
Object subclass: #TusLibrosClientWindowModelCreate
	instanceVariableNames: 'cartId userName password interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 21:43:37'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId ticketSelectedIndex ticket password user interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:43:36' prior: 50979601!
initializeFor: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket 

	cartId _ aCartId.
	interface _ TusLibrosInterface new.
	ticket _ self list: aTicket.
	password _ aPassword.
	user _ anUserName.
	
	ticketSelectedIndex _ 0.! !
!TusLibrosClientWindowModelTicket methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 21:43:51' prior: 50979631!
continueShoppingActionButton

	| catalog |
	cartId _ interface sendRequestForCreateCartWithUser: user andPassword: password.
	
	"desde este metodo si todo funcioana bien se llama al add to cart window"
	"addToCartWindow tiene que mostrar el catalogo y un boton de agregar al carrito."
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: user andPassword: password .! !

Object subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId ticketSelectedIndex ticket password user interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelTicket category: 'TusLibros-Model' stamp: 'ja 7/7/2021 21:44:21'!
Object subclass: #TusLibrosClientWindowModelTicket
	instanceVariableNames: 'cartId ticketSelectedIndex ticket password user interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/7/2021 21:45:01'!
TusLibrosClientWindowModel subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN password userName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowModelAddToCart methodsFor: 'initialization' stamp: 'ja 7/7/2021 21:44:58' prior: 50979418!
initializeWith: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword   

	catalog _ aCatalog .
	cartId _ aCartId.
	userName _ anUserName.
	catalogSelectedIndex _ 0.
	password _ aPassword .
	
	cart _ OrderedCollection new.
	cartSelectedIndex _ 0.
	
	quantity _ ''.
	
	interface _ TusLibrosInterface new.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'history' stamp: 'ja 7/7/2021 21:46:17' prior: 50980210!
historyToCartActionButton
	
	| purchases |
	
	purchases _  interface sendRequestForListPurchases: userName .
	self halt.
	TusLibrosClientWindowPurchases withPurchases: purchases.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'check out' stamp: 'ja 7/7/2021 21:46:39' prior: 50982575!
checkoutToCartActionButton

	| ticket |
	[ticket _ interface sendRequestForCheckoutToCart: cartId for: userName]
	on: Error
	do:[:anError | | message | 
		message _ interface messageTextError: anError messageText.
		^TusLibrosClientWindowError openWith: message].
	
	TusLibrosClientWindowTicket for: cartId withUserName: userName withPassword: password andTicket: ticket.! !

Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN password userName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowModelAddToCart category: 'TusLibros-Model' stamp: 'ja 7/7/2021 21:47:40'!
Object subclass: #TusLibrosClientWindowModelAddToCart
	instanceVariableNames: 'catalog cartId catalogSelectedIndex cart cartSelectedIndex quantity interface catalogListISBN password userName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classRemoval: #TusLibrosClientWindowModel stamp: 'ja 7/7/2021 21:47:54'!
Object subclass: #TusLibrosClientWindowModel
	instanceVariableNames: 'userNameX passwordX interfaceX'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 21:51:13'!
PASSED!

!methodRemoval: TusLibrosRestInterface #initializeWith: stamp: 'ja 7/7/2021 21:55:54'!
initializeWith: aFacade

	facade _ aFacade !
!TusLibrosRestInterface methodsFor: 'endpoints' stamp: 'ja 7/7/2021 22:00:46' prior: 50982391!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketDicc |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	
	ticketDicc _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketDicc at: anItem item put: anItem total asString].
	ticketDicc at: 'Total' put: ticket total asString.
	
	aRequest send200Response: (WebUtils jsonEncode: ticketDicc)]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]! !
!TusLibrosRestInterface methodsFor: 'endpoints' stamp: 'ja 7/7/2021 22:02:38' prior: 50983129!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketToEncode |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	
	ticketToEncode _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketToEncode at: anItem item put: anItem total asString].
	ticketToEncode at: 'Total' put: ticket total asString.
	
	aRequest send200Response: (WebUtils jsonEncode: ticketToEncode)]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]! !
!TusLibrosRestInterface methodsFor: 'endpoints' stamp: 'ja 7/7/2021 22:04:21' prior: 50983166!
checkoutCart: aRequest

	| cartId userName creditCartNumber creditCardExpirationMonthOfYear creditCardOwner |

	[ | requestFields creditCard | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber.
	userName _ requestFields at: 'userName'.
	creditCard _ self class validUsersAndCreditCards at: userName.
	creditCartNumber _ creditCard number.
       creditCardExpirationMonthOfYear := creditCard expiration.
	creditCardOwner _ userName]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | ticket  ticketToEncode |
	
	ticket _ facade checkOutCartIdentifiedAs: cartId 
		withCreditCardNumbered: creditCartNumber 
		ownedBy: creditCardOwner 
		expiringOn: creditCardExpirationMonthOfYear.
	
	ticketToEncode _ self toEnconde: ticket.
	
	aRequest send200Response: (WebUtils jsonEncode: ticketToEncode)]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]! !
!TusLibrosRestInterface methodsFor: 'endpoints' stamp: 'ja 7/7/2021 22:04:48'!
toEnconde: ticket| ticketToEncode |
.
	
	ticketToEncode _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketToEncode at: anItem item put: anItem total asString].
	ticketToEncode at: 'Total' put: ticket total asString.! !
!TusLibrosRestInterface methodsFor: 'endpoints' stamp: 'ja 7/7/2021 22:05:06' prior: 50983237!
toEnconde: ticket

	| ticketToEncode |
	
	ticketToEncode _ Dictionary new.
	ticket lineItemsDo:[:anItem | ticketToEncode at: anItem item put: anItem total asString].
	ticketToEncode at: 'Total' put: ticket total asString.
	
	^ ticketToEncode ! !
!TusLibrosRestInterface methodsFor: 'endpoints' stamp: 'ja 7/7/2021 22:05:12' prior: 50983247!
toEnconde: aTicket

	| ticketToEncode |
	
	ticketToEncode _ Dictionary new.
	aTicket lineItemsDo:[:anItem | ticketToEncode at: anItem item put: anItem total asString].
	ticketToEncode at: 'Total' put: aTicket total asString.
	
	^ ticketToEncode ! !
!TusLibrosRestInterface methodsFor: 'endpoints' stamp: 'ja 7/7/2021 22:08:17' prior: 50982453!
listCart: aRequest

	| cartId response |

	[ | requestFields | 
	requestFields _ aRequest fields.
	cartId _ (requestFields at: 'cartId') asNumber]
	on: Error 
	do: [ :anError |
		aRequest send400Response: anError messageText ].
		
	[ | itemByAmount |
		
	response _ facade listCartIdentifiedAs: cartId .
	itemByAmount _ Dictionary new.
	response do:[:anItem | itemByAmount at: anItem put: ((itemByAmount at: anItem ifAbsent:[0]) + 1)].
	aRequest send200Response: (WebUtils jsonEncode: itemByAmount)]
	on: Error
	do: [:anError | 
		aRequest send400Response: (WebUtils jsonEncode: anError messageText)]! !
!TusLibrosInterface methodsFor: 'available services' stamp: 'ja 7/7/2021 22:12:28' prior: 50981708!
sendRequestForCreateCartWithUser: aUser andPassword: aPassword
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. aUser} .		
	fieldDict at: 'password' put: aPassword.
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'available services' stamp: 'ja 7/7/2021 22:12:35' prior: 50983291!
sendRequestForCreateCartWithUser: anUser andPassword: aPassword
	
	| fieldDict resp  |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. anUser} .		
	fieldDict at: 'password' put: aPassword.
	
	resp:= WebClient htmlSubmit: (self url,'/createCart') fields: fieldDict.
	
	resp isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((resp content) readStream))] 
		ifFalse:[^self error: resp content].! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:21:17'!
sendRequesFor: anEndpoint with: fields 
	
	| response |
	response _ WebClient htmlSubmit: (self url,anEndpoint) fields: fields .
	
	response isSuccess 
		ifTrue:[^(WebUtils jsonDecode: ((response content) readStream))] 
		ifFalse:[^self error: response content].! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:22:31' prior: 50983307!
sendRequestForCreateCartWithUser: anUser andPassword: aPassword
	
	| fieldDict |
	
	fieldDict := Dictionary newFromPairs: {'clientId'. anUser} .		
	fieldDict at: 'password' put: aPassword.
	
	^ self sendRequesFor: '/createCart' with: fieldDict.! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:22:52' prior: 50983334!
sendRequestForCreateCartWithUser: anUser andPassword: aPassword
	
	| fields |
	
	fields := Dictionary newFromPairs: {'clientId'. anUser} .		
	fields at: 'password' put: aPassword.
	
	^ self sendRequesFor: '/createCart' with: fields.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:24:53' prior: 50980219!
sendRequestForListPurchases: anUserName

	| fields |
	
	fields _ Dictionary new
	 	at: 'clientId' put: anUserName;
		yourself.
	
	^ self sendRequesFor: '/listPurchases' with: fields.! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:26:06' prior: 50974270!
sendRequestForRemoveToCart: aCartId of: anISBN
	
	| fields |
	
	fields _ Dictionary new
	 	at: 'cartId' put: aCartId;
	 	at: 'isbn' put: anISBN;
		yourself.
	
	^ self sendRequesFor: '/removeToCart' with: fields.! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:26:49' prior: 50978217!
sendRequesForListCart: aCartId 
	
	| fields |
	
	fields _ Dictionary new
	 	at: 'cartId' put: aCartId;
		yourself.
	
	^ self sendRequesFor: '/listCart' with: fields.! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:27:04' prior: 50983361!
sendRequestForListPurchases: anUserName

	| fields |
	
	fields _ Dictionary new
	 	at: 'clientId' put: anUserName;
		yourself.
	
	^ self sendRequesFor: '/listPurchases' with: fields.! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:27:31' prior: 50978200!
sendRequestForAddToCart: aCartId of: anISBN with: aQuantity
	
	| fields |
	
	fields _ Dictionary new
	 	at: 'cartId' put: aCartId;
	 	at: 'isbn' put: anISBN;
		at: 'quantity' put: aQuantity;
		yourself.
	
	^ self sendRequesFor: '/addToCart' with: fields.! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:28:24' prior: 50972472!
sendRequestForCatalog
	
	| fields |
	
	fields _ Dictionary new.
	
	^ self sendRequesFor: '/catalog' with: fields.! !
!TusLibrosInterface methodsFor: 'sending request' stamp: 'ja 7/7/2021 22:28:59' prior: 50976963!
sendRequestForCheckoutToCart: aCartId for: anUserName  
	
	| fields |
	
	fields _ Dictionary new
	 	at: 'cartId' put: aCartId;
		at: 'userName' put: anUserName;
		yourself.
	
	^ self sendRequesFor: '/checkoutCart' with: fields.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowModelCreate methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 22:33:20' prior: 50982814!
createCartRequest
	
	| catalog |
	
	[cartId _ interface sendRequestForCreateCartWithUser: userName andPassword: password]
	on: Error
	do:[:anError | | message | 
		message _ interface messageTextError: anError messageText.
		^TusLibrosClientWindowError openWith: message].
	
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: userName andPassword: password.
	
	! !
!TusLibrosClientWindowCreate class methodsFor: 'instance creation' stamp: 'ja 7/7/2021 22:37:37' prior: 50969132 overrides: 50970628!
open
	
	^self new initializeWith: 'Tus Libros Client'.! !
!TusLibrosClientWindowCreate class methodsFor: 'instance creation' stamp: 'ja 7/7/2021 22:38:10' prior: 50983453 overrides: 50970628!
open
	
	^self new initializeWith: 'Tus Libros'.! !
!TusLibrosClientWindowAddToCart class methodsFor: 'instance creation' stamp: 'ja 7/7/2021 22:38:37' prior: 50979287!
openWith: aCatalog for: aCartId userName: anUserName andPassword: aPassword  

	^self new initializeWith: 'Tus Libros - Bievenido - ',anUserName with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 22:40:52' prior: 50982344 overrides: 50959810!
defaultExtent

	^ 500@300! !

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 22:41:28' prior: 50983483 overrides: 50959810!
defaultExtent

	^ 1000@300! !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 22:42:06' prior: 50983492 overrides: 50959810!
defaultExtent

	^ 1000@300! !
!TusLibrosClientWindowError methodsFor: 'as yet unclassified' stamp: 'ja 7/7/2021 22:42:11' prior: 50983500 overrides: 50959810!
defaultExtent

	^ 800@300! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowAddToCart class methodsFor: 'instance creation' stamp: 'ja 7/7/2021 22:44:32' prior: 50983465!
openWith: aCatalog for: aCartId userName: anUserName andPassword: aPassword  

	^self new initializeWith: ('Tus Libros - Bievenido - ',anUserName) with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowAddToCart class methodsFor: 'instance creation' stamp: 'ja 7/7/2021 22:45:44' prior: 50983528!
openWith: aCatalog for: aCartId userName: anUserName andPassword: aPassword  

	^self new initializeWith: 'Tus Libros - Bievenido' with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/7/2021 22:48:46' prior: 50979896 overrides: 50959724!
buildMorphicWindow

	self layoutMorph beColumn;
	separation: 15;
	axisEdgeWeight: 0;
	addMorph: self buid1stMainRow;
	addMorph: self build2ndRow.! !

TusLibrosClientWindow subclass: #TusLibrosClientWindowError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowError category: 'TusLibros-Model' stamp: 'ja 7/7/2021 23:01:56'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowError
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/7/2021 23:07:16' prior: 50979667!
build1stColumn

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	"Dos opciones para jugar con los layouts... Qu diferencia hay?"
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
	"wordsListMorph layoutSpec proportionalWidth: 100.
	wordsListMorph layoutSpec proportionalHeight: 100."
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/7/2021 23:07:28' prior: 50983585!
build1stColumn

	| wordsListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	wordsListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	wordsListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: wordsListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/7/2021 23:10:03' prior: 50983632!
build1stColumn

	| catalogListMorph quantityTextBoxMorph firstColumnLayoutMorphOfSecondRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	catalogListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	catalogListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnLayoutMorphOfSecondRow := LayoutMorph newColumn.
	firstColumnLayoutMorphOfSecondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: catalogListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnLayoutMorphOfSecondRow layoutSpec fixedWidth: 390.
		
	^firstColumnLayoutMorphOfSecondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/7/2021 23:11:28' prior: 50983674!
build1stColumn

	| catalogListMorph quantityTextBoxMorph firstColumnOfFirstRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	catalogListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	catalogListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnOfFirstRow := LayoutMorph newColumn.
	firstColumnOfFirstRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo de Tus Libros');
	addMorph: catalogListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnOfFirstRow layoutSpec fixedWidth: 390.
		
	^firstColumnOfFirstRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/7/2021 23:11:59' prior: 50979772!
build2ndColumn

	| secondColumnFirstRow removeToCartButtonMorph checkoutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	secondColumnFirstRow := LayoutMorph newColumn.
	secondColumnFirstRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: removeToCartButtonMorph;
	addMorph: checkoutButtonMorph.
	
	secondColumnFirstRow layoutSpec fixedWidth: 390.
		
	^secondColumnFirstRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/7/2021 23:12:16' prior: 50979907!
build2ndRow

	| secondRow historyButtonMorph |
	
	historyButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #historyToCartActionButton label: 'Historial de compras'.	
	
	secondRow := LayoutMorph newColumn.
	secondRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: historyButtonMorph.
	
	secondRow layoutSpec fixedWidth: 390.
		
	^secondRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/7/2021 23:12:48' prior: 50983756!
build2ndColumn

	| secondColumnOfFirstRow removeToCartButtonMorph checkoutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	secondColumnOfFirstRow := LayoutMorph newColumn.
	secondColumnOfFirstRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito de Tus Libros');
	addMorph: cartListMorph;
	addMorph: removeToCartButtonMorph;
	addMorph: checkoutButtonMorph.
	
	secondColumnOfFirstRow layoutSpec fixedWidth: 390.
		
	^secondColumnOfFirstRow.
	! !

TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowAddToCart category: 'TusLibros-Model' stamp: 'ja 7/7/2021 23:14:09'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: 'cartListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!

!classDefinition: #TusLibrosClientWindowAddToCart category: 'TusLibros-Model' stamp: 'ja 7/7/2021 23:14:31'!
TusLibrosClientWindow subclass: #TusLibrosClientWindowAddToCart
	instanceVariableNames: 'cartListMorph'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros-Model'!
!TusLibrosClientWindowAddToCart methodsFor: 'initialization' stamp: 'ja 7/7/2021 23:14:55' prior: 50979327!
initializeWith: aTitle with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword  

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelAddToCart with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			
	self model when: #newItemsArrived send: #refreshCartListOfItems to: self.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'catalog' stamp: 'ja 7/7/2021 23:15:43' prior: 50981201!
catalog

	| catalogList |
	
	catalogList _ OrderedCollection new.
	catalogListISBN _ OrderedCollection new.
	catalog keysAndValuesDo: 
		[:anISBN :aNameBook | catalogList add: anISBN,' ',aNameBook. 
							catalogListISBN add: anISBN].
	
	
	^catalogList! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'history' stamp: 'ja 7/7/2021 23:16:03' prior: 50982936!
historyToCartActionButton
	
	| purchases |
	
	purchases _  interface sendRequestForListPurchases: userName .
	
	TusLibrosClientWindowPurchases withPurchases: purchases.! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'removing' stamp: 'ja 7/7/2021 23:16:24' prior: 50975587!
removeToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[
		| selectedISBN selectedBooks |
		self halt.
		selectedISBN _ cart at: cartSelectedIndex.
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		self halt.
		self triggerEvent: #newItemsArrived with: self.
		]! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'removing' stamp: 'ja 7/7/2021 23:16:46' prior: 50983907!
removeToCartActionButton

	(cartSelectedIndex = 0) ifFalse:[| selectedISBN selectedBooks |
		
		selectedISBN _ cart at: cartSelectedIndex.
		
		interface sendRequestForRemoveToCart: cartId of: selectedISBN.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		
		self triggerEvent: #newItemsArrived with: self]! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowModelAddToCart methodsFor: 'adding' stamp: 'ja 7/7/2021 23:18:31' prior: 50977839!
addToCartActionButton
	
	(catalogSelectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		
		selectedISBN _ catalogListISBN at: catalogSelectedIndex .
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		cart _ OrderedCollection new. 
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		
		self triggerEvent: #newItemsArrived with: self.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'adding' stamp: 'ja 7/7/2021 23:18:44' prior: 50983951!
addToCartActionButton
	
	(catalogSelectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		
		selectedISBN _ catalogListISBN at: catalogSelectedIndex .
		
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		cart _ OrderedCollection new. 
		
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		
		self triggerEvent: #newItemsArrived with: self.
		]
		! !
!TusLibrosClientWindowModelAddToCart methodsFor: 'adding' stamp: 'ja 7/7/2021 23:20:23' prior: 50983970!
addToCartActionButton
	
	(catalogSelectedIndex = 0) ifFalse: [ | selectedISBN selectedBooks |
		
		selectedISBN _ catalogListISBN at: catalogSelectedIndex .
		
		interface sendRequestForAddToCart: cartId of: selectedISBN with: quantity.
		
		selectedBooks _ interface sendRequesForListCart: cartId.
		
		cart _ OrderedCollection new. 
		
		selectedBooks keysAndValuesDo:[:anISBN :aNumberOfTimes | aNumberOfTimes timesRepeat:[cart add: anISBN] ].
		
		self triggerEvent: #newItemsArrived with: self.]
		! !
!TusLibrosClientWindowCreate methodsFor: 'initialization' stamp: 'ja 7/7/2021 23:21:07' prior: 50971853!
initializeWith: aTitle

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelCreate new).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			! !

----SNAPSHOT----(7 July 2021 23:22:54) CuisUniversity-4532.image priorSource: 20834497!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/7/2021 23:31:29'!
PASSED!

----QUIT----(7 July 2021 23:31:42) CuisUniversity-4532.image priorSource: 20875849!

----STARTUP---- (8 July 2021 15:01:44) as /home/jampuero/Documentos/isw1/linux64/CuisUniversity-4532.image!

!TusLibrosClientWindowModelTicket methodsFor: 'action button' stamp: 'ja 7/8/2021 15:10:49' prior: 50982875!
continueShoppingActionButton

	| catalog |
	cartId _ interface sendRequestForCreateCartWithUser: user andPassword: password.
	
	catalog _ interface sendRequestForCatalog.
	
	TusLibrosClientWindowAddToCart openWith: catalog for: cartId userName: user andPassword: password .! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test09CannotRemoveAnItemThatIsNotInTheCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CartTest #test10CanBeRemovedFromTherCartAndNoLongerAppears stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test01CanCreateCartWithValidUserAndPassword stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test02CanNotCreateCartWithInvalidUser stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test03CanNotCreateCartWithInvalidPassword stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test04CanAddItemsToACreatedCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test05CanNotAddItemToNotCreatedCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test06CanNotAddItemNotSellByTheStore stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test07ListCartOfAnEmptyCartReturnsAnEmptyBag stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test08CanNotListCartOfInvalidCartId stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test09ListCartReturnsTheRightNumberOfItems stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test10CanCheckoutACart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test11CanNotCheckoutANotCreatedCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test12CanNotCheckoutAnEmptyCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test13CanNotCheckoutWithAnExpiredCreditCard stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test14ListPurchasesIncludesBoughtItems stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test15CanNotListPurchasesOfInvalidCustomer stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test16CanNotListPurchasesOfValidCustomerWithInvalidPassword stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test17CanNotAddToCartWhenSessionIsExpired stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test18CanNotListCartWhenSessionIsExpired stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test19CanNotCheckOutCartWhenSessionIsExpired stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test20CanRemoveItemsToACreatedCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

!testRun: #TusLibrosSystemFacadeTest #test21CanNotRemoveItemToNotCreatedCart stamp: 'ja 7/8/2021 15:11:26'!
PASSED!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowAddToCart class methodsFor: 'instance creation' stamp: 'ja 7/8/2021 15:13:55' prior: 50983546!
openWith: aCatalog for: aCartId userName: anUserName andPassword: aPassword  

	^self new initializeWith: ('Tus Libros - Bievenido',anUserName asString ) with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword.! !
!TusLibrosClientWindowAddToCart class methodsFor: 'instance creation' stamp: 'ja 7/8/2021 15:13:57' prior: 50984314!
openWith: aCatalog for: aCartId userName: anUserName andPassword: aPassword  

	^self new initializeWith: ('Tus Libros - Bievenido',anUserName asString) with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowAddToCart class methodsFor: 'instance creation' stamp: 'ja 7/8/2021 15:15:29' prior: 50984325!
openWith: aCatalog for: aCartId userName: anUserName andPassword: aPassword  

	^self new initializeWith: ('Tus Libros - Bievenido ',anUserName asString) with: aCatalog for: aCartId andUserName: anUserName andPassword: aPassword.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!
!TusLibrosClientWindowPurchases class methodsFor: 'instance creation' stamp: 'ja 7/8/2021 15:16:11' prior: 50980003!
withPurchases: aPurchases

	^ self new initializeWith: 'Tus Libros - Historial' withPurchases: aPurchases ! !
!TusLibrosClientWindowTicket class methodsFor: 'instance creation' stamp: 'ja 7/8/2021 15:16:46' prior: 50979486!
for: aCartId withUserName: anUserName withPassword: aPassword andTicket: aTicket 

	^self new initializeWith: ('Tus Libros - Ticket - ', anUserName asString) for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket.! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/8/2021 15:18:39' prior: 50983805!
build2ndColumn

	| secondColumnOfFirstRow removeToCartButtonMorph checkoutButtonMorph |
	
	removeToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #removeToCartActionButton label: 'Eliminar del carrito'.	
	
	checkoutButtonMorph := PluggableButtonMorph model: self model stateGetter: nil  action: #checkoutToCartActionButton label: 'Check Out'.	
	
	cartListMorph := PluggableListMorph model: self model listGetter: #cart indexGetter: #cartListIndex indexSetter: #cartListIndex:.
	cartListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	secondColumnOfFirstRow := LayoutMorph newColumn.
	secondColumnOfFirstRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Carrito');
	addMorph: cartListMorph;
	addMorph: removeToCartButtonMorph;
	addMorph: checkoutButtonMorph.
	
	secondColumnOfFirstRow layoutSpec fixedWidth: 390.
		
	^secondColumnOfFirstRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/8/2021 15:18:49' prior: 50983716!
build1stColumn

	| catalogListMorph quantityTextBoxMorph firstColumnOfFirstRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	catalogListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	catalogListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnOfFirstRow := LayoutMorph newColumn.
	firstColumnOfFirstRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo');
	addMorph: catalogListMorph;
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnOfFirstRow layoutSpec fixedWidth: 390.
		
	^firstColumnOfFirstRow.
	! !
!TusLibrosClientWindowAddToCart methodsFor: 'GUI building' stamp: 'ja 7/8/2021 15:19:22' prior: 50984417!
build1stColumn

	| catalogListMorph quantityTextBoxMorph firstColumnOfFirstRow addToCartButtonMorph |
	
	addToCartButtonMorph := PluggableButtonMorph model: self model stateGetter: nil action: #addToCartActionButton label: 'Agregar al carrito'.	
	
	catalogListMorph := PluggableListMorph model: self model listGetter: #catalog indexGetter: #catalogListIndex indexSetter: #catalogListIndex:.
	catalogListMorph  borderColor: Color skyBlue; borderWidth: 1; morphWidth:300.
	
	quantityTextBoxMorph := TextModelMorph textProvider: self model textGetter: #quantityText textSetter: #quantityText:. 
	quantityTextBoxMorph textMorph setProperty: #keyStroke: toValue: [ :key | quantityTextBoxMorph textMorph acceptContents ] .
	quantityTextBoxMorph  borderWidth: 1; borderColor: Color skyBlue; morphWidth: 300; morphHeight: 50. 
	
	firstColumnOfFirstRow := LayoutMorph newColumn.
	firstColumnOfFirstRow separation: 5; 
	axisEdgeWeight: 0.5;
	addMorph: (LabelMorph contents:'Catalogo');
	addMorph: catalogListMorph;
	addMorph: (LabelMorph contents:'Ingrese una cantidad:');
	addMorph: quantityTextBoxMorph;
	addMorph: addToCartButtonMorph.
	
	firstColumnOfFirstRow layoutSpec fixedWidth: 390.
		
	^firstColumnOfFirstRow.
	! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !
!TusLibrosClientWindowPurchases methodsFor: 'initialization' stamp: 'ja 7/8/2021 15:23:20' prior: 50980028!
initializeWith: aTitle withPurchases: aPurchases 

self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelPurchases with: aPurchases).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			! !
!TusLibrosClientWindowTicket methodsFor: 'initialization' stamp: 'ja 7/8/2021 15:23:27' prior: 50979523!
initializeWith: aTitle for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket 

	self titleMorph showButtonsNamed: #( close collapse ).
	self setLabel: aTitle.
	self model: (TusLibrosClientWindowModelTicket for: aCartId userName: anUserName withPassword: aPassword andTicket: aTicket).
	self morphExtent: (self defaultExtent).
	self buildMorphicWindow.
	self openInWorld.
	self yourself.
			! !

TusLibrosRestInterface allInstances do:[:x | x destroy]. !

server _ TusLibrosRestInterface startIn: 8083.!

client _ TusLibrosClientWindow open.!

TusLibrosRestInterface allInstances do:[:x | x destroy]. !